<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>ReportGrid.Visualizations</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="language" content="en" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<link rel="stylesheet" type="text/css" href="css/rg.css"/>
	<link rel="stylesheet" href="css/rg-colors20b.css" type="text/css"/>
<!--
	<link rel="stylesheet" type="text/css" href="css/rg-debug.css"/>
-->
	<!-- FOR DIFFENT COLOR SCHEMES TRY THE FOLLOWINGS: -->
<!--
	<link rel="stylesheet" href="css/rg-colors20.css" type="text/css"/>
	<link rel="stylesheet" href="css/rg-colors20b.css" type="text/css"/>
	<link rel="stylesheet" href="css/rg-colors20c.css" type="text/css"/>
	<link rel="stylesheet" href="css/rg-colors-mono-blue.css" type="text/css"/>
	<link rel="stylesheet" href="css/rg-colors-mono-green.css" type="text/css"/>
	<link rel="stylesheet" href="css/rg-colors-mono-red.css" type="text/css"/>
-->
	<script src="js/reportgrid-core.js?tokenId=C7A18C95-3619-415B-A89B-4CE47693E4CC"></script>
	<script src="js/reportgrid-viz.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(){
	ReportGrid.leaderBoard("#chart", {
		axes : [{
			type : ".platform"
		}, {
			type : "count"
		}],
		data : {
			src : { path : "/rgadnet", event : "impression", query : ".platform" }
		},
		options : {
			animation : {
				animated : true,
				duration : 500,
				ease : function(f) { return f; },
				delay : 500
			},
			label : {
				datapoint : function(dp) { return dp[".platform"] + ": " + ReportGrid.format(dp["count"]); }
			},
			click : function(dp) { alert(dp[".platform"]); },
			sort : function(d1, d2) { return ReportGrid.compare(d2[".platform"], d1[".platform"]); }
		}
	});
	ReportGrid.pivotTable("#chart2", {
		axes : [{
			type: ".ageRange"
		}, {
			type: ".gender"
		}/*, {
			type: ".#time:week",
			view : ["4 weeks ago", "now"]
		}*/, {
			type: "count"
		}],
		data : {
			src: { path : "/rgadnet", event : "impression", query : ".ageRange * .gender" /* * .#time:week */ }
		},
		options : {
			columnaxes : 1,
			startcolor : "#ff0000",
			endcolor : "#000000",
			displayheatmap : true,
			click : function(dp) { alert(ReportGrid.dump(dp)) },
			label : {
				datapoint : function(dp, stats) { return ReportGrid.dump(dp) + " " + ReportGrid.dump(stats) },
				datapointover : function(dp, stats) { return ReportGrid.dump(dp) + " " + ReportGrid.dump(stats) },
				axis : function(axis) { return axis },
				axisvalue : function(value, axis) { return value + ": " + axis },
				total : function(v, stats) { return v + " " + stats }
			}
/*
			sort : function(a,b) { 
				var av = parseInt(a[".ageRange"].split("-")[0]),
					bv = parseInt(b[".ageRange"].split("-")[0]);
				return av - bv;
			},
			label : {
				title : "The Eye",
				datapoint : function(dp) { 
					var v = dp["count"];
					if(v < 6500)
						return null;
					else
						return "age " + dp[".ageRange"] + ": " + ReportGrid.format(v);
				}
			}
*/
		}
	});

}, false)
</script>
</head>
<body>
	<div id="chart"></div>
	<div id="chart2"></div>
	<div id="haxe:trace"></div>
</body>
</html>