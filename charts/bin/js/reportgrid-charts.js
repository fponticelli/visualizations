(function(){var Ma,Ia,Ra,Na,la,Ba,Ja,Wa,xc,ub,yc,R,ta,hd,Oa,zc,Ac,Y,Bc,Cc,Dc,Ec,Fc,Gc,bb,Hc,Ic,Lb,ua,Ca,lb,id,Mb,Jc,mb,za,cb,db,Tb,eb,vb,fb,Sa,Ub,nb,hc,wb,Kc,Lc,gb,Fa,Z,ha,o,m,L,wa,xb,ic,N,ga,jd,kd,xa,pa,J,jc,yb,zb,z,Ta,Da,Ab,ld,md,nd,hb,Mc,od,Bb,pd,Bd,Vb,kc,qd,rd,lc,Cb,O,Nc,Oc,Pc,Qc,Rc,Sc,Tc,ib,Uc,mc,Vc,Wc,nc,oc,Db,Xc,pc,qc,Xa,qa,jb,Ka,Eb,Wb,ra,ob,Xb,Yb,Zb,rc,pb,Ua,n,x,B,q,P,e,p,W,K,Fb,s,Ga,Va,La,sc,Cd,r,na,Dd,sd,Yc,$b,Gb,H,aa,Hb,ya;function w(a,b){function c(){}c.prototype=a;var d=new c,f;for(f in b)d[f]=
b[f];return d}var ia,v=function(){return D.Boot.__string_rec(this,"")},y=function(){};y.__name__=["Arrays"];y.addIf=function(a,b,c){null!=b?b&&a.push(c):null!=c&&a.push(c);return a};y.filter=function(a,b){for(var c=[],d=0;d<a.length;){var f=a[d];++d;b(f)&&c.push(f)}return c};y.min=function(a,b){if(0==a.length)return null;if(null==b)for(var c=a[0],d=0,f=S.comparef(c),g=1,h=a.length;g<h;){var e=g++;0<f(c,a[e])&&(c=a[d=e])}else{c=b(a[0]);d=0;g=1;for(h=a.length;g<h;)if(e=g++,c>(f=b(a[e])))c=f,d=e}return a[d]};
y.max=function(a,b){if(0==a.length)return null;if(null==b)for(var c=a[0],d=0,f=S.comparef(c),g=1,h=a.length;g<h;){var e=g++;0>f(c,a[e])&&(c=a[d=e])}else{c=b(a[0]);d=0;g=1;for(h=a.length;g<h;)if(e=g++,c<(f=b(a[e])))c=f,d=e}return a[d]};y.floatMax=function(a,b){if(0==a.length)return Math.NaN;for(var c=b(a[0]),d,f=1,g=a.length;f<g;)if(d=f++,c<(d=b(a[d])))c=d;return c};y.flatten=function(a){for(var b=[],c=0;c<a.length;){var d=a[c];++c;b=b.concat(d)}return b};y.map=function(a,b){return a.map(b)};y.reduce=
function(a,b,c){return a.reduce(b,c)};y.order=function(a,b){a.sort(null==b?S.compare:b);return a};y.exists=function(a,b,c){if(null!=c)for(var d=0;d<a.length;){var f=a[d];++d;if(c(f))return!0}else for(d=0;d<a.length;)if(f=a[d],++d,f==b)return!0;return!1};y.format=function(a,b,c,d){c=n.FormatParams.params(b,c,"J");b=c.shift();switch(b){case "J":if(0==a.length)return null==c[1]?"[]":c[1];var b=null==c[2]?", ":c[2],f=null==c[3]?null:""==c[3]?null:i.parseInt(c[3]);if(null!=f&&f<a.length){var g=null==c[4]?
" ...":c[4];return a.copy().splice(0,f).map(function(a){return S.format(a,c[0],null,null,d)}).join(b)+g}return a.map(function(a){return S.format(a,c[0],null,null,d)}).join(b);case "C":return I.format(a.length,"I",[],d);default:throw"Unsupported array format: "+b;}};y.indexOf=function(a,b){return a.indexOf(b)};y.each=function(a,b){a.forEach(b)};y.all=function(a,b){return M.all(a.iterator(),b)};y.string=function(a){return"["+a.map(function(a){return S.string(a)}).join(", ")+"]"};y.last=function(a){return a[a.length-
1]};y.first=function(a){return a[0]};y.firstf=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(b(d))return d}return null};y.nearest=function(a,b,c){for(var d=[],f=0,g=a.length;f<g;){var h=f++;d.push({i:h,v:Math.abs(c(a[h])-b)})}d.sort(function(a,b){return C.compare(a.v,b.v)});return a[d[0].i]};y.compare=function(a,b){var c;if(0!=(c=a.length-b.length))return c;for(var d=0,f=a.length;d<f;)if(c=d++,0!=(c=S.compare(a[c],b[c])))return c;return 0};y.rotate=function(a){if(0==a.length)return[];for(var b=
[],c=0,d=a[0].length;c<d;){var f=c++;b[f]=[]}c=0;for(d=a.length;c<d;)for(var g=c++,h=0,e=a[0].length;h<e;)f=h++,b[f][g]=a[g][f];return b};y.prototype={__class__:y};var Nb=function(){};Nb.__name__=["Bools"];Nb.format=function(a,b,c,d){return Nb.formatf(b,c,d)(a)};Nb.formatf=function(a,b){var b=n.FormatParams.params(a,b,"B"),c=b.shift();switch(c){case "B":return function(a){return a?"true":"false"};case "N":return function(a){return a?"1":"0"};case "R":if(2!=b.length)throw"bool format R requires 2 parameters";
return function(a){return a?b[0]:b[1]};default:throw"Unsupported bool format: "+c;}};Nb.compare=function(a,b){return a==b?0:a?-1:1};Nb.prototype={__class__:Nb};var kb=function(a,b){this.length=a;this.b=b};kb.__name__=["Bytes"];kb.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new kb(a,b)};kb.ofString=function(a){for(var b=[],c=0,d=a.length;c<d;){var f=c++,f=a.cca(f);127>=f?b.push(f):(2047>=f?b.push(192|f>>6):(65535>=f?b.push(224|f>>12):(b.push(240|f>>18),b.push(128|f>>12&63)),b.push(128|
f>>6&63)),b.push(128|f&63))}return new kb(b.length,b)};kb.prototype={length:null,b:null,get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},blit:function(a,b,c,d){null==d&&(d=b.length-c);c+d>b.length&&(d=b.length-c);if(0>a||0>c||0>d||a+d>this.length||c+d>b.length)throw new H.OutsideBoundsException;var f=this.b,b=b.b;if(f==b&&a>c)for(var g=d;0<g;)g--,f[g+a]=b[g+c];else for(var h=0;h<d;)g=h++,f[g+a]=b[g+c]},sub:function(a,b){null==b&&(b=this.length-a);a+b>this.length&&(b=this.length-
a);if(0>a||0>b)throw new H.OutsideBoundsException;return new kb(b,this.b.slice(a,a+b))},readString:function(a,b){if(0>a||0>b||a+b>this.length)throw new H.OutsideBoundsException;for(var c="",d=this.b,f=String.fromCharCode,g=a,h=a+b;g<h;){var e=d[g++];if(128>e){if(0==e)break;c+=f(e)}else if(224>e)c+=f((e&63)<<6|d[g++]&127);else if(240>e)var t=d[g++],c=c+f((e&31)<<12|(t&127)<<6|d[g++]&127);else var t=d[g++],l=d[g++],c=c+f((e&15)<<18|(t&127)<<12|l<<6&127|d[g++]&127)}return c},toString:function(){return this.readString(0,
this.length)},getData:function(){return this.b},__class__:kb};var ac=function(){this.b=[]};ac.__name__=["BytesBuffer"];ac.prototype={b:null,addByte:function(a){this.b.push(a)},add:function(a){for(var b=a.b,c=0,a=a.length;c<a;){var d=c++;this.b.push(b[d])}},addBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw new H.OutsideBoundsException;for(var a=a.b,d=b,b=b+c;d<b;)c=d++,this.b.push(a[c])},getBytes:function(){var a=new kb(this.b.length,this.b);this.b=null;return a},writeByte:function(a){this.b.push(a)},
__class__:ac};var qb=function(){};qb.__name__=["BytesUtil"];qb.EMPTY=null;qb.cleanHexFormat=function(a){a=E.replace(a,":","");a=a.split("|").join("");a=(new Q("([\\s]*)","g")).replace(a,"");E.startsWith(a,"0x")&&(a=a.substr(2));1==(a.length&1)&&(a="0"+a);return a.toLowerCase()};qb.hexDump=function(a,b){return qb.toHex(a,b)};qb.toHex=function(a,b){null==b&&(b=" ");for(var c=new Ob,d=a.length,f=!0,g=0;g<d;){var e=g++;f?f=!1:c.b[c.b.length]=null==b?"null":b;c.add(E.hex(a.b[e],2).toLowerCase())}return E.rtrim(c.b.join(""))};
qb.prototype={__class__:qb};var Zc=function(){};Zc.__name__=["DateTools"];Zc.getMonthDays=function(a){var b=a.getMonth(),a=a.getFullYear();return 1!=b?Zc.DAYS_OF_MONTH[b]:0==a%4&&0!=a%100||0==a%400?29:28};Zc.prototype={__class__:Zc};var Q=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};Q.__name__=["EReg"];Q.prototype={r:null,match:function(a){this.r.m=this.r.exec(a);this.r.s=a;this.r.l=RegExp.leftContext;this.r.r=RegExp.rightContext;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&
0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return null==this.r.l?this.r.s.substr(0,this.r.m.index):this.r.l},matchedRight:function(){if(null==this.r.m)throw"No string matched";if(null==this.r.r){var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,this.r.s.length-a)}return this.r.r},replace:function(a,b){return a.replace(this.r,b)},customReplace:function(a,b){for(var c=new Ob;this.match(a);){c.add(this.matchedLeft());
c.add(b(this));a=this.matchedRight()}c.b[c.b.length]=null==a?"null":a;return c.b.join("")},__class__:Q};var sa=function(){};sa.__name__=["Dates"];sa.format=function(a,b,c,d){return sa.formatf(b,c,d)(a)};sa.formatf=function(a,b,c){b=n.FormatParams.params(a,b,"D");a=b.shift();switch(a){case "D":return function(a){return n.FormatDate.date(a,c)};case "DS":return function(a){return n.FormatDate.dateShort(a,c)};case "DST":return function(a){return n.FormatDate.dateShort(a,c)+" "+n.FormatDate.time(a,c)};
case "DSTS":return function(a){return n.FormatDate.dateShort(a,c)+" "+n.FormatDate.timeShort(a,c)};case "DTS":return function(a){return n.FormatDate.date(a,c)+" "+n.FormatDate.timeShort(a,c)};case "Y":return function(a){return n.FormatDate.year(a,c)};case "YM":return function(a){return n.FormatDate.yearMonth(a,c)};case "M":return function(a){return n.FormatDate.month(a,c)};case "MN":return function(a){return n.FormatDate.monthName(a,c)};case "MS":return function(a){return n.FormatDate.monthNameShort(a,
c)};case "MD":return function(a){return n.FormatDate.monthDay(a,c)};case "WD":return function(a){return n.FormatDate.weekDay(a,c)};case "WDN":return function(a){return n.FormatDate.weekDayName(a,c)};case "WDS":return function(a){return n.FormatDate.weekDayNameShort(a,c)};case "R":return function(a){return n.FormatDate.dateRfc(a,c)};case "DT":return function(a){return n.FormatDate.dateTime(a,c)};case "U":return function(a){return n.FormatDate.universal(a,c)};case "S":return function(a){return n.FormatDate.sortable(a,
c)};case "T":return function(a){return n.FormatDate.time(a,c)};case "TS":return function(a){return n.FormatDate.timeShort(a,c)};case "C":var d=b[0];return null==d?function(a){return n.FormatDate.date(a,c)}:function(a){return n.FormatDate.format(d,a,c,null!=b[1]?"true"==b[1]:!0)};default:throw new x.Error("Unsupported date format: {0}",null,a,{fileName:"Dates.hx",lineNumber:71,className:"Dates",methodName:"formatf"});}};sa.interpolate=function(a,b,c,d){return sa.interpolatef(b,c,d)(a)};sa.interpolatef=
function(a,b,c){var d=C.interpolatef(a.getTime(),b.getTime(),c);return function(a){return Date.fromTime(d(a))}};sa.snap=function(a,b,c){null==c&&(c=0);if(0>c)switch(b){case "second":return 1E3*Math.floor(a/1E3);case "minute":return 6E4*Math.floor(a/6E4);case "hour":return 36E5*Math.floor(a/36E5);case "day":return b=Date.fromTime(a),(new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0)).getTime();case "week":return 6048E5*Math.floor(a/6048E5);case "month":return b=Date.fromTime(a),(new Date(b.getFullYear(),
b.getMonth(),1,0,0,0)).getTime();case "year":return b=Date.fromTime(a),(new Date(b.getFullYear(),0,1,0,0,0)).getTime();default:return 0}else if(0<c)switch(b){case "second":return 1E3*Math.ceil(a/1E3);case "minute":return 6E4*Math.ceil(a/6E4);case "hour":return 36E5*Math.ceil(a/36E5);case "day":return b=Date.fromTime(a),(new Date(b.getFullYear(),b.getMonth(),b.getDate()+1,0,0,0)).getTime();case "week":return 6048E5*Math.ceil(a/6048E5);case "month":return b=Date.fromTime(a),(new Date(b.getFullYear(),
b.getMonth()+1,1,0,0,0)).getTime();case "year":return b=Date.fromTime(a),(new Date(b.getFullYear()+1,0,1,0,0,0)).getTime();default:return 0}else switch(b){case "second":return 1E3*Math.round(a/1E3);case "minute":return 6E4*Math.round(a/6E4);case "hour":return 36E5*Math.round(a/36E5);case "day":return b=Date.fromTime(a),a=12<=b.getHours()?1:0,(new Date(b.getFullYear(),b.getMonth(),b.getDate()+a,0,0,0)).getTime();case "week":return 6048E5*Math.round(a/6048E5);case "month":return b=Date.fromTime(a),
a=b.getDate()>Math.round(Zc.getMonthDays(b)/2)?1:0,(new Date(b.getFullYear(),b.getMonth()+a,1,0,0,0)).getTime();case "year":return b=Date.fromTime(a),a=a>(new Date(b.getFullYear(),6,2,0,0,0)).getTime()?1:0,(new Date(b.getFullYear()+a,0,1,0,0,0)).getTime();default:return 0}};sa.snapToWeekDay=function(a,b){var c=Date.fromTime(a).getDay(),d=0;switch(b.toLowerCase()){case "sunday":d=0;break;case "monday":d=1;break;case "tuesday":d=2;break;case "wednesday":d=3;break;case "thursday":d=4;break;case "friday":d=
5;break;case "saturday":d=6;break;default:throw new x.Error("unknown week day '{0}'",null,b,{fileName:"Dates.hx",lineNumber:186,className:"Dates",methodName:"snapToWeekDay"});}return a-864E5*((c-d)%7)};sa.canParse=function(a){return sa._reparse.match(a)};sa.parse=function(a){var a=a.split("."),b=Date.fromString(E.replace(a[0],"T"," "));1<a.length&&(b=Date.fromTime(b.getTime()+i.parseInt(a[1])));return b};sa.compare=function(a,b){return C.compare(a.getTime(),b.getTime())};sa.prototype={__class__:sa};
var S=function(){};S.__name__=["Dynamics"];S.format=function(a,b,c,d,f){return S.formatf(b,c,d,f)(a)};S.formatf=function(a,b,c,d){null==c&&(c="null");return function(f){var g=A["typeof"](f);switch(g[1]){case 0:return c;case 1:return I.format(f,a,b,d);case 2:return C.format(f,a,b,d);case 3:return Nb.format(f,a,b,d);case 6:return g=g[2],g==String?F.formatOne(f,a,b,d):g==Array?y.format(f,a,b,d):g==Date?sa.format(f,a,b,d):ma.format(f,a,b,d);case 4:return ma.format(f,a,b,d);case 5:return"function()";default:throw new x.Error("Unsupported type format: {0}",
null,A["typeof"](f),{fileName:"Dynamics.hx",lineNumber:44,className:"Dynamics",methodName:"formatf"});}}};S.string=function(a){var b=A["typeof"](a);switch(b[1]){case 0:return"null";case 1:return I.format(a);case 2:return C.format(a);case 3:return Nb.format(a);case 4:for(var b=j.fields(a),c=[],d=0;d<b.length;){var f=b[d];++d;c.push(f+" : "+S.string(j.field(a,f)))}return"{"+c.join(", ")+"}";case 6:switch(A.getClassName(b[2])){case "Array":return y.string(a);case "String":return 0>a.indexOf('"')?'"'+
a+'"':0>a.indexOf("'")?"'"+a+"'":'"'+E.replace(a,'"','\\"')+'"';case "Date":return sa.format(a);default:return i.string(a)}case 7:return tc.string(a);case 8:return"<unknown>";case 5:return"<function>"}};S.compare=function(a,b){if(!Ha.sameType(a,b))throw new x.Error("cannot compare 2 different types",null,null,{fileName:"Dynamics.hx",lineNumber:131,className:"Dynamics",methodName:"compare"});if(null==a&&null==b)return 0;if(null==a)return-1;if(null==b)return 1;var c=A["typeof"](a);switch(c[1]){case 1:case 2:return a<
b?-1:a>b?1:0;case 3:return a==b?0:a?-1:1;case 4:return ma.compare(a,b);case 6:switch(A.getClassName(c[2])){case "Array":return y.compare(a,b);case "String":return F.compare(a,b);case "Date":return C.compare(a.getTime(),b.getTime());default:return F.compare(i.string(a),i.string(b))}case 7:return tc.compare(a,b);default:return 0}};S.comparef=function(a){a=A["typeof"](a);switch(a[1]){case 1:case 2:return C.compare;case 3:return Nb.compare;case 4:return ma.compare;case 6:switch(A.getClassName(a[2])){case "Array":return y.compare;
case "String":return F.compare;case "Date":return sa.compare;default:return function(a,c){return F.compare(i.string(a),i.string(c))}}case 7:return tc.compare;default:return S.compare}};S.clone=function(a,b){null==b&&(b=!1);var c=A["typeof"](a);switch(c[1]){case 0:return null;case 1:case 2:case 3:case 7:case 8:case 5:return a;case 4:var d={};ma.copyTo(a,d);return d;case 6:switch(c=c[2],A.getClassName(c)){case "Array":d=[];for(c=0;c<a.length;){var f=a[c];++c;d.push(S.clone(f))}return d;case "String":case "Date":return a;
default:if(b){d=A.createEmptyInstance(c);c=0;for(f=j.fields(a);c<f.length;){var g=f[c];++c;d[g]=S.clone(j.field(a,g))}return d}return a}}};S.same=function(a,b){var c=Ha.typeName(a),d=Ha.typeName(b);if(c!=d)return!1;c=A["typeof"](a);switch(c[1]){case 2:return C.equals(a,b);case 0:case 1:case 3:return a==b;case 5:return j.compareMethods(a,b);case 6:c=A.getClassName(c[2]);d=A.getClassName(A.getClass(b));if(c!=d||i.is(a,String)&&a!=b)return!1;if(i.is(a,Array)){var d=a,f=b;if(d.length!=f.length)return!1;
for(var g=0,c=d.length;g<c;){var e=g++;if(!S.same(d[e],f[e]))return!1}return!0}if(i.is(a,Date))return a.getTime()==b.getTime();if(i.is(a,ba)||i.is(a,bc)){d=M.array(a.keys());c=M.array(b.keys());if(d.length!=c.length)return!1;for(c=0;c<d.length;)if(g=d[c],++c,!b.exists(g)||!S.same(a.get(g),b.get(g)))return!1;return!0}c=!1;if((c=M.isIterator(a))||Ya.isIterable(a)){d=c?M.array(a):M.array(a.iterator());f=c?M.array(b):M.array(b.iterator());if(d.length!=f.length)return!1;g=0;for(c=d.length;g<c;)if(e=g++,
!S.same(d[e],f[e]))return!1;return!0}e=A.getInstanceFields(A.getClass(a));for(c=0;c<e.length;)if(g=e[c],++c,d=j.field(a,g),!j.isFunction(d)&&(f=j.field(b,g),!S.same(d,f)))return!1;return!0;case 7:c=A.getEnumName(c[2]);d=A.getEnum(b);d=A.getEnumName(d);if(c!=d||a[1]!=b[1])return!1;d=a.slice(2);f=b.slice(2);g=0;for(c=d.length;g<c;)if(e=g++,!S.same(d[e],f[e]))return!1;return!0;case 4:for(var e=j.fields(a),k=j.fields(b),c=0;c<e.length;){g=e[c];++c;k.remove(g);if(!j.hasField(b,g))return!1;d=j.field(a,
g);if(!j.isFunction(d)&&(f=j.field(b,g),!S.same(d,f)))return!1}if(0<k.length)return!1;if((c=M.isIterator(a))||Ya.isIterable(a)){if(c&&!M.isIterator(b)||!c&&!Ya.isIterable(b))return!1;d=c?M.array(a):M.array(a.iterator());f=c?M.array(b):M.array(b.iterator());if(d.length!=f.length)return!1;g=0;for(c=d.length;g<c;)if(e=g++,!S.same(d[e],f[e]))return!1}return!0;case 8:throw"Unable to compare two unknown types";}throw new x.Error("Unable to compare values: {0} and {1}",[a,b],null,{fileName:"Dynamics.hx",
lineNumber:370,className:"Dynamics",methodName:"same"});};S.number=function(a){return Number(a)};S.prototype={__class__:S};var tc=function(){};tc.__name__=["Enums"];tc.string=function(a){for(var b=a[0],c=[],d=0,a=a.slice(2);d<a.length;){var f=a[d];++d;c.push(S.string(f))}return b+(0==c.length?"":"("+c.join(", ")+")")};tc.compare=function(a,b){var c;return 0!=(c=a[1]-b[1])?c:y.compare(a.slice(2),b.slice(2))};tc.prototype={__class__:tc};var C=function(){};C.__name__=["Floats"];C.normalize=function(a){return 0>
a?0:1<a?1:a};C.range=function(a,b,c){null==c&&(c=1);null==b&&(b=a,a=0);if((b-a)/c==Math.POSITIVE_INFINITY)throw new x.Error("infinite range",null,null,{fileName:"Floats.hx",lineNumber:50,className:"Floats",methodName:"range"});var d=[],f=-1,g;if(0>c)for(;(g=a+c*++f)>b;)d.push(g);else for(;(g=a+c*++f)<b;)d.push(g);return d};C.min=function(a,b){return a<b?a:b};C.max=function(a,b){return a>b?a:b};C.circularWrap=function(a,b){a%=b;0>a&&(a+=b);return a};C.interpolate=function(a,b,c,d){null==c&&(c=1);null==
b&&(b=0);if(null==d)d=B.Equations.linear;return b+d(a)*(c-b)};C.interpolatef=function(a,b,c){null==b&&(b=1);null==a&&(a=0);if(null==c)c=B.Equations.linear;var d=b-a;return function(b){return a+c(b)*d}};C.format=function(a,b,c,d){return C.formatf(b,c,d)(a)};C.formatf=function(a,b,c){var b=n.FormatParams.params(a,b,"D"),a=b.shift(),d=0<b.length?i.parseInt(b[0]):null;switch(a){case "D":return function(a){return n.FormatNumber.decimal(a,d,c)};case "I":return function(a){return n.FormatNumber["int"](a,
c)};case "C":var f=1<b.length?b[1]:null;return function(a){return n.FormatNumber.currency(a,f,d,c)};case "P":return function(a){return n.FormatNumber.percent(a,d,c)};case "M":return function(a){return n.FormatNumber.permille(a,d,c)};default:throw new x.Error("Unsupported number format: {0}",null,a,{fileName:"Floats.hx",lineNumber:145,className:"Floats",methodName:"formatf"});}};C.parse=function(a){"+"==a.substr(0,1)&&(a=a.substr(1));return i.parseFloat(a)};C.compare=function(a,b){return a<b?-1:a>
b?1:0};C.equals=function(a,b,c){null==c&&(c=1.0E-5);return Math.isNaN(a)?Math.isNaN(b):Math.isNaN(b)?!1:!Math.isFinite(a)&&!Math.isFinite(b)?0<a==0<b:Math.abs(b-a)<c};C.uninterpolatef=function(a,b){b=1/(b-a);return function(c){return(c-a)*b}};C.prototype={__class__:C};var ba=function(){this.h={}};ba.__name__=["Hash"];ba.prototype={h:null,set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;
delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return a.iterator()},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},__class__:ba};var Pa=function(){};Pa.__name__=["I32"];Pa.abs=function(a){return Math.abs(a)|0};Pa.add=function(a,b){return a+b};Pa.baseEncode=function(a,b){if(2>b||36<b)throw"radix out of range";for(var c="",d=Math.abs(a)|
0;;){var f=d%b,c="0123456789abcdefghijklmnopqrstuvwxyz".charAt(f&-1)+c,d=(d-f)/b|0;if(0==d)break}return 0>a?"-"+c:c};Pa.div=function(a,b){return a/b|0};Pa.eq=function(a,b){return a==b};Pa.lt=function(a,b){return a<b};Pa.mod=function(a,b){return a%b};Pa.ofInt=function(a){return a};Pa.sub=function(a,b){return a-b};Pa.toInt=function(a){return a&-1};Pa.prototype={__class__:Pa};var bc=function(){this.h={}};bc.__name__=["IntHash"];bc.prototype={h:null,set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},
remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return a.iterator()},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref[this.it.next()]}}},__class__:bc};var $c=function(){};$c.__name__=["IntHashes"];$c.count=function(a){for(var b=0,a=a.iterator();a.hasNext();)a.next(),b++;return b};$c.prototype={__class__:$c};
var I=function(){};I.__name__=["Ints"];I.range=function(a,b,c){null==c&&(c=1);null==b&&(b=a,a=0);if((b-a)/c==Math.POSITIVE_INFINITY)throw new x.Error("infinite range",null,null,{fileName:"Ints.hx",lineNumber:19,className:"Ints",methodName:"range"});var d=[],f=-1,g;if(0>c)for(;(g=a+c*++f)>b;)d.push(g);else for(;(g=a+c*++f)<b;)d.push(g);return d};I.abs=function(a){return 0>a?-a:a};I.min=function(a,b){return a<b?a:b};I.max=function(a,b){return a>b?a:b};I.clamp=function(a,b,c){return a<b?b:a>c?c:a};I.interpolate=
function(a,b,c,d){null==c&&(c=100);null==b&&(b=0);if(null==d)d=B.Equations.linear;return Math.round(b+d(a)*(c-b))};I.interpolatef=function(a,b,c){null==b&&(b=1);null==a&&(a=0);if(null==c)c=B.Equations.linear;var d=b-a;return function(b){return Math.round(a+c(b)*d)}};I.format=function(a,b,c,d){return I.formatf(b,c,d)(a)};I.formatf=function(a,b,c){return C.formatf(null,n.FormatParams.params(a,b,"I"),c)};I.canParse=function(a){return I._reparse.match(a)};I.parse=function(a){"+"==a.substr(0,1)&&(a=a.substr(1));
return i.parseInt(a)};I.compare=function(a,b){return a-b};I.prototype={__class__:I};var Ya=function(){};Ya.__name__=["Iterables"];Ya.count=function(a){return M.count(a.iterator())};Ya.array=function(a){return M.array(a.iterator())};Ya.map=function(a,b){return M.map(a.iterator(),b)};Ya.each=function(a,b){return M.each(a.iterator(),b)};Ya.filter=function(a,b){return M.filter(a.iterator(),b)};Ya.firstf=function(a,b){return M.firstf(a.iterator(),b)};Ya.order=function(a,b){return y.order(M.array(a.iterator()),
b)};Ya.isIterable=function(a){var b=j.isObject(a)&&null==A.getClass(a)?j.fields(a):A.getInstanceFields(A.getClass(a));return!ad.has(b,"iterator")?!1:j.isFunction(j.field(a,"iterator"))};Ya.prototype={__class__:Ya};var M=function(){};M.__name__=["Iterators"];M.count=function(a){for(var b=0;a.hasNext();)a.next(),b++;return b};M.array=function(a){for(var b=[];a.hasNext();){var c=a.next();b.push(c)}return b};M.map=function(a,b){for(var c=[],d=0;a.hasNext();){var f=a.next();c.push(b(f,d++))}return c};
M.each=function(a,b){for(var c=0;a.hasNext();){var d=a.next();b(d,c++)}};M.filter=function(a,b){for(var c=[];a.hasNext();){var d=a.next();b(d)&&c.push(d)}return c};M.all=function(a,b){for(;a.hasNext();){var c=a.next();if(!b(c))return!1}return!0};M.firstf=function(a,b){for(;a.hasNext();){var c=a.next();if(b(c))return c}return null};M.order=function(a,b){return y.order(M.array(a),b)};M.isIterator=function(a){var b=j.isObject(a)&&null==A.getClass(a)?j.fields(a):A.getInstanceFields(A.getClass(a));return!ad.has(b,
"next")||!ad.has(b,"hasNext")?!1:j.isFunction(j.field(a,"next"))&&j.isFunction(j.field(a,"hasNext"))};M.prototype={__class__:M};var ad=function(){};ad.__name__=["Lambda"];ad.has=function(a,b,c){if(null==c)for(c=a.iterator();c.hasNext();){if(a=c.next(),a==b)return!0}else for(var d=a.iterator();d.hasNext();)if(a=d.next(),c(a,b))return!0;return!1};ad.prototype={__class__:ad};var Hd=function(){};Hd.__name__=["List"];Hd.prototype={h:null,iterator:function(){return{h:this.h,hasNext:function(){return null!=
this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},__class__:Hd};var ma=function(){};ma.__name__=["Objects"];ma.keys=function(a){return j.fields(a)};ma.entries=function(a){for(var b=[],c=0,d=j.fields(a);c<d.length;){var f=d[c];++c;b.push({key:f,value:j.field(a,f)})}return b};ma.copyTo=function(a,b){for(var c=0,d=j.fields(a);c<d.length;){var f=d[c];++c;var g=S.clone(j.field(a,f)),e=j.field(b,f);j.isObject(g)&&null==A.getClass(g)&&j.isObject(e)&&null==A.getClass(e)?
ma.copyTo(g,e):b[f]=g}return b};ma.clone=function(a){return ma.copyTo(a,{})};ma.compare=function(a,b){var c,d;if(0!=(c=y.compare(d=j.fields(a),j.fields(b))))return c;for(var f=0;f<d.length;)if(c=d[f],++f,0!=(c=S.compare(j.field(a,c),j.field(b,c))))return c;return 0};ma.format=function(a,b,c,d){return ma.formatf(b,c,d)(a)};ma.formatf=function(a,b,c){b=n.FormatParams.params(a,b,"R");a=b.shift();switch(a){case "O":return function(a){return i.string(a)};case "R":return function(a){for(var b=[],g=0,e=
j.fields(a);g<e.length;){var k=e[g];++g;b.push(k+":"+S.format(j.field(a,k),null,null,null,c))}return"{"+b.join(",")+"}"};default:throw new x.Error("Unsupported number format: {0}",null,a,{fileName:"Objects.hx",lineNumber:242,className:"Objects",methodName:"formatf"});}};ma.prototype={__class__:ma};var j=function(){};j.__name__=["Reflect"];j.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};j.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};j.setField=function(a,
b,c){a[b]=c};j.callMethod=function(a,b,c){return b.apply(a,c)};j.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)c.call(a,d)&&b.push(d)}return b};j.isFunction=function(a){return"function"==typeof a&&null==a.__name__};j.compareMethods=function(a,b){return a==b?!0:!j.isFunction(a)||!j.isFunction(b)?!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};j.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&!a.__enum__||
"function"==b&&null!=a.__name__};j.deleteField=function(a,b){if(!j.hasField(a,b))return!1;delete a[b];return!0};j.prototype={__class__:j};var i=function(){};i.__name__=["Std"];i.is=function(a,b){return D.Boot.__instanceof(a,b)};i.string=function(a){return D.Boot.__string_rec(a,"")};i["int"]=function(a){return a|0};i.parseInt=function(a){var b=parseInt(a,10);0==b&&120==a.charCodeAt(1)&&(b=parseInt(a));return isNaN(b)?null:b};i.parseFloat=function(a){return parseFloat(a)};i.prototype={__class__:i};
var Ob=function(){this.b=[]};Ob.__name__=["StringBuf"];Ob.prototype={add:function(a){this.b[this.b.length]=null==a?"null":a},toString:function(){return this.b.join("")},b:null,__class__:Ob};var E=function(){};E.__name__=["StringTools"];E.urlEncode=function(a){return encodeURIComponent(a)};E.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};E.startsWith=function(a,b){return a.length>=b.length&&a.substr(0,b.length)==b};E.isSpace=function(a,b){var c=a.charCodeAt(b);return 9<=c&&
13>=c||32==c};E.ltrim=function(a){for(var b=a.length,c=0;c<b&&E.isSpace(a,c);)c++;return 0<c?a.substr(c,b-c):a};E.rtrim=function(a){for(var b=a.length,c=0;c<b&&E.isSpace(a,b-c-1);)c++;return 0<c?a.substr(0,b-c):a};E.trim=function(a){return E.ltrim(E.rtrim(a))};E.rpad=function(a,b,c){for(var d=a.length,f=b.length;d<c;)c-d<f?(a+=b.substr(0,c-d),d=c):(a+=b,d+=f);return a};E.lpad=function(a,b,c){var d="",f=a.length;if(f>=c)return a;for(var g=b.length;f<c;)c-f<g?(d+=b.substr(0,c-f),f=c):(d+=b,f+=g);return d+
a};E.replace=function(a,b,c){return a.split(b).join(c)};E.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};E.fastCodeAt=function(a,b){return a.cca(b)};E.stripWhite=function(a){for(var b=a.length,c=0,d=new Ob;c<b;)E.isSpace(a,c)||d.add(a.charAt(c)),c++;return d.b.join("")};E.prototype={__class__:E};var F=function(){};F.__name__=["Strings"];F.format=function(a,b,c,d){null==c&&(c="null");return null==b||0==b.length?a:F.formatf(a,
c,d)(b)};F.formatf=function(a,b,c){null==b&&(b="null");for(var d=[];;){if(!F._reFormat.match(a)){d.push(function(){return function(){return a}}());break}var f=i.parseInt(F._reFormat.matched(1)),g=F._reFormat.matched(2);""==g&&(g=null);for(var e=null,k=[],t=3;20>t;){e=t++;e=F._reFormat.matched(e);if(null==e||""==e)break;k.push(n.FormatParams.cleanQuotes(e))}t=[F._reFormat.matchedLeft()];d.push(function(a){return function(){return a[0]}}(t));g=[S.formatf(g,k,b,c)];d.push(function(){return function(a,
b){return function(){return function(c){return a(b,c)}}()}}()(function(a){return function(b,c){return a[0](c[b])}}(g),f));a=F._reFormat.matchedRight()}return function(a){null==a&&(a=[]);return d.map(function(b){return b(a)}).join("")}};F.formatOne=function(a,b,c,d){return F.formatOnef(b,c,d)(a)};F.formatOnef=function(a,b){var b=n.FormatParams.params(a,b,"S"),c=b.shift();switch(c){case "S":return function(a){return a};case "T":var d=1>b.length?20:i.parseInt(b[0]);return F.ellipsisf(d,2>b.length?"...":
b[1]);case "PR":var d=1>b.length?10:i.parseInt(b[0]),f=2>b.length?" ":b[1];return function(a){return E.rpad(a,f,d)};case "PL":return d=1>b.length?10:i.parseInt(b[0]),f=2>b.length?" ":b[1],function(a){return E.lpad(a,f,d)};default:throw"Unsupported string format: "+c;}};F.rtrim=function(a,b){for(var c=a.length;0<c;){var d=a.substr(c-1,1);if(0>b.indexOf(d))break;c--}return a.substr(0,c)};F.ltrim=function(a,b){for(var c=0;c<a.length;){var d=a.substr(c,1);if(0>b.indexOf(d))break;c++}return a.substr(c)};
F.trim=function(a,b){return F.rtrim(F.ltrim(a,b),b)};F.collapse=function(a){return F._reCollapse.replace(E.trim(a)," ")};F.ucfirst=function(a){return null==a?null:a.charAt(0).toUpperCase()+a.substr(1)};F.lcfirst=function(a){return null==a?null:a.charAt(0).toLowerCase()+a.substr(1)};F.empty=function(a){return null==a||""==a};F.ucwords=function(a){return F.__ucwordsPattern.customReplace(null==a?null:a.charAt(0).toUpperCase()+a.substr(1),F.__upperMatch)};F.__upperMatch=function(a){return a.matched(0).toUpperCase()};
F.humanize=function(a){return E.replace(F.underscore(a),"_"," ")};F.underscore=function(a){a=(new Q("::","g")).replace(a,"/");a=(new Q("([A-Z]+)([A-Z][a-z])","g")).replace(a,"$1_$2");a=(new Q("([a-z\\d])([A-Z])","g")).replace(a,"$1_$2");a=(new Q("-","g")).replace(a,"_");return a.toLowerCase()};F.dasherize=function(a){return E.replace(a,"_","-")};F.interpolatef=function(a,b,c){var d=function(a,b,c){for(;F._reInterpolateNumber.match(a);)a=F._reInterpolateNumber.matchedLeft(),F.empty(a)||(b.push(a),
c.push(null)),b.push(null),c.push(i.parseFloat(F._reInterpolateNumber.matched(0))),a=F._reInterpolateNumber.matchedRight();F.empty(a)||(b.push(a),c.push(null))},f=function(a){var a=""+a,b=a.indexOf(".");return 0>b?0:a.length-b-1},g=[],e=[],k=[],t=[];d(a,g,e);d(b,k,t);for(var l=[],a=0,b=I.min(g.length,k.length);a<b&&!(g[a]!=k[a]);){if(null==g[a])if(e[a]==t[a])d=[""+e[a]],l.push(function(a){return function(){return a[0]}}(d));else{var d=[C.interpolatef(e[a],t[a],c)],u=[Math.pow(10,I.max(f(e[a]),f(t[a])))];
l.push(function(a,b){return function(c){return""+Math.round(b[0](c)*a[0])/a[0]}}(u,d))}else d=[g[a]],l.push(function(a){return function(){return a[0]}}(d));a++}for(var U="";a<k.length;)U=null!=k[a]?U+k[a]:U+t[a],a++;""!=U&&l.push(function(){return U});return function(a){return l.map(function(b){return b(a)}).join("")}};F.ellipsisf=function(a,b){null==b&&(b="...");null==a&&(a=20);return function(c){return c.length>a?c.substr(0,I.max(b.length,a-b.length))+b:c}};F.compare=function(a,b){return a<b?-1:
a>b?1:0};F.prototype={__class__:F};var V={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(","),TNull:["TNull",0]};V.TNull.toString=v;V.TNull.__enum__=V;V.TInt=["TInt",1];V.TInt.toString=v;V.TInt.__enum__=V;V.TFloat=["TFloat",2];V.TFloat.toString=v;V.TFloat.__enum__=V;V.TBool=["TBool",3];V.TBool.toString=v;V.TBool.__enum__=V;V.TObject=["TObject",4];V.TObject.toString=v;V.TObject.__enum__=V;V.TFunction=["TFunction",5];V.TFunction.toString=
v;V.TFunction.__enum__=V;V.TClass=function(a){a=["TClass",6,a];a.__enum__=V;a.toString=v;return a};V.TEnum=function(a){a=["TEnum",7,a];a.__enum__=V;a.toString=v;return a};V.TUnknown=["TUnknown",8];V.TUnknown.toString=v;V.TUnknown.__enum__=V;var A=function(){};A.__name__=["Type"];A.getClass=function(a){return null==a||null!=a.__enum__?null:a.__class__};A.getEnum=function(a){return null==a?null:a.__enum__};A.getClassName=function(a){return a.__name__.join(".")};A.getEnumName=function(a){return a.__ename__.join(".")};
A.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};A.createEmptyInstance=function(a){function b(){}
b.prototype=a.prototype;return new b};A.createEnum=function(a,b,c){var d=j.field(a,b);if(null==d)throw"No such constructor "+b;if(j.isFunction(d)){if(null==c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};A.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);b.remove("__class__");b.remove("__properties__");return b};A["typeof"]=function(a){switch(typeof a){case "boolean":return V.TBool;
case "string":return V.TClass(String);case "number":return Math.ceil(a)==a%2147483648?V.TInt:V.TFloat;case "object":if(null==a)return V.TNull;var b=a.__enum__;if(null!=b)return V.TEnum(b);a=a.__class__;return null!=a?V.TClass(a):V.TObject;case "function":return null!=a.__name__?V.TObject:V.TFunction;case "undefined":return V.TNull;default:return V.TUnknown}};A.enumEq=function(a,b){if(a==b)return!0;try{if(a[0]!=b[0])return!1;for(var c=2,d=a.length;c<d;){var f=c++;if(!A.enumEq(a[f],b[f]))return!1}var g=
a.__enum__;if(g!=b.__enum__||null==g)return!1}catch(e){return!1}return!0};A.enumConstructor=function(a){return a[0]};A.enumParameters=function(a){return a.slice(2)};A.enumIndex=function(a){return a[1]};A.prototype={__class__:A};var Ha=function(){};Ha.__name__=["Types"];Ha.typeName=function(a){var b,a=A["typeof"](a);switch(a[1]){case 0:b="null";break;case 1:b="Int";break;case 2:b="Float";break;case 3:b="Bool";break;case 5:b="function";break;case 6:b=A.getClassName(a[2]);break;case 7:b=A.getEnumName(a[2]);
break;case 4:b="Object";break;case 8:b="Unknown"}return b};Ha.isAnonymous=function(a){return j.isObject(a)&&null==A.getClass(a)};Ha.as=function(a,b){return i.is(a,b)?a:null};Ha.sameType=function(a,b){if(null==a&&null==b)return!0;if(null==a||null==b)return!1;var c=A["typeof"](b);switch(c[1]){case 6:return i.is(a,c[2]);case 7:return i.is(a,c[2]);default:return A["typeof"](a)==c}};Ha.isPrimitive=function(a){var b,a=A["typeof"](a);switch(a[1]){case 0:case 1:case 2:case 3:b=!0;break;case 5:case 7:case 4:case 8:b=
!1;break;case 6:b="String"==A.getClassName(a[2])}return b};Ha.prototype={__class__:Ha};H=void 0;aa=void 0;Hb=void 0;ya=void 0;aa={IBlockCipher:function(){}};aa.IBlockCipher.__name__=["chx","crypt","IBlockCipher"];aa.IBlockCipher.prototype={blockSize:null,encryptBlock:null,decryptBlock:null,__class__:aa.IBlockCipher,__properties__:{get_blockSize:"__getBlockSize"}};aa.IPad=function(){};aa.IPad.__name__=["chx","crypt","IPad"];aa.IPad.prototype={blockSize:null,pad:null,unpad:null,isBlockPad:null,calcNumBlocks:null,
blockOverhead:null,getBytesReadPerBlock:null,__class__:aa.IPad,__properties__:{set_blockSize:"setBlockSize"}};aa.PadPkcs1Type1=function(a){this.blockSize=a;this.setPadCount(8);this.typeByte=1;this.setPadByte(255)};aa.PadPkcs1Type1.__name__=["chx","crypt","PadPkcs1Type1"];aa.PadPkcs1Type1.__interfaces__=[aa.IPad];aa.PadPkcs1Type1.prototype={blockSize:null,textSize:null,padByte:null,padCount:null,typeByte:null,getBytesReadPerBlock:function(){return this.textSize},pad:function(a){if(a.length>this.textSize)throw"Unable to pad block: provided buffer is "+
a.length+" max is "+this.textSize;var b=new ac;b.b.push(0);b.b.push(this.typeByte);for(var c=this.blockSize-a.length-3;0<c--;)b.b.push(this.getPadByte());b.b.push(0);b.add(a);return b.getBytes()},unpad:function(a){for(var b=0,c=new ac;b<a.length;){for(;b<a.length&&0==a.b[b];)++b;if(0>a.length-b-3-this.padCount)throw"Unexpected short message";if(a.b[b]!=this.typeByte)throw"Expected marker "+this.typeByte+" at position "+b+" ["+qb.hexDump(a)+"]";if(++b>=a.length)break;for(;b<a.length&&0!=a.b[b];)++b;
b++;for(var d=0;b<a.length&&d++<this.textSize;)c.b.push(a.b[b++])}return c.getBytes()},calcNumBlocks:function(a){return Math.ceil(a/this.textSize)},isBlockPad:function(){return!0},blockOverhead:function(){return 3+this.padCount},setPadCount:function(a){if(a+3>=this.blockSize)throw"Internal padding size exceeds crypt block size";this.padCount=a;this.textSize=this.blockSize-3-this.padCount;return a},setBlockSize:function(a){this.blockSize=a;this.textSize=a-3-this.padCount;if(0>=this.textSize)throw"Block size "+
a+" to small for Pkcs1 with padCount "+this.padCount;return a},getPadByte:function(){return this.padByte},setPadByte:function(a){this.padByte=a&255;return a},__class__:aa.PadPkcs1Type1,__properties__:{set_padByte:"setPadByte",get_padByte:"getPadByte",set_blockSize:"setBlockSize"}};aa.RSAEncrypt=function(a,b){this.init();null!=a&&this.setPublic(a,b)};aa.RSAEncrypt.__name__=["chx","crypt","RSAEncrypt"];aa.RSAEncrypt.__interfaces__=[aa.IBlockCipher];aa.RSAEncrypt.prototype={n:null,e:null,blockSize:null,
init:function(){this.n=null;this.e=0},decryptBlock:function(){throw"Not a private key";},encryptBlock:function(a){var b=this.__getBlockSize();if(a.length!=b)throw"bad block size";for(var a=this.doPublic(r.ofBytes(a,!0)).toBytesUnsigned(),c=a.length,d=0;c>b;){if(0!=a.b[d])throw new H.FatalException("encoded length was "+a.length);d++;c--}0!=d&&(a=a.sub(d,c));if(a.length<b){d=new ac;c=b-a.length;for(b=0;b<c;)b++,d.b.push(0);d.addBytes(a,0,a.length);a=d.getBytes()}return a},setPublic:function(a,b){this.init();
if(null==a||0==a.length)throw new H.NullPointerException("nHex not set: "+a);if(null==b||0==b.length)throw new H.NullPointerException("eHex not set: "+b);var c=qb.cleanHexFormat(a);this.n=r.ofString(c,16);if(null==this.n)throw 2;c=i.parseInt("0x"+qb.cleanHexFormat(b));if(null==c||0==c)throw 3;this.e=c},verify:function(a){return this.doBufferDecrypt(a,this.doPublic.$bind(this),new aa.PadPkcs1Type1(this.__getBlockSize()))},doBufferDecrypt:function(a,b,c){for(var d=this.__getBlockSize(),f=d-11,g=0,e=
new ac;g<a.length;){g+d>a.length&&(d=a.length-g);var k=r.ofBytes(a.sub(g,d),!0),k=b(k);if(null==k)return null;k=c.unpad(k.toBytesUnsigned());if(k.length>f)throw"block text length error";e.add(k);g+=d}return e.getBytes()},doPublic:function(a){return a.modPowInt(this.e,this.n)},__getBlockSize:function(){return null==this.n?0:this.n.bitLength()+7>>3},toString:function(){var a=new Ob;a.b[a.b.length]="Public:\n";a.add("N:\t"+this.n.toHex()+"\n");a.add("E:\t"+r.ofInt(this.e).toHex()+"\n");return a.b.join("")},
__class__:aa.RSAEncrypt,__properties__:{get_blockSize:"__getBlockSize"}};aa.RSA=function(){};aa.RSA.__name__=["chx","crypt","RSA"];aa.RSA.__interfaces__=[aa.IBlockCipher];aa.RSA.__super__=aa.RSAEncrypt;aa.RSA.prototype=w(aa.RSAEncrypt.prototype,{d:null,p:null,q:null,dmp1:null,dmq1:null,coeff:null,init:function(){aa.RSAEncrypt.prototype.init.call(this);this.coeff=this.dmq1=this.dmp1=this.q=this.p=this.d=null},decryptBlock:function(a){a=this.doPrivate(r.ofBytes(a,!0));if(null==a)throw"doPrivate error";
a=a.toBytesUnsigned();if(a.length<this.__getBlockSize()){for(var b=kb.alloc(this.__getBlockSize()),c=0,d=this.__getBlockSize()-a.length+1;c<d;){var f=c++;b.b[f]=0}b.blit(this.__getBlockSize()-a.length,a,0,a.length);a=b}else for(;a.length>this.__getBlockSize();){b=a.length-this.__getBlockSize();for(d=0;d<b;)if(f=d++,0!=a.b[f])throw"decryptBlock length error";a=a.sub(b,this.__getBlockSize())}return a},doPrivate:function(a){if(null==this.p||null==this.q)return a.modPow(this.d,this.n);for(var b=a.mod(this.p).modPow(this.dmp1,
this.p),a=a.mod(this.q).modPow(this.dmq1,this.q);0>b.compare(a);)b=b.add(this.p);return b.sub(a).mul(this.coeff).mod(this.p).mul(this.q).add(a)},toString:function(){var a=new Ob;a.add(aa.RSAEncrypt.prototype.toString.call(this));a.b[a.b.length]="Private:\n";a.add("D:\t"+this.d.toHex()+"\n");null!=this.p&&a.add("P:\t"+this.p.toHex()+"\n");null!=this.q&&a.add("Q:\t"+this.q.toHex()+"\n");null!=this.dmp1&&a.add("DMP1:\t"+this.dmp1.toHex()+"\n");null!=this.dmq1&&a.add("DMQ1:\t"+this.dmq1.toHex()+"\n");
null!=this.coeff&&a.add("COEFF:\t"+this.coeff.toHex()+"\n");return a.b.join("")},__class__:aa.RSA});Hb={Base64:function(){}};Hb.Base64.__name__=["chx","formats","Base64"];Hb.Base64.enc=null;Hb.Base64.decode=function(a){a=E.stripWhite(a);a=E.replace(a,"=","");if(null==Hb.Base64.enc)Hb.Base64.enc=new sd(kb.ofString("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"));var b;try{b=Hb.Base64.enc.decodeBytes(kb.ofString(a))}catch(c){b=null}return b};Hb.Base64.prototype={__class__:Hb.Base64};
ya={Input:function(){}};ya.Input.__name__=["chx","io","Input"];ya.Input.prototype={bigEndian:null,readByte:function(){throw new H.FatalException("Not implemented");},readBytes:function(a,b,c){var d=c,f=a.b;if(0>b||0>c||b+c>a.length)throw new H.OutsideBoundsException;for(;0<d;)f[b]=this.readByte(),b++,d--;return c},__getBytesAvailable:function(){throw new H.FatalException("Not implemented");},__setEndian:function(a){return this.bigEndian=a},__class__:ya.Input,__properties__:{set_bigEndian:"__setEndian"}};
ya.BytesInput=function(){};ya.BytesInput.__name__=["chx","io","BytesInput"];ya.BytesInput.__super__=ya.Input;ya.BytesInput.prototype=w(ya.Input.prototype,{b:null,pos:null,len:null,readByte:function(){if(0==this.len)throw new H.EofException;this.len--;return this.b[this.pos++]},readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw new H.OutsideBoundsException;if(0==this.len&&0<c)throw new H.EofException;if(this.len<c)c=this.len;for(var d=this.b,a=a.b,f=0;f<c;){var g=f++;a[b+g]=d[this.pos+g]}this.pos+=
c;this.len-=c;return c},__getBytesAvailable:function(){return 0<=this.len?this.len:0},setPosition:function(a){this.len+=this.getPosition()-a;return this.pos=a},getPosition:function(){return this.pos},__class__:ya.BytesInput});ya.Output=function(){};ya.Output.__name__=["chx","io","Output"];ya.Output.prototype={bigEndian:null,writeByte:function(){throw new H.FatalException("Not implemented");},writeBytes:function(a,b,c){var d=c,f=a.b;if(0>b||0>c||b+c>a.length)throw new H.OutsideBoundsException;for(;0<
d;)this.writeByte(f[b]),b++,d--;return c},setBigEndian:function(a){return this.bigEndian=a},__class__:ya.Output,__properties__:{set_bigEndian:"setBigEndian"}};ya.BytesOutput=function(){};ya.BytesOutput.__name__=["chx","io","BytesOutput"];ya.BytesOutput.__super__=ya.Output;ya.BytesOutput.prototype=w(ya.Output.prototype,{b:null,writeByte:function(a){this.b.b.push(a);return this},writeBytes:function(a,b,c){this.b.addBytes(a,b,c);return c},__class__:ya.BytesOutput});H={Exception:function(a,b){this.message=
a;this.cause=b}};H.Exception.__name__=["chx","lang","Exception"];H.Exception.prototype={message:null,cause:null,toString:function(){return A.getClassName(A.getClass(this))+"("+(null==this.message?"":this.message+")")},__class__:H.Exception};H.IOException=function(a,b){H.Exception.call(this,a,b)};H.IOException.__name__=["chx","lang","IOException"];H.IOException.__super__=H.Exception;H.IOException.prototype=w(H.Exception.prototype,{__class__:H.IOException});H.EofException=function(a,b){H.IOException.call(this,
a,b)};H.EofException.__name__=["chx","lang","EofException"];H.EofException.__super__=H.IOException;H.EofException.prototype=w(H.IOException.prototype,{toString:function(){return"EOF"},__class__:H.EofException});H.FatalException=function(a,b){this.message=a;this.cause=b};H.FatalException.__name__=["chx","lang","FatalException"];H.FatalException.prototype={message:null,cause:null,__class__:H.FatalException};H.NullPointerException=function(a,b){H.Exception.call(this,a,b)};H.NullPointerException.__name__=
["chx","lang","NullPointerException"];H.NullPointerException.__super__=H.Exception;H.NullPointerException.prototype=w(H.Exception.prototype,{__class__:H.NullPointerException});H.OutsideBoundsException=function(a,b){H.Exception.call(this,a,b)};H.OutsideBoundsException.__name__=["chx","lang","OutsideBoundsException"];H.OutsideBoundsException.__super__=H.Exception;H.OutsideBoundsException.prototype=w(H.Exception.prototype,{__class__:H.OutsideBoundsException});H.UnsupportedException=function(a,b){H.Exception.call(this,
a,b)};H.UnsupportedException.__name__=["chx","lang","UnsupportedException"];H.UnsupportedException.__super__=H.Exception;H.UnsupportedException.prototype=w(H.Exception.prototype,{__class__:H.UnsupportedException});var ca,rb,sb,td,Qa,ud,cc,vd,da,wd,dc,xd,Pb,uc,yd,zd,oa,va,ja,Ea,ea,ka,G,Ib,bd,ec,Za,Ad,vc,Jb,Ed,fc,Fd,$a,cd,gc,Gd,dd,ed,Qb,fa,Aa;ca=function(a){this.selection=a};ca.__name__=["dhx","Access"];ca.getData=function(a){return j.field(a,"__dhx_data__")};ca.setData=function(a,b){a.__dhx_data__=
b};ca.emptyHtmlDom=function(a){return{__dhx_data__:a}};ca.eventName=function(a){return"__dhx_on__"+a};ca.getEvent=function(a,b){return j.field(a,"__dhx_on__"+b)};ca.hasEvent=function(a,b){return null!=j.field(a,"__dhx_on__"+b)};ca.addEvent=function(a,b,c){a["__dhx_on__"+b]=c};ca.removeEvent=function(a,b){j.deleteField(a,"__dhx_on__"+b)};ca.setTransition=function(a,b){j.hasField(a,"__dhx_transition__")?j.field(a,"__dhx_transition__").owner=b:a.__dhx_transition__={owner:b}};ca.getTransition=function(a){return j.field(a,
"__dhx_transition__")};ca.resetTransition=function(a){j.deleteField(a,"__dhx_transition__")};ca.prototype={selection:null,_that:function(){return this.selection},__class__:ca};rb=function(a,b){ca.call(this,b);this.name=a;this.qname=sb.qualify(a)};rb.__name__=["dhx","AccessAttribute"];rb.__super__=ca;rb.prototype=w(ca.prototype,{name:null,qname:null,get:function(){var a=this.name,b=this.qname;return this.selection.firstNode(function(c){return null==b?c.getAttribute(a):c.getAttributeNS(b.space,b.local)})},
getFloat:function(){var a=this.get();return rb.refloat.match(a)?i.parseFloat(rb.refloat.matched(1)):Math.NaN},string:function(a){if(null==this.qname){var b=this.name;this.selection.eachNode(function(c){c.setAttribute(b,a)})}else{var c=this.qname;this.selection.eachNode(function(b){b.setAttributeNS(c.space,c.local,a)})}return this.selection},"float":function(a){var b=""+a;if(null==this.qname){var c=this.name;this.selection.eachNode(function(a){a.setAttribute(c,b)})}else{var d=this.qname;this.selection.eachNode(function(a){a.setAttributeNS(d.space,
d.local,b)})}return this.selection},__class__:rb});td=function(a,b){rb.call(this,a,b)};td.__name__=["dhx","AccessDataAttribute"];td.__super__=rb;td.prototype=w(rb.prototype,{stringf:function(a){if(null==this.qname){var b=this.name;this.selection.eachNode(function(c,f){var g=a(j.field(c,"__dhx_data__"),f);null==g?c.removeAttribute(b):c.setAttribute(b,g)})}else{var c=this.qname;this.selection.eachNode(function(d,f){var g=a(j.field(d,"__dhx_data__"),f);null==g?d.removeAttributeNS(b):d.setAttributeNS(c.space,
c.local,g)})}return this.selection},floatf:function(a){if(null==this.qname){var b=this.name;this.selection.eachNode(function(c,f){var g=a(j.field(c,"__dhx_data__"),f);null==g?c.removeAttribute(b):c.setAttribute(b,""+g)})}else{var c=this.qname;this.selection.eachNode(function(d,f){var g=a(j.field(d,"__dhx_data__"),f);null==g?d.removeAttributeNS(b):d.setAttributeNS(c.space,c.local,""+g)})}return this.selection},__class__:td});Qa=function(a){ca.call(this,a)};Qa.__name__=["dhx","AccessClassed"];Qa.escapeERegChars=
function(a){return Qa._escapePattern.customReplace(a,function(a){return"\\"+a.matched(0)})};Qa.getRe=function(a){return new Q("(^|\\s+)"+Qa.escapeERegChars(a)+"(\\s+|$)","g")};Qa.__super__=ca;Qa.prototype=w(ca.prototype,{remove:function(a){this.selection.eachNode(function(a,c){return function(d,f){return a(c,d,f)}}(this._remove.$bind(this),a));return this.selection},_remove:function(a,b){var c=b.classList;if(null!=c)c.remove(a);else{var c=b.className,d=null!=c.baseVal,f=d?c.baseVal:c,g=new Q("(^|\\s+)"+
Qa.escapeERegChars(a)+"(\\s+|$)","g"),f=F.collapse(g.replace(f," "));d?c.baseVal=f:b.className=f}},add:function(a){this.selection.eachNode(function(a,c){return function(d,f){return a(c,d,f)}}(this._add.$bind(this),a));return this.selection},_add:function(a,b){var c=b.classList;if(null!=c)c.add(a);else{var c=b.className,d=null!=c.baseVal,f=d?c.baseVal:c;if(!(new Q("(^|\\s+)"+Qa.escapeERegChars(a)+"(\\s+|$)","g")).match(f))f=F.collapse(f+" "+a),d?c.baseVal=f:b.className=f}},__class__:Qa});ud=function(a){Qa.call(this,
a)};ud.__name__=["dhx","AccessDataClassed"];ud.__super__=Qa;ud.prototype=w(Qa.prototype,{__class__:ud});cc=function(a){ca.call(this,a)};cc.__name__=["dhx","AccessHtml"];cc.__super__=ca;cc.prototype=w(ca.prototype,{get:function(){return this.selection.firstNode(function(a){return a.innerHTML})},string:function(a){this.selection.eachNode(function(b){b.innerHTML=a});return this.selection},__class__:cc});vd=function(a){cc.call(this,a)};vd.__name__=["dhx","AccessDataHtml"];vd.__super__=cc;vd.prototype=
w(cc.prototype,{stringf:function(a){this.selection.eachNode(function(b,c){var d=a(j.field(b,"__dhx_data__"),c);null==d&&(d="");b.innerHTML=d});return this.selection},__class__:vd});da=function(a,b){ca.call(this,b);this.name=a};da.__name__=["dhx","AccessStyle"];da._getPropertyName=function(a){if("float"==a||"cssFloat"==a||"styleFloat"==a)return null==D.Lib.document.body.cssFloat?"styleFloat":"cssFloat";0<=a.indexOf("-")&&(a=F.ucwords(a));return a};da.getComputedStyleValue=function(a,b){da.getComputedStyleValue=
"getComputedStyle"in window?function(a,b){return D.Lib.window.getComputedStyle(a,null).getPropertyValue(b)}:function(a,b){var f=a.currentStyle;null==j.field(f,b)&&(b=da._getPropertyName(b));return null==j.field(f,b)?"":j.field(f,b)};return da.getComputedStyleValue(a,b)};da.setStyleProperty=function(a,b,c,d){da.setStyleProperty="setProperty"in a.style?function(a,b,c,d){a.style.setProperty(b,""+c,null==d?"":d)}:function(a,b,c,d){a=a.style;null==j.field(a,b)&&(b=da._getPropertyName(b));null!=d&&""!=
d?a.cssText+=";"+F.dasherize(b)+":"+c+"!important;":a[b]=c};da.setStyleProperty(a,b,c,d)};da.removeStyleProperty=function(a){da.removeStyleProperty="removeProperty"in a.style?function(a,c){a.style.removeProperty(c,value)}:function(a,c){var d=a.style;null==j.field(d,c)&&(c=da._getPropertyName(c));j.deleteField(d,c)}};da.__super__=ca;da.prototype=w(ca.prototype,{name:null,get:function(){var a=this;return this.selection.firstNode(function(b){return da.getComputedStyleValue(b,a.name)})},getFloat:function(){var a=
this.get();return da.refloat.match(a)?i.parseFloat(da.refloat.matched(1)):Math.NaN},string:function(a,b){var c=this;this.selection.eachNode(function(d){da.setStyleProperty(d,c.name,a,b)});return this.selection},"float":function(a,b){var c=this;this.selection.eachNode(function(d){da.setStyleProperty(d,c.name,a,b)});return this.selection},color:function(a,b){var c=this,d=a.toRgbString();this.selection.eachNode(function(a){da.setStyleProperty(a,c.name,d,b)});return this.selection},__class__:da});wd=
function(a,b){da.call(this,a,b)};wd.__name__=["dhx","AccessDataStyle"];wd.__super__=da;wd.prototype=w(da.prototype,{stringf:function(a,b){var c=this;this.selection.eachNode(function(d,f){var g=a(j.field(d,"__dhx_data__"),f);null==g?da.removeStyleProperty(d,c.name):da.setStyleProperty(d,c.name,g,b)});return this.selection},__class__:wd});dc=function(a){ca.call(this,a)};dc.__name__=["dhx","AccessText"];dc.__super__=ca;dc.prototype=w(ca.prototype,{string:function(a){this.clear();this.selection.eachNode(function(b){b.textContent=
a});return this.selection},clear:function(){this.selection.eachNode(function(a){a.textContent=""});return this.selection},__class__:dc});xd=function(a){dc.call(this,a)};xd.__name__=["dhx","AccessDataText"];xd.__super__=dc;xd.prototype=w(dc.prototype,{stringf:function(a){this.clear();this.selection.eachNode(function(b,c){var d=a(j.field(b,"__dhx_data__"),c);if(null!=d)b.textContent=d});return this.selection},__class__:xd});Pb=function(a,b){this.transition=a;this.tweens=b};Pb.__name__=["dhx","AccessTween"];
Pb.prototype={transition:null,tweens:null,transitionStringTween:function(a){return function(b,c,d){return F.interpolatef(d,a)}},transitionStringTweenf:function(a){return function(b,c,d){return F.interpolatef(d,a(b,c))}},transitionFloatTween:function(a){return function(b,c,d){return C.interpolatef(d,a)}},_that:function(){return this.transition},__class__:Pb};uc=function(a,b,c){Pb.call(this,b,c);this.name=a;this.qname=sb.qualify(a)};uc.__name__=["dhx","AccessTweenAttribute"];uc.__super__=Pb;uc.prototype=
w(Pb.prototype,{name:null,qname:null,string:function(a){return this.stringTweenNodef(this.transitionStringTween(a))},stringTweenNodef:function(a){var b=this.name,c;this.tweens.set("attr."+b,null==this.qname?function(c,f){var g=a(c,f,c.getAttribute(b));return function(a){c.setAttribute(b,g(a))}}:function(c,f){var g=a(c,f,c.getAttributeNS(b.space,b.local));return function(a){c.setAttributeNS(b.space,b.local,g(a))}});return this.transition},"float":function(a){return this.floatTweenNodef(this.transitionFloatTween(a))},
floatTweenNodef:function(a){var b=this.name,c;this.tweens.set("attr."+b,null==this.qname?function(c,f){var g=a(c,f,i.parseFloat(c.getAttribute(b)));return function(a){c.setAttribute(b,""+g(a))}}:function(c,f){var g=a(c,f,i.parseFloat(c.getAttributeNS(b.space,b.local)));return function(a){c.setAttributeNS(b.space,b.local,""+g(a))}});return this.transition},__class__:uc});yd=function(a,b,c){uc.call(this,a,b,c)};yd.__name__=["dhx","AccessDataTweenAttribute"];yd.__super__=uc;yd.prototype=w(uc.prototype,
{stringf:function(a){return this.stringTweenNodef(this.transitionStringTweenf(function(b,c){return a(j.field(b,"__dhx_data__"),c)}))},__class__:yd});zd=function(a,b,c){Pb.call(this,b,c);this.name=a};zd.__name__=["dhx","AccessTweenStyle"];zd.__super__=Pb;zd.prototype=w(Pb.prototype,{name:null,"float":function(a,b){return this.floatTweenNodef(this.transitionFloatTween(a),b)},floatTweenNodef:function(a,b){var c=this.name;this.tweens.set("style."+c,function(d,f){var g=a(d,f,i.parseFloat(da.getComputedStyleValue(d,
c)));return function(a){da.setStyleProperty(d,c,""+g(a),b)}});return this.transition},__class__:zd});oa={__ename__:["dhx","HostType"],__constructs__:"UnknownServer,NodeJs,IE,Firefox,Safari,Chrome,Opera,Unknown".split(","),UnknownServer:["UnknownServer",0]};oa.UnknownServer.toString=v;oa.UnknownServer.__enum__=oa;oa.NodeJs=["NodeJs",1];oa.NodeJs.toString=v;oa.NodeJs.__enum__=oa;oa.IE=function(a){a=["IE",2,a];a.__enum__=oa;a.toString=v;return a};oa.Firefox=function(a){a=["Firefox",3,a];a.__enum__=oa;
a.toString=v;return a};oa.Safari=function(a){a=["Safari",4,a];a.__enum__=oa;a.toString=v;return a};oa.Chrome=function(a){a=["Chrome",5,a];a.__enum__=oa;a.toString=v;return a};oa.Opera=function(a){a=["Opera",6,a];a.__enum__=oa;a.toString=v;return a};oa.Unknown=function(a){a=["Unknown",7,a];a.__enum__=oa;a.toString=v;return a};va={__ename__:["dhx","EnvironmentType"],__constructs__:["Mobile","Desktop","Server","UnknownEnvironment"],Mobile:["Mobile",0]};va.Mobile.toString=v;va.Mobile.__enum__=va;va.Desktop=
["Desktop",1];va.Desktop.toString=v;va.Desktop.__enum__=va;va.Server=["Server",2];va.Server.toString=v;va.Server.__enum__=va;va.UnknownEnvironment=["UnknownEnvironment",3];va.UnknownEnvironment.toString=v;va.UnknownEnvironment.__enum__=va;ja={__ename__:["dhx","OSType"],__constructs__:"Windows,IOs,Android,Mac,Linux,UnknownOs".split(",")};ja.Windows=function(a){a=["Windows",0,a];a.__enum__=ja;a.toString=v;return a};ja.IOs=["IOs",1];ja.IOs.toString=v;ja.IOs.__enum__=ja;ja.Android=["Android",2];ja.Android.toString=
v;ja.Android.__enum__=ja;ja.Mac=["Mac",3];ja.Mac.toString=v;ja.Mac.__enum__=ja;ja.Linux=["Linux",4];ja.Linux.toString=v;ja.Linux.__enum__=ja;ja.UnknownOs=["UnknownOs",5];ja.UnknownOs.toString=v;ja.UnknownOs.__enum__=ja;Ea=function(){};Ea.__name__=["dhx","ClientHost"];Ea.host=null;Ea.environment=null;Ea.os=null;Ea.isIE=function(){var a;switch(Ea.host[1]){case 2:a=!0;break;default:a=!1}return a};Ea.userAgent=function(){return""+navigator.userAgent};Ea.hasNavigator=function(){return"undefined"!==typeof navigator};
Ea.prototype={__class__:Ea};var D={Lib:function(){}};D.Lib.__name__=["js","Lib"];D.Lib.isIE=null;D.Lib.isOpera=null;D.Lib.document=null;D.Lib.window=null;D.Lib.alert=function(a){alert(D.Boot.__string_rec(a,""))};D.Lib.prototype={__class__:D.Lib};ea=function(a){this.nodes=a};ea.__name__=["dhx","Group"];ea.current=null;ea.merge=function(a,b){if(b.length!=a.length)throw"Group length not equal";for(var c=0,d=b.length;c<d;){var f=c++,g=a[f],f=b[f];if(g.parentNode!=f.parentNode)throw"parentNodes not the same!";
if(g.nodes.length!=f.nodes.length)throw"node length mismatch!";for(var e=0,k=f.nodes.length;e<k;){var t=e++;null==f.nodes[t]&&(f.nodes[t]=g.nodes[t])}}return b};ea.prototype={parentNode:null,nodes:null,each:function(a){for(var b=0,c=this.nodes.length;b<c;){var d=b++;if(null!=this.nodes[d])a(ea.current=this.nodes[d],d)}},iterator:function(){return this.nodes.iterator()},get:function(a){return this.nodes[a]},count:function(){return this.nodes.length},push:function(a){this.nodes.push(a)},__class__:ea};
ka=function(a){this.groups=a};ka.__name__=["dhx","BaseSelection"];ka.listenerEnterLeave=function(a,b,c){var d=G.event.relatedTarget;null==d||ka.isChild(b,d)||a(b,c)};ka.isChild=function(a,b){if(b==a)return!1;for(;null!=b;)if(b=b.parentNode,b==a)return!0;return!1};ka.addEvent=function(a,b,c,d){if(null!=a.addEventListener)ka.addEvent=function(a,b,c,d){a.addEventListener(b,c,d)};else if(null!=a.attachEvent)ka.addEvent=function(a,b,c){a.attachEvent(b,c)};ka.addEvent(a,b,c,d)};ka.removeEvent=function(a,
b,c,d){if(null!=a.removeEventListener)ka.removeEvent=function(a,b,c){a.removeEventListener(b,j.field(a,"__dhx_on__"+c),!1)};else if(null!=a.attachEvent)ka.removeEvent=function(a,b,c){a.detachEvent(b,j.field(a,"__dhx_on__"+c))};ka.removeEvent(a,b,c,d)};ka.bindJoin=function(a,b,c,d,f,g){var e=b.nodes.length,k=c.length,t=[],l=[],u=[],U,i,m=new ba,n=[],p;i=c.length;for(var o=0;o<e;){var q=o++;U=b.nodes[q];p=a(j.field(U,"__dhx_data__"),q);m.exists(p)?l[i++]=U:m.set(p,U);n.push(p)}for(o=0;o<k;)q=o++,U=
m.get(p=a(i=c[q],q)),null!=U?(U.__dhx_data__=i,t[q]=U,u[q]=l[q]=null):(U={__dhx_data__:i},u[q]=U,t[q]=l[q]=null),m.remove(p);for(o=0;o<e;)q=o++,m.exists(n[q])&&(l[q]=b.nodes[q]);a=new ea(u);a.parentNode=b.parentNode;f.push(a);f=new ea(t);f.parentNode=b.parentNode;d.push(f);d=new ea(l);d.parentNode=b.parentNode;g.push(d)};ka.bind=function(a,b,c,d,f){var g=a.nodes.length,e=a.nodes.length,k=[],t=[],l=[],u,U;if(g>b.length)g=b.length;if(e<b.length)e=b.length;for(var j=0;j<g;){var i=j++;u=a.nodes[i];U=
b[i];null!=u?(u.__dhx_data__=U,k[i]=u,l[i]=t[i]=null):(l[i]={__dhx_data__:U},k[i]=t[i]=null)}for(j=b.length;g<j;)i=g++,u={__dhx_data__:b[i]},l[i]=u,k[i]=t[i]=null;for(j=b.length;j<e;)i=j++,t[i]=a.nodes[i],l[i]=k[i]=null;b=new ea(l);b.parentNode=a.parentNode;d.push(b);d=new ea(k);d.parentNode=a.parentNode;c.push(d);c=new ea(t);c.parentNode=a.parentNode;f.push(c)};ka.prototype={parentNode:null,groups:null,select:function(a){return this._select(function(b){return G.selectionEngine.select(a,b)})},selectAll:function(a){return this._selectAll(function(b){return G.selectionEngine.selectAll(a,
b)})},_this:function(){return this},append:function(a){var b=sb.qualify(a),c;return this._select(null==b?function(b){var c=D.Lib.document.createElement(a);b.appendChild(c);return c}:function(a){var c=D.Lib.document.createElementNS(b.space,b.local);a.appendChild(c);return c})},remove:function(){return this.eachNode(function(a){var b=a.parentNode;null!=b&&b.removeChild(a)})},eachNode:function(a){for(var b=0,c=this.groups;b<c.length;){var d=c[b];++b;d.each(a)}return this},insert:function(a,b,c){var d=
sb.qualify(a),f;return this._select(null==d?function(d){var f=D.Lib.document.createElement(a);d.insertBefore(f,null!=b?b:G.select(c).node());return f}:function(a){var f=D.Lib.document.createElementNS(d.space,d.local);a.insertBefore(f,null!=b?b:G.select(c).node());return f})},firstNode:function(a){for(var b=0,c=this.groups;b<c.length;){var d=c[b];++b;for(d=d.nodes.iterator();d.hasNext();){var f=d.next();if(null!=f)return a(f)}}return null},node:function(){return this.firstNode(function(a){return a})},
empty:function(){return null==this.firstNode(function(a){return a})},filterNode:function(a){for(var b=[],c,d=0,f=this.groups;d<f.length;){var g=f[d];++d;var e=new ea(c=[]);e.parentNode=g.parentNode;b.push(e);e=-1;for(g=g.nodes.iterator();g.hasNext();){var k=g.next();null!=k&&a(k,++e)&&c.push(k)}}return this.createSelection(b)},mapNode:function(a){for(var b=[],c=0,d=this.groups;c<d.length;){var f=d[c];++c;for(var g=-1,f=f.nodes.iterator();f.hasNext();){var e=f.next();null!=e&&b.push(a(e,++g))}}return b},
onNode:function(a,b,c){null==c&&(c=!1);var d=a.indexOf("."),f=0>d?a:a.substr(0,d);if(("mouseenter"==f||"mouseleave"==f)&&!Ea.isIE())b=function(a,b){return function(c,d){return a(b,c,d)}}(ka.listenerEnterLeave,b),f="mouseenter"==f?"mouseover":"mouseout";return this.eachNode(function(d,e){var k=function(a){var c=G.event;G.event=a;try{b(d,e)}catch(f){}G.event=c};null!=j.field(d,"__dhx_on__"+a)&&(ka.removeEvent(d,f,a,c),j.deleteField(d,"__dhx_on__"+a));null!=b&&(d["__dhx_on__"+a]=k,ka.addEvent(d,f,k,
c))})},createSelection:function(){throw"abstract method";},_select:function(a){for(var b=[],c,d,f=0,g=this.groups;f<g.length;){d=g[f];++f;b.push(c=new ea([]));c.parentNode=d.parentNode;for(var e=d.nodes.iterator();e.hasNext();){var k=e.next();null!=k?(c.parentNode=k,c.nodes.push(d=a(k)),null!=d&&(d.__dhx_data__=j.field(k,"__dhx_data__"))):c.nodes.push(null)}}return this.createSelection(b)},_selectAll:function(a){for(var b=[],c,d=0,f=this.groups;d<f.length;){c=f[d];++d;for(var g=c.nodes.iterator();g.hasNext();){var e=
g.next();if(null!=e)b.push(c=new ea(a(e))),c.parentNode=e}}return this.createSelection(b)},__class__:ka};Ib=function(a){ka.call(this,a)};Ib.__name__=["dhx","UnboundSelection"];Ib.__super__=ka;Ib.prototype=w(ka.prototype,{html:function(){return new cc(this)},text:function(){return new dc(this)},attr:function(a){return new rb(a,this)},classed:function(){return new Qa(this)},style:function(a){return new da(a,this)},transition:function(){return new bd(this)},data:function(a,b){var c=[],d=[],f=[];if(null==
b)for(var g=0,e=this.groups;g<e.length;){var k=e[g];++g;ka.bind(k,a,c,d,f)}else{g=0;for(e=this.groups;g<e.length;)k=e[g],++g,ka.bindJoin(b,k,a,c,d,f)}return new ec(c,d,f)},__class__:Ib});Za=function(a){Ib.call(this,a)};Za.__name__=["dhx","Selection"];Za.__properties__={get_current:"getCurrent"};Za.current=null;Za.create=function(a){return new Za(a)};Za.getCurrent=function(){return G.selectNode(ea.current)};Za.getCurrentNode=function(){return ea.current};Za.__super__=Ib;Za.prototype=w(Ib.prototype,
{createSelection:function(a){return new Za(a)},__class__:Za});Ad=function(){};Ad.__name__=["dhx","ISelectorEngine"];Ad.prototype={select:null,selectAll:null,__class__:Ad};vc=function(){};vc.__name__=["dhx","NativeSelectorEngine"];vc.__interfaces__=[Ad];vc.supported=function(){return"undefined"!=typeof document.querySelector};vc.prototype={select:function(a,b){if(null==b)b=D.Lib.document;return b.querySelector(a)},selectAll:function(a,b){if(null==b)b=D.Lib.document;for(var c=b.querySelectorAll(a),
d=[],f=0,g=c.length;f<g;){var e=f++;d.push(c[e])}return d},__class__:vc};Jb=function(){};Jb.__name__=["dhx","SizzleEngine"];Jb.__interfaces__=[Ad];Jb.supported=function(){return!1!=Jb.getSizzle()};Jb.getSizzle=function(){return"undefined"!=typeof Sizzle&&Sizzle||"undefined"!=typeof jQuery&&jQuery.find||"undefined"!=typeof $&&$.find};Jb.prototype={select:function(a,b){return Ed.select(a,b)[0]},selectAll:function(a,b){return Ed.uniqueSort(Ed.select(a,b))},__class__:Jb};G=function(){};G.__name__=["dhx",
"Dom"];G.select=function(a){return G.doc.select(a)};G.selectAll=function(a){return G.doc.selectAll(a)};G.selectNode=function(a){return Za.create([new ea([a])])};G.selectNodeData=function(a){return fc.create([new ea([a])])};G.event=null;G.prototype={__class__:G};sb=function(){};sb.__name__=["dhx","Namespace"];sb.qualify=function(a){var b=a.indexOf(":");if(0>b)return null;var c=sb.prefix.get(a.substr(0,b));if(null==c)throw"unable to find a namespace for "+c;return new Fd(c,a.substr(b+1))};sb.prototype=
{__class__:sb};Fd=function(a,b){this.space=a;this.local=b};Fd.__name__=["dhx","NSQualifier"];Fd.prototype={space:null,local:null,__class__:Fd};$a=function(a){ka.call(this,a)};$a.__name__=["dhx","BoundSelection"];$a.__super__=ka;$a.prototype=w(ka.prototype,{html:function(){return new vd(this)},text:function(){return new xd(this)},attr:function(a){return new td(a,this)},classed:function(){return new ud(this)},style:function(a){return new wd(a,this)},transition:function(){return new cd(this)},dataf:function(a,
b){if(null==b)for(var c=[],d=[],f=[],g=0,e=0,k=this.groups;e<k.length;){var t=k[e];++e;ka.bind(t,a(j.field(t.parentNode,"__dhx_data__"),g++),c,d,f)}else{c=[];d=[];f=[];e=g=0;for(k=this.groups;e<k.length;)t=k[e],++e,ka.bindJoin(b,t,a(j.field(t.parentNode,"__dhx_data__"),g++),c,d,f)}return new ec(c,d,f)},each:function(a){return this.eachNode(function(b,c){a(j.field(b,"__dhx_data__"),c)})},filter:function(a){return this.filterNode(function(b,c){return a(j.field(b,"__dhx_data__"),c)})},on:function(a,
b,c){null==c&&(c=!1);return this.onNode(a,null==b?null:function(a,c){b(j.field(a,"__dhx_data__"),c)},c)},__class__:$a});gc=function(a,b){$a.call(this,a);this._choice=b};gc.__name__=["dhx","UpdateSelection"];gc.__super__=$a;gc.prototype=w($a.prototype,{_choice:null,createSelection:function(a){return new gc(a,this._choice)},update:function(){return this},enter:function(){return this._choice.enter()},exit:function(){return this._choice.exit()},__class__:gc});ec=function(a,b,c){this._update=a;this._enter=
b;this._exit=c;gc.call(this,this._update,this)};ec.__name__=["dhx","DataChoice"];ec.merge=function(a,b){ea.merge(a,b._update)};ec.__super__=gc;ec.prototype=w(gc.prototype,{_update:null,_enter:null,_exit:null,enter:function(){return new Gd(this._enter,this)},exit:function(){return new dd(this._exit,this)},__class__:ec});fc=function(a){$a.call(this,a)};fc.__name__=["dhx","ResumeSelection"];fc.create=function(a){return new fc(a)};fc.__super__=$a;fc.prototype=w($a.prototype,{createSelection:function(a){return new fc(a)},
__class__:fc});Gd=function(a,b){this.groups=a;this._choice=b};Gd.__name__=["dhx","PreEnterSelection"];Gd.prototype={groups:null,_choice:null,append:function(a){var b=sb.qualify(a),c;return this._select(null==b?function(b){var c=D.Lib.document.createElement(a);b.appendChild(c);return c}:function(a){var c=D.Lib.document.createElementNS(b.space,b.local);a.appendChild(c);return c})},createSelection:function(a){return new ed(a,this._choice)},_select:function(a){for(var b=[],c,d,f=0,g=this.groups;f<g.length;){var e=
g[f];++f;b.push(c=new ea([]));c.parentNode=e.parentNode;for(var k=e.nodes.iterator();k.hasNext();){var t=k.next();null!=t?(c.nodes.push(d=a(e.parentNode)),d.__dhx_data__=j.field(t,"__dhx_data__")):c.nodes.push(null)}}ec.merge(b,this._choice);return this.createSelection(b)},__class__:Gd};ed=function(a,b){$a.call(this,a);this._choice=b};ed.__name__=["dhx","EnterSelection"];ed.__super__=$a;ed.prototype=w($a.prototype,{_choice:null,createSelection:function(a){return new ed(a,this._choice)},update:function(){return this._choice.update()},
__class__:ed});dd=function(a,b){Ib.call(this,a);this._choice=b};dd.__name__=["dhx","ExitSelection"];dd.__super__=Ib;dd.prototype=w(Ib.prototype,{_choice:null,createSelection:function(a){return new dd(a,this._choice)},update:function(){return this._choice.update()},__class__:dd});Qb=function(){};Qb.__name__=["dhx","Svg"];Qb.mouse=function(a){var b=(null!=a.ownerSVGElement?a.ownerSVGElement:a).createSVGPoint();if(Qb._usepage&&(D.Lib.window.scrollX||D.Lib.window.scrollY)){var c=G.selectNode(D.Lib.document.body).append("svg:svg").style("position").string("absolute").style("top")["float"](0).style("left")["float"](0),
d=c.node().getScreenCTM();Qb._usepage=!(d.f||d.e);c.remove()}Qb._usepage?(b.x=G.event.pageX,b.y=G.event.pageY):(b.x=G.event.clientX,b.y=G.event.clientY);b=b.matrixTransform(a.getScreenCTM().inverse());return[b.x,b.y]};Qb.prototype={__class__:Qb};fa=function(){};fa.__name__=["dhx","Timer"];fa.timer=function(a,b){null==b&&(b=0);var c=Date.now().getTime(),d=!1,f=fa.queue;if(Math.isFinite(b)){for(;null!=f;){if(j.compareMethods(a,f.f)){f.then=c;f.delay=b;d=!0;break}f=f.next}if(!d)fa.queue={f:a,then:c,
delay:b,next:fa.queue,flush:!1};if(0==fa.interval)fa.timeout=clearTimeout(fa.timeout),fa.interval=1,window.requestAnimationFrame(fa._step)}};fa.step=function(){for(var a,b=Date.now().getTime(),c=fa.queue;null!=c;){a=b-c.then;if(a>c.delay)c.flush=c.f(a);c=c.next}a=fa._flush()-b;if(24<a){if(Math.isFinite(a))clearTimeout(fa.timeout),fa.timeout=setTimeout(fa._step,a);fa.interval=0}else fa.interval=1,window.requestAnimationFrame(fa._step)};fa._flush=function(){var d;for(var a=null,b=fa.queue,c=Math.POSITIVE_INFINITY;null!=
b;)b.flush?(d=null!=a?a.next=b.next:fa.queue=b.next,b=d):(c=Math.min(c,b.then+b.delay),b=(a=b).next);return c};fa.prototype={__class__:fa};Aa=function(a){this.selection=a;var b=this._transitionId=0<Aa._inheritid?Aa._inheritid:++Aa._id;this._tweens=new ba;this._interpolators=[];this._remove=!1;this._stage=[];this._delay=[];this._duration=[];this._ease=Aa.DEFAULT_EASE;this._step=this.step.$bind(this);a.eachNode(function(a){j.hasField(a,"__dhx_transition__")?j.field(a,"__dhx_transition__").owner=b:a.__dhx_transition__=
{owner:b}});this.delay(null,0);this.duration(null,250)};Aa.__name__=["dhx","BaseTransition"];Aa.CUBIC_EQUATION=function(a){return Math.pow(a,3)};Aa.DEFAULT_EASE=function(a){return 0.5*(0.5>a?Aa.CUBIC_EQUATION(2*a):2-Aa.CUBIC_EQUATION(2-2*a))};Aa.prototype={_transitionId:null,_tweens:null,_interpolators:null,_remove:null,_stage:null,_delay:null,_duration:null,_durationMax:null,_ease:null,_step:null,_start:null,_end:null,selection:null,step:function(a){var b=!0,c=-1,d=this;this.selection.eachNode(function(f,
g){if(2!=d._stage[++c]){var e=(a-d._delay[c])/d._duration[c],k=j.field(f,"__dhx_transition__"),t,l=d._interpolators[c];if(1>e){if(b=!1,0>e)return}else e=1;if(null!=d._stage[c]){if(null==k||k.active!=d._transitionId){d._stage[c]=2;return}}else{if(null==k||k.active>d._transitionId){d._stage[c]=2;return}d._stage[c]=1;null!=d._start&&d._start(f,g);l=d._interpolators[c]=new ba;k.active=d._transitionId;for(t=d._tweens.keys();t.hasNext();){var u=t.next(),U=d._tweens.get(u);l.set(u,U(f,g))}}t=d._ease(e);
for(U=d._tweens.keys();U.hasNext();)u=U.next(),l.get(u)(t);if(1==e&&(d._stage[c]=2,k.active==d._transitionId))e=k.owner,e==d._transitionId&&(j.deleteField(f,"__dhx_transition__"),d._remove&&f.parentNode.removeChild(f)),Aa._inheritid=d._transitionId,null!=d._end&&d._end(f,g),Aa._inheritid=0,k.owner=e}});return b},endNode:function(a){this._end=a;return this._this()},delay:function(a,b){null==b&&(b=0);var c=Math.POSITIVE_INFINITY,d=-1,f=this;null!=a?this.selection.eachNode(function(b,e){var k=f._delay[++d]=
a(b,e);k<c&&(c=k)}):(c=b,this.selection.eachNode(function(){f._delay[++d]=c}));fa.timer(this._step,c);return this._this()},duration:function(a,b){null==b&&(b=0);var c=-1,d=this;null!=a?(this._durationMax=0,this.selection.eachNode(function(b,g){var e=d._duration[++c]=a(b,g);if(e>d._durationMax)d._durationMax=e})):(this._durationMax=b,this.selection.eachNode(function(){d._duration[++c]=d._durationMax}));return this._this()},ease:function(a){this._ease=a;return this._this()},remove:function(a){null==
a&&(a=!0);this._remove=a;return this._this()},createTransition:function(){throw"abstract method";},_this:function(){return this},__class__:Aa};bd=function(a){Aa.call(this,a)};bd.__name__=["dhx","UnboundTransition"];bd.__super__=Aa;bd.prototype=w(Aa.prototype,{style:function(a){return new zd(a,this,this._tweens)},createTransition:function(a){return new bd(a)},__class__:bd});cd=function(a){Aa.call(this,a)};cd.__name__=["dhx","BoundTransition"];cd.__super__=Aa;cd.prototype=w(Aa.prototype,{attr:function(a){return new yd(a,
this,this._tweens)},createTransition:function(a){return new cd(a)},__class__:cd});sd=void 0;Yc=void 0;$b=void 0;Gb=void 0;sd=function(a){for(var b=a.length,c=1;b>1<<c;)c++;if(8<c||b!=1<<c)throw"BaseCode : base length must be a power of two.";this.base=a;this.nbits=c};sd.__name__=["haxe","BaseCode"];sd.prototype={base:null,nbits:null,tbl:null,initTable:function(){for(var a=[],b=0;256>b;){var c=b++;a[c]=-1}for(var d=0,b=this.base.length;d<b;)c=d++,a[this.base.b[c]]=c;this.tbl=a},decodeBytes:function(a){var b=
this.nbits;null==this.tbl&&this.initTable();for(var c=this.tbl,d=a.length*b>>3,f=kb.alloc(d),g=0,e=0,k=0,t=0;t<d;){for(;8>e;){var e=e+b,g=g<<b,l=c[a.b[k++]];if(-1==l)throw"BaseCode : invalid encoded char";g|=l}e-=8;f.b[t++]=g>>e&255}return f},__class__:sd};Yc=function(a){this.url=a;this.headers=new ba;this.params=new ba;this.async=!0};Yc.__name__=["haxe","Http"];Yc.prototype={url:null,async:null,postData:null,headers:null,params:null,setHeader:function(a,b){this.headers.set(a,b)},setParameter:function(a,
b){this.params.set(a,b)},request:function(a){var b=this,c=new D.XMLHttpRequest,d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(c.responseText);else switch(a){case null:case void 0:b.onError("Failed to connect or resolve host");break;case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.onError("Http Error #"+c.status)}}};if(this.async)c.onreadystatechange=
d;var f=this.postData;if(null!=f)a=!0;else for(var g=this.params.keys();g.hasNext();)var e=g.next(),f=null==f?"":f+"&",f=f+(E.urlEncode(e)+"="+E.urlEncode(this.params.get(e)));try{if(a)c.open("POST",this.url,this.async);else if(null!=f){var k=1>=this.url.split("?").length;c.open("GET",this.url+(k?"?":"&")+f,this.async);f=null}else c.open("GET",this.url,this.async)}catch(t){this.onError(t.toString());return}null==this.headers.get("Content-Type")&&a&&null==this.postData&&c.setRequestHeader("Content-Type",
"application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)g=a.next(),c.setRequestHeader(g,this.headers.get(g));c.send(f);this.async||d()},onData:function(){},onError:function(){},onStatus:function(){},__class__:Yc};$b=function(){};$b.__name__=["haxe","Md5"];$b.encode=function(a){return(new $b).doEncode(a)};$b.prototype={bitOR:function(a,b){return(a>>>1|b>>>1)<<1|a&1|b&1},bitXOR:function(a,b){return(a>>>1^b>>>1)<<1|a&1^b&1},bitAND:function(a,b){return(a>>>1&b>>>1)<<1|a&1&b&1},addme:function(a,
b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535},rhex:function(a){for(var b="",c=0;4>c;)var d=c++,b=b+("0123456789abcdef".charAt(a>>8*d+4&15)+"0123456789abcdef".charAt(a>>8*d&15));return b},str2blks:function(a){for(var b=(a.length+8>>6)+1,c=[],d=0,f=16*b;d<f;){var g=d++;c[g]=0}for(g=0;g<a.length;)c[g>>2]|=a.charCodeAt(g)<<8*((8*a.length+g)%4),g++;c[g>>2]|=128<<8*((8*a.length+g)%4);a=8*a.length;b=16*b-2;c[b]=a&255;c[b]|=(a>>>8&255)<<8;c[b]|=(a>>>16&255)<<16;c[b]|=(a>>>24&255)<<
24;return c},rol:function(a,b){return a<<b|a>>>32-b},cmn:function(a,b,c,d,f,g){return this.addme(this.rol(this.addme(this.addme(b,a),this.addme(d,g)),f),c)},ff:function(a,b,c,d,f,g,e){return this.cmn(this.bitOR(this.bitAND(b,c),this.bitAND(~b,d)),a,b,f,g,e)},gg:function(a,b,c,d,f,g,e){return this.cmn(this.bitOR(this.bitAND(b,d),this.bitAND(c,~d)),a,b,f,g,e)},hh:function(a,b,c,d,f,g,e){return this.cmn(this.bitXOR(this.bitXOR(b,c),d),a,b,f,g,e)},ii:function(a,b,c,d,f,g,e){return this.cmn(this.bitXOR(c,
this.bitOR(b,~d)),a,b,f,g,e)},doEncode:function(a){for(var a=this.str2blks(a),b=1732584193,c=-271733879,d=-1732584194,f=271733878,g=0;g<a.length;)var e=b,k=c,t=d,l=f,b=this.ff(b,c,d,f,a[g],7,-680876936),f=this.ff(f,b,c,d,a[g+1],12,-389564586),d=this.ff(d,f,b,c,a[g+2],17,606105819),c=this.ff(c,d,f,b,a[g+3],22,-1044525330),b=this.ff(b,c,d,f,a[g+4],7,-176418897),f=this.ff(f,b,c,d,a[g+5],12,1200080426),d=this.ff(d,f,b,c,a[g+6],17,-1473231341),c=this.ff(c,d,f,b,a[g+7],22,-45705983),b=this.ff(b,c,d,f,a[g+
8],7,1770035416),f=this.ff(f,b,c,d,a[g+9],12,-1958414417),d=this.ff(d,f,b,c,a[g+10],17,-42063),c=this.ff(c,d,f,b,a[g+11],22,-1990404162),b=this.ff(b,c,d,f,a[g+12],7,1804603682),f=this.ff(f,b,c,d,a[g+13],12,-40341101),d=this.ff(d,f,b,c,a[g+14],17,-1502002290),c=this.ff(c,d,f,b,a[g+15],22,1236535329),b=this.gg(b,c,d,f,a[g+1],5,-165796510),f=this.gg(f,b,c,d,a[g+6],9,-1069501632),d=this.gg(d,f,b,c,a[g+11],14,643717713),c=this.gg(c,d,f,b,a[g],20,-373897302),b=this.gg(b,c,d,f,a[g+5],5,-701558691),f=this.gg(f,
b,c,d,a[g+10],9,38016083),d=this.gg(d,f,b,c,a[g+15],14,-660478335),c=this.gg(c,d,f,b,a[g+4],20,-405537848),b=this.gg(b,c,d,f,a[g+9],5,568446438),f=this.gg(f,b,c,d,a[g+14],9,-1019803690),d=this.gg(d,f,b,c,a[g+3],14,-187363961),c=this.gg(c,d,f,b,a[g+8],20,1163531501),b=this.gg(b,c,d,f,a[g+13],5,-1444681467),f=this.gg(f,b,c,d,a[g+2],9,-51403784),d=this.gg(d,f,b,c,a[g+7],14,1735328473),c=this.gg(c,d,f,b,a[g+12],20,-1926607734),b=this.hh(b,c,d,f,a[g+5],4,-378558),f=this.hh(f,b,c,d,a[g+8],11,-2022574463),
d=this.hh(d,f,b,c,a[g+11],16,1839030562),c=this.hh(c,d,f,b,a[g+14],23,-35309556),b=this.hh(b,c,d,f,a[g+1],4,-1530992060),f=this.hh(f,b,c,d,a[g+4],11,1272893353),d=this.hh(d,f,b,c,a[g+7],16,-155497632),c=this.hh(c,d,f,b,a[g+10],23,-1094730640),b=this.hh(b,c,d,f,a[g+13],4,681279174),f=this.hh(f,b,c,d,a[g],11,-358537222),d=this.hh(d,f,b,c,a[g+3],16,-722521979),c=this.hh(c,d,f,b,a[g+6],23,76029189),b=this.hh(b,c,d,f,a[g+9],4,-640364487),f=this.hh(f,b,c,d,a[g+12],11,-421815835),d=this.hh(d,f,b,c,a[g+15],
16,530742520),c=this.hh(c,d,f,b,a[g+2],23,-995338651),b=this.ii(b,c,d,f,a[g],6,-198630844),f=this.ii(f,b,c,d,a[g+7],10,1126891415),d=this.ii(d,f,b,c,a[g+14],15,-1416354905),c=this.ii(c,d,f,b,a[g+5],21,-57434055),b=this.ii(b,c,d,f,a[g+12],6,1700485571),f=this.ii(f,b,c,d,a[g+3],10,-1894986606),d=this.ii(d,f,b,c,a[g+10],15,-1051523),c=this.ii(c,d,f,b,a[g+1],21,-2054922799),b=this.ii(b,c,d,f,a[g+8],6,1873313359),f=this.ii(f,b,c,d,a[g+15],10,-30611744),d=this.ii(d,f,b,c,a[g+6],15,-1560198380),c=this.ii(c,
d,f,b,a[g+13],21,1309151649),b=this.ii(b,c,d,f,a[g+4],6,-145523070),f=this.ii(f,b,c,d,a[g+11],10,-1120210379),d=this.ii(d,f,b,c,a[g+2],15,718787259),c=this.ii(c,d,f,b,a[g+9],21,-343485551),b=this.addme(b,e),c=this.addme(c,k),d=this.addme(d,t),f=this.addme(f,l),g=g+16;return this.rhex(b)+this.rhex(c)+this.rhex(d)+this.rhex(f)},__class__:$b};Gb=function(a){var b=this;this.id=window.setInterval(function(){b.run()},a)};Gb.__name__=["haxe","Timer"];Gb.delay=function(a,b){var c=new Gb(b);c.run=function(){c.stop();
a()};return c};Gb.prototype={id:null,stop:function(){if(null!=this.id)window.clearInterval(this.id),this.id=null},run:function(){},__class__:Gb};var fd,Rb;fd=function(){this.handlers=[]};fd.__name__=["hxevents","Dispatcher"];fd.prototype={handlers:null,add:function(a){this.handlers.push(a);return a},addOnce:function(a){var b=this,c=null,c=function(d){b.remove(c);a(d)};this.add(c);return c},remove:function(a){for(var b=0,c=this.handlers.length;b<c;){var d=b++;if(j.compareMethods(this.handlers[d],a))return this.handlers.splice(d,
1)[0]}return null},dispatch:function(a){for(var b=this.handlers.copy(),c=0;c<b.length;){var d=b[c];++c;if(!0==this._stop){this._stop=!1;break}d(a)}},_stop:null,__class__:fd};Rb=function(){this.handlers=[]};Rb.__name__=["hxevents","Notifier"];Rb.prototype={handlers:null,add:function(a){this.handlers.push(a);return a},addOnce:function(a){var b=this,c=null,c=function(){b.remove(c);a()};this.add(c);return c},remove:function(a){for(var b=0,c=this.handlers.length;b<c;){var d=b++;if(j.compareMethods(this.handlers[d],
a))return this.handlers.splice(d,1)[0]}return null},dispatch:function(){for(var a=this.handlers.copy(),b=0;b<a.length;){var c=a[b];++b;if(!0==this._stop){this._stop=!1;break}c()}},_stop:null,__class__:Rb};D.Boot=function(){};D.Boot.__name__=["js","Boot"];D.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(null!=a.__name__||null!=a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(null!=a.__enum__){if(2==a.length)return a[0];
for(var c=a[0]+"(",b=b+"\t",d=2,f=a.length;d<f;)var g=d++,c=2!=g?c+(","+D.Boot.__string_rec(a[g],b)):c+D.Boot.__string_rec(a[g],b);return c+")"}d=a.length;c="[";b+="\t";for(f=0;f<d;)g=f++,c+=(0<g?",":"")+D.Boot.__string_rec(a[g],b);return c+"]"}try{f=a.toString}catch(e){return"???"}if(null!=f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;f=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(f in a)if(!d||a.hasOwnProperty(f))"prototype"==f||"__class__"==f||"__super__"==f||"__interfaces__"==
f||"__properties__"==f||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+D.Boot.__string_rec(a[f],b));b=b.substring(1);return c+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};D.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var g=d++,g=c[g];if(g==b||D.Boot.__interfLoop(g,b))return!0}return D.Boot.__interfLoop(a.__super__,b)};D.Boot.__instanceof=function(a,b){try{if(a instanceof b)return b==
Array?null==a.__enum__:!0;if(D.Boot.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case Sb:return Math.ceil(a%2147483648)===a;case X:return"number"==typeof a;case T:return!0===a||!1===a;case String:return"string"==typeof a;case Pd:return!0;default:return null==a?!1:a.__enum__==b||b==Qd&&null!=a.__name__||b==Rd&&null!=a.__ename__}};D.Boot.__init=function(){D.Lib.isIE="undefined"!=typeof document&&null!=document.all&&"undefined"!=typeof window&&null==window.opera;D.Lib.isOpera=
"undefined"!=typeof window&&null!=window.opera;Array.prototype.copy=Array.prototype.slice;Array.prototype.insert=function(a,c){this.splice(a,0,c)};Array.prototype.remove=Array.prototype.indexOf?function(a){a=this.indexOf(a);if(-1==a)return!1;this.splice(a,1);return!0}:function(a){for(var c=0,d=this.length;c<d;){if(this[c]==a)return this.splice(c,1),!0;c++}return!1};Array.prototype.iterator=function(){return{cur:0,arr:this,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};
if(null==String.prototype.cca)String.prototype.cca=String.prototype.charCodeAt;String.prototype.charCodeAt=function(a){a=this.cca(a);return a!=a?void 0:a};var a=String.prototype.substr;String.prototype.substr=function(b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";if(null==c)c=this.length;0>b?(b=this.length+b,0>b&&(b=0)):0>c&&(c=this.length+c-b);return a.apply(this,[b,c])};Function.prototype.$bind=function(a){var c=function(){return c.method.apply(c.scope,arguments)};c.scope=a;c.method=this;return c}};
D.Boot.prototype={__class__:D.Boot};D.Scroll=function(){};D.Scroll.__name__=["js","Scroll"];D.Scroll.getTop=function(){var a=window.pageYOffset;if("number"==typeof a||document.body&&(a=document.body.scrollTop))return a;return document.documentElement.scrollTop};D.Scroll.getLeft=function(){var a=window.pageXOffset;if("number"==typeof a||document.body&&(a=document.body.scrollLeft))return a;return document.documentElement.scrollLeft};D.Scroll.prototype={__class__:D.Scroll};r=void 0;na=void 0;Dd=void 0;
r=function(){(null==r.BI_RC||0==r.BI_RC.length)&&r.initBiRc();if(0==r.BI_RM.length)throw"BI_RM not initialized";this.chunks=[];switch(r.defaultAm){case 1:this.am=this.am1.$bind(this);break;case 2:this.am=this.am2.$bind(this);break;case 3:this.am=this.am3.$bind(this);break;default:throw"am error";}};r.__name__=["math","BigInteger"];r.__properties__={get_ONE:"getONE",get_ZERO:"getZERO"};r.DB=null;r.DM=null;r.DV=null;r.BI_FP=null;r.FV=null;r.F1=null;r.F2=null;r.ZERO=null;r.ONE=null;r.BI_RM=null;r.BI_RC=
null;r.lowprimes=null;r.lplim=null;r.defaultAm=null;r.initBiRc=function(){r.BI_RC=[];for(var a=48,b=0;10>b;){var c=b++;r.BI_RC[a]=c;a++}a=97;for(b=10;37>b;)c=b++,r.BI_RC[a]=c,a++;a=65;for(b=10;37>b;)c=b++,r.BI_RC[a]=c,a++};r.getZERO=function(){return r.nbv(0)};r.getONE=function(){return r.nbv(1)};r.nbv=function(a){var b=r.nbi();b.fromInt(a);return b};r.nbi=function(){return new r};r.ofString=function(a,b){var c=r.nbi(),d=function(a,b){c.fromInt(0);for(var d=Math.floor(0.6931471805599453*r.DB/Math.log(b)),
f=Math.pow(b,d)|0,g=!1,e=0,h=0,k=0,j=a.length;k<j;){var i=k++,m=r.intAt(a,i);0>m?"-"==a.charAt(i)&&0==c.sign&&(g=!0):(h=b*h+m,++e>=d&&(c.dMultiply(f),c.dAddOffset(h,0),h=e=0))}0<e&&(c.dMultiply(Math.pow(b,e)|0),c.dAddOffset(h,0));g&&r.getZERO().subTo(c,c);return c};if(16==b)d=4;else{if(10==b)return d(a,b);if(256==b)d=8;else if(8==b)d=3;else if(2==b)d=1;else if(32==b)d=5;else if(4==b)d=2;else return d(a,b)}c.t=0;c.sign=0;for(var f=a.length,g=!1,e=0;0<=--f;){var k=8==d?a.charCodeAt(f)&255:r.intAt(a,
f);0>k?"-"==a.charAt(f)&&(g=!0):(g=!1,0==e?(c.chunks[c.t]=k,c.t++):e+d>r.DB?(c.chunks[c.t-1]|=(k&(1<<r.DB-e)-1)<<e,c.chunks[c.t]=k>>r.DB-e,c.t++):c.chunks[c.t-1]|=k<<e,e+=d,e>=r.DB&&(e-=r.DB))}if(8==d&&0!=(a.charCodeAt(0)&128))c.sign=-1,0<e&&(c.chunks[c.t-1]|=(1<<r.DB-e)-1<<e);c.clamp();g&&r.getZERO().subTo(c,c);return c};r.ofInt=function(a){var b=r.nbi();b.fromInt(a);return b};r.ofBytes=function(a,b,c,d){null==c&&(c=0);null==d&&(d=a.length-c);if(0==d)return r.getZERO();var f=r.nbi();f.sign=0;f.t=
0;for(var g=c+d,e=0;--g>=c;){var k=g<d?a.b[g]&255:0;0==e?(f.chunks[f.t]=k,f.t++):e+8>r.DB?(f.chunks[f.t-1]|=(k&(1<<r.DB-e)-1)<<e,f.chunks[f.t]=k>>r.DB-e,f.t++):f.chunks[f.t-1]|=k<<e;e+=8;e>=r.DB&&(e-=r.DB)}if(!b&&0!=(a.b[0]&128))f.sign=-1,0<e&&(f.chunks[f.t-1]|=(1<<r.DB-e)-1<<e);f.clamp();return f};r.nbits=function(a){var b=1,c;if(0!=(c=a>>>16))a=c,b+=16;if(0!=(c=a>>8))a=c,b+=8;if(0!=(c=a>>4))a=c,b+=4;if(0!=(c=a>>2))a=c,b+=2;0!=a>>1&&(b+=1);return b};r.intAt=function(a,b){var c=r.BI_RC[a.charCodeAt(b)];
return null==c?-1:c};r.prototype={t:null,sign:null,chunks:null,am:null,fromInt:function(a){this.t=1;this.chunks[0]=0;this.sign=0>a?-1:0;0<a?this.chunks[0]=a:-1>a?this.chunks[0]=a+r.DV:this.t=0},toInt:function(){if(0>this.sign){if(1==this.t)return this.chunks[0]-r.DV;if(0==this.t)return-1}else{if(1==this.t)return this.chunks[0];if(0==this.t)return 0}return(this.chunks[1]&(1<<32-r.DB)-1)<<r.DB|this.chunks[0]},toInt32:function(){return this.toInt()},toHex:function(){return this.toRadix(16).toString()},
toBytesUnsigned:function(){var a=new ac,b=0,c=this.t,d=r.DB-c*r.DB%8,f=!1,g=0;if(0<c--){if(d<r.DB&&0<(b=this.chunks[c]>>d))f=!0,a.b.push(b),g++;for(;0<=c;)8>d?(b=(this.chunks[c]&(1<<d)-1)<<8-d,b|=this.chunks[--c]>>(d+=r.DB-8)):(b=this.chunks[c]>>(d-=8)&255,0>=d&&(d+=r.DB,--c)),0<b&&(f=!0),f&&(a.b.push(b),g++)}return a.getBytes()},toRadix:function(a){null==a&&(a=10);if(2>a||36<a)throw new H.UnsupportedException("invalid base for conversion");if(0==this.sigNum())return"0";var b=Math.floor(0.6931471805599453*
r.DB/Math.log(a)),b=Math.pow(a,b)|0,c=r.nbv(b),d=r.nbi(),f=r.nbi(),g="";for(this.divRemTo(c,d,f);0<d.sigNum();)g=Pa.baseEncode(b+f.toInt32(),a).substr(1)+g,d.divRemTo(c,d,f);return Pa.baseEncode(f.toInt32(),a)+g},abs:function(){return 0>this.sign?this.neg():this},add:function(a){var b=r.nbi();this.addTo(a,b);return b},compare:function(a){var b=this.sign-a.sign;if(0!=b)return b;var c=this.t,b=c-a.t;if(0!=b)return b;for(;0<=--c;)if(b=this.chunks[c]-a.chunks[c],0!=b)return b;return 0},div:function(a){var b=
r.nbi();this.divRemTo(a,b,null);return b},isEven:function(){return 0==(0<this.t?this.chunks[0]&1:this.sign)},mod:function(a){var b=r.nbi();this.abs().divRemTo(a,null,b);0>this.sign&&0<b.compare(r.getZERO())&&a.subTo(b,b);return b},modPow:function(a,b){var c=a.bitLength(),d,f=r.nbv(1),g;if(0>=c)return f;d=18>c?1:48>c?3:144>c?4:768>c?5:6;g=8>c?new na.Classic(b):b.isEven()?new na.Barrett(b):new na.Montgomery(b);var e=[],k=3,t=d-1,l=(1<<d)-1;e[1]=g.convert(this);if(1<d){c=r.nbi();for(g.sqrTo(e[1],c);k<=
l;)e[k]=r.nbi(),g.mulTo(c,e[k-2],e[k]),k+=2}for(var u=a.t-1,U,j=!0,i=r.nbi(),c=r.nbits(a.chunks[u])-1;0<=u;){c>=t?U=a.chunks[u]>>c-t&l:(U=(a.chunks[u]&(1<<c+1)-1)<<t-c,0<u&&(U|=a.chunks[u-1]>>r.DB+c-t));for(k=d;0==(U&1);)U>>=1,--k;if(0>(c-=k))c+=r.DB,--u;if(j)e[U].copyTo(f),j=!1;else{for(;1<k;)g.sqrTo(f,i),g.sqrTo(i,f),k-=2;0<k?g.sqrTo(f,i):(k=f,f=i,i=k);g.mulTo(i,e[U],f)}for(k=a.chunks[u];0<=u&&0==(k&1<<c);)g.sqrTo(f,i),k=f,f=i,i=k,0>--c&&(c=r.DB-1,--u),k=a.chunks[u]}return g.revert(f)},modPowInt:function(a,
b){if(null==b)throw"m is null";var c;c=256>a||b.isEven()?new na.Classic(b):new na.Montgomery(b);return this.exp(a,c)},mul:function(a){var b=r.nbi();this.multiplyTo(a,b);return b},neg:function(){var a=r.nbi();r.getZERO().subTo(this,a);return a},sub:function(a){var b=r.nbi();this.subTo(a,b);return b},bitLength:function(){return 0>=this.t?0:r.DB*(this.t-1)+r.nbits(this.chunks[this.t-1]^this.sign&r.DM)},addTo:function(a,b){for(var c=0,d=0,f=Math.min(a.t,this.t)|0;c<f;)d+=this.chunks[c]+a.chunks[c],b.chunks[c]=
d&r.DM,c++,d>>=r.DB;if(a.t<this.t){for(d+=a.sign;c<this.t;)d+=this.chunks[c],b.chunks[c]=d&r.DM,c++,d>>=r.DB;d+=this.sign}else{for(d+=this.sign;c<a.t;)d+=a.chunks[c],b.chunks[c]=d&r.DM,c++,d>>=r.DB;d+=a.sign}b.sign=0>d?-1:0;0<d?(b.chunks[c]=d,c++):-1>d&&(b.chunks[c]=r.DV+d,c++);b.t=c;b.clamp()},copyTo:function(a){for(var b=0,c=this.chunks.length;b<c;){var d=b++;a.chunks[d]=this.chunks[d]}a.t=this.t;a.sign=this.sign},divRemTo:function(a,b,c){var d=a.abs();if(!(0>=d.t)){var f=this.abs();if(f.t<d.t)null!=
b&&b.fromInt(0),null!=c&&this.copyTo(c);else{null==c&&(c=r.nbi());var g=r.nbi(),e=this.sign,a=a.sign,k=r.DB-r.nbits(d.chunks[d.t-1]);0<k?(f.lShiftTo(k,c),d.lShiftTo(k,g)):(f.copyTo(c),d.copyTo(g));d=g.t;f=g.chunks[d-1];if(0!=f){var t=1*f*1*(1<<r.F1)+(1<d?1*(g.chunks[d-2]>>r.F2):0),l=r.FV/t,t=1*(1<<r.F1)/t,u=1*(1<<r.F2),U=c.t,j=U-d,i=null==b?r.nbi():b;g.dlShiftTo(j,i);0<=c.compare(i)&&(c.chunks[c.t]=1,c.t++,c.subTo(i,c));r.getONE().dlShiftTo(d,i);for(i.subTo(g,g);g.t<d;)g.chunks[g.t]=0,g.t++;for(;0<=
--j;){var m;m=c.chunks[--U]==f?r.DM:Math.floor(1*c.chunks[U]*l+(1*c.chunks[U-1]+u)*t);c.chunks[U]+=g.am(0,m,c,j,0,d);if(c.chunks[U]<m){g.dlShiftTo(j,i);for(c.subTo(i,c);c.chunks[U]<--m;)c.subTo(i,c)}}null!=b&&(c.drShiftTo(d,b),e!=a&&r.getZERO().subTo(b,b));c.t=d;c.clamp();0<k&&c.rShiftTo(k,c);0>e&&r.getZERO().subTo(c,c)}}}},multiplyLowerTo:function(a,b,c){var d=Math.min(this.t+a.t,b)|0;c.sign=0;for(c.t=d;0<d;)--d,c.chunks[d]=0;for(var f=c.t-this.t;d<f;)c.chunks[d+this.t]=this.am(0,a.chunks[d],c,d,
0,this.t),++d;for(f=Math.min(a.t,b)|0;d<f;)this.am(0,a.chunks[d],c,d,0,b-d),++d;c.clamp()},multiplyTo:function(a,b){var c=this.abs(),d=a.abs(),f=c.t;for(b.t=f+d.t;0<=--f;)b.chunks[f]=0;for(var f=0,g=d.t;f<g;){var e=f++;b.chunks[e+c.t]=c.am(0,d.chunks[e],b,e,0,c.t)}b.sign=0;b.clamp();this.sign!=a.sign&&r.getZERO().subTo(b,b)},multiplyUpperTo:function(a,b,c){--b;var d=c.t=this.t+a.t-b;for(c.sign=0;0<=--d;)c.chunks[d]=0;for(var d=Math.max(b-this.t,0)|0,f=a.t;d<f;){var g=d++;c.chunks[this.t+g-b]=this.am(b-
g,a.chunks[g],c,0,0,this.t+g-b)}c.clamp();c.drShiftTo(1,c)},squareTo:function(a){if(a==this)throw"can not squareTo self";for(var b=this.abs(),c=a.t=2*b.t;0<=--c;)a.chunks[c]=0;for(c=0;c<b.t-1;){var d=b.am(c,b.chunks[c],a,2*c,0,1);if((a.chunks[c+b.t]+=b.am(c+1,2*b.chunks[c],a,2*c+1,d,b.t-c-1))>=r.DV)a.chunks[c+b.t]-=r.DV,a.chunks[c+b.t+1]=1;c++}0<a.t&&(b=b.am(c,b.chunks[c],a,2*c,0,1),a.chunks[a.t-1]+=b);a.sign=0;a.clamp()},subTo:function(a,b){for(var c=0,d=0,f=Math.min(a.t,this.t)|0;c<f;)d+=this.chunks[c]-
a.chunks[c],b.chunks[c]=d&r.DM,c++,d>>=r.DB;if(a.t<this.t){for(d-=a.sign;c<this.t;)d+=this.chunks[c],b.chunks[c]=d&r.DM,c++,d>>=r.DB;d+=this.sign}else{for(d+=this.sign;c<a.t;)d-=a.chunks[c],b.chunks[c]=d&r.DM,c++,d>>=r.DB;d-=a.sign}b.sign=0>d?-1:0;-1>d?(b.chunks[c]=r.DV+d,c++):0<d&&(b.chunks[c]=d,c++);b.t=c;b.clamp()},clamp:function(){for(var a=this.sign&r.DM;0<this.t&&this.chunks[this.t-1]==a;)--this.t},padTo:function(a){for(;this.t<a;)this.chunks[this.t]=0,this.t++},sigNum:function(){return 0>this.sign?
-1:0>=this.t||1==this.t&&0>=this.chunks[0]?0:1},dAddOffset:function(a,b){for(;this.t<=b;)this.chunks[this.t]=0,this.t++;for(this.chunks[b]+=a;this.chunks[b]>=r.DV;)this.chunks[b]-=r.DV,++b>=this.t&&(this.chunks[this.t]=0,this.t++),++this.chunks[b]},dlShiftTo:function(a,b){if(null!=b){for(var c=this.t-1;0<=c;)b.chunks[c+a]=this.chunks[c],c--;for(c=a-1;0<=c;)b.chunks[c]=0,c--;b.t=this.t+a;b.sign=this.sign}},drShiftTo:function(a,b){if(null!=b){for(var c=a;c<this.t;)b.chunks[c-a]=this.chunks[c],c++;b.t=
Math.max(this.t-a,0)|0;b.sign=this.sign}},invDigit:function(){if(1>this.t)return 0;var a=this.chunks[0];if(0==(a&1))return 0;var b=a&3,b=b*(2-(a&15)*b)&15,b=b*(2-(a&255)*b)&255,b=b*(2-((a&65535)*b&65535))&65535,b=b*(2-a*b%r.DV)%r.DV;return 0<b?r.DV-b:-b},dMultiply:function(a){this.chunks[this.t]=this.am(0,a-1,this,0,0,this.t);this.t++;this.clamp()},exp:function(a,b){if(2147483647<a||1>a)return r.getONE();var c=r.nbi(),d=r.nbi(),f=b.convert(this),g=r.nbits(a)-1;for(f.copyTo(c);0<=--g;)if(b.sqrTo(c,
d),0<(a&1<<g))b.mulTo(d,f,c);else var e=c,c=d,d=e;return b.revert(c)},lShiftTo:function(a,b){for(var c=a%r.DB,d=r.DB-c,f=(1<<d)-1,g=Math.floor(a/r.DB),e=this.sign<<c&r.DM,k=this.t-1;0<=k;)b.chunks[k+g+1]=this.chunks[k]>>d|e,e=(this.chunks[k]&f)<<c,k--;for(k=g-1;0<=k;)b.chunks[k]=0,k--;b.chunks[g]=e;b.t=this.t+g+1;b.sign=this.sign;b.clamp()},rShiftTo:function(a,b){b.sign=this.sign;var c=Math.floor(a/r.DB);if(c>=this.t)b.t=0;else{var d=a%r.DB,f=r.DB-d,g=(1<<d)-1;b.chunks[0]=this.chunks[c]>>d;for(var e=
c+1,k=this.t;e<k;){var t=e++;b.chunks[t-c-1]|=(this.chunks[t]&g)<<f;b.chunks[t-c]=this.chunks[t]>>d}0<d&&(b.chunks[this.t-c-1]|=(this.sign&g)<<f);b.t=this.t-c;b.clamp()}},am1:function(a,b,c,d,f,e){for(;0<=--e;){var h=b*this.chunks[a]+c.chunks[d]+f;a++;f=Math.floor(h/67108864);c.chunks[d]=h&67108863;d++}return f},am2:function(a,b,c,d,f,e){for(var h=b&32767,b=b>>15;0<=--e;){var k=this.chunks[a]&32767,t=this.chunks[a]>>15;a++;var l=b*k+t*h,k=h*k+((l&32767)<<15)+c.chunks[d]+(f&1073741823),f=(k>>>30)+
(l>>>15)+b*t+(f>>>30);c.chunks[d]=k&1073741823;d++}return f},am3:function(a,b,c,d,f,e){for(var h=b&16383,b=b>>14;0<=--e;){var k=this.chunks[a]&16383,t=this.chunks[a]>>14;a++;var l=b*k+t*h,k=h*k+((l&16383)<<14)+c.chunks[d]+f,f=(k>>28)+(l>>14)+b*t;c.chunks[d]=k&268435455;d++}return f},__class__:r};Dd={IPrng:function(){}};Dd.IPrng.__name__=["math","prng","IPrng"];Dd.IPrng.prototype={size:null,init:null,next:null,toString:null,__class__:Dd.IPrng};na={ModularReduction:function(){}};na.ModularReduction.__name__=
["math","reduction","ModularReduction"];na.ModularReduction.prototype={convert:null,revert:null,reduce:null,mulTo:null,sqrTo:null,__class__:na.ModularReduction};na.Barrett=function(a){this.r2=r.nbi();this.q3=r.nbi();r.getONE().dlShiftTo(2*a.t,this.r2);this.mu=this.r2.div(a);this.m=a};na.Barrett.__name__=["math","reduction","Barrett"];na.Barrett.__interfaces__=[na.ModularReduction];na.Barrett.prototype={m:null,mu:null,r2:null,q3:null,convert:function(a){if(0>a.sign||a.t>2*this.m.t)return a.mod(this.m);
if(0>a.compare(this.m))return a;var b=r.nbi();a.copyTo(b);this.reduce(b);return b},revert:function(a){return a},reduce:function(a){a.drShiftTo(this.m.t-1,this.r2);if(a.t>this.m.t+1)a.t=this.m.t+1,a.clamp();this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>a.compare(this.r2);)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);0<=a.compare(this.m);)a.subTo(this.m,a)},sqrTo:function(a,b){a.squareTo(b);this.reduce(b)},mulTo:function(a,b,c){a.multiplyTo(b,
c);this.reduce(c)},__class__:na.Barrett};na.Classic=function(a){this.m=a};na.Classic.__name__=["math","reduction","Classic"];na.Classic.__interfaces__=[na.ModularReduction];na.Classic.prototype={m:null,convert:function(a){return 0>a.sign||0<=a.compare(this.m)?a.mod(this.m):a},revert:function(a){return a},reduce:function(a){a.divRemTo(this.m,null,a)},mulTo:function(a,b,c){a.multiplyTo(b,c);this.reduce(c)},sqrTo:function(a,b){a.squareTo(b);this.reduce(b)},__class__:na.Classic};na.Montgomery=function(a){this.m=
a;this.mp=this.m.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<r.DB-15)-1;this.mt2=2*this.m.t};na.Montgomery.__name__=["math","reduction","Montgomery"];na.Montgomery.__interfaces__=[na.ModularReduction];na.Montgomery.prototype={m:null,mt2:null,mp:null,mpl:null,mph:null,um:null,convert:function(a){var b=r.nbi();a.abs().dlShiftTo(this.m.t,b);b.divRemTo(this.m,null,b);0>a.sign&&0<b.compare(r.getZERO())&&this.m.subTo(b,b);return b},revert:function(a){var b=r.nbi();a.copyTo(b);this.reduce(b);
return b},reduce:function(a){a.padTo(this.mt2);for(var b=0;b<this.m.t;){var c=a.chunks[b]&32767,d=c*this.mpl+((c*this.mph+(a.chunks[b]>>15)*this.mpl&this.um)<<15)&r.DM,c=b+this.m.t;for(a.chunks[c]+=this.m.am(0,d,a,b,0,this.m.t);a.chunks[c]>=r.DV;)a.chunks[c]-=r.DV,a.chunks.length<c+2&&(a.chunks[c+1]=0),a.chunks[++c]++;b++}a.clamp();a.drShiftTo(this.m.t,a);0<=a.compare(this.m)&&a.subTo(this.m,a)},mulTo:function(a,b,c){a.multiplyTo(b,c);this.reduce(c)},sqrTo:function(a,b){a.squareTo(b);this.reduce(b)},
__class__:na.Montgomery};var ab;ab=function(){};ab.__name__=["rg","RGConst"];ab.prototype={__class__:ab};Ma=function(a){this.layouts=new ba;this.globalNotifier=a};Ia=void 0;Ra=void 0;Ma.__name__=["rg","app","charts","App"];Ma.nextid=function(){return":RGVIZ-"+ ++Ma.lastid};Ma.supportsSvg=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};Ma.prototype={layouts:null,globalNotifier:null,visualization:function(a,b){var c=this;Ma.chartsCounter++;
var d=a.node(),f=d.id;if(null==f)d.id=f=Ma.nextid();var d=O.feed(new Nc,b),e=new Bd(O.feed(new Oc,b).loader),h=(new ld).createVariables(d.variables),k=O.feed(new Pc,d.options),t=O.feed(new Qc,d.options),l=!Ma.supportsSvg()||k.forcelegacy,u=null;d.options.marginheight=29;var j=y.filter(h,function(a){return i.is(a,Vb)}),m=y.filter(h,function(a){return i.is(a,kc)});e.onLoad.addOnce(function(a){(new qd).process(a,j);(new rd).process(a,m)});if(!l){switch(O.feed(new Rc,d.options).kind[1]){case 1:f=this.getLayout(f,
d.options,a,t.replace);u=(new md).create(t.type,f,d.options);break;case 0:t.replace&&a.selectAll("*").remove(),u=(new nd).create(t.type,a,d.options)}u.setVariables(h,j,m);u.init();null!=k.ready&&u.addReady(k.ready);e.onLoad.addOnce(function(a){u.feedData(a)})}var n=0,p=O.feed(new Sc,b.options.download);if(l){var o=new Da(a,p.legacyservice);e.onLoad.addOnce(function(a){b.datapoints=a;o.display(b)})}if(!l&&(null!=p.position||null!=p.handler)){var q=new Ab(u.container,p.service);null!=p.handler?u.addReadyOnce(function(){p.handler(q.download.$bind(q))}):
u.addReadyOnce(function(){new z.DownloaderMenu(q.download.$bind(q),p.position,p.formats,u.container);n=24})}l||(b.options.a||u.addReadyOnce(function(){z.Logo.createLogo(u.container,n)}),u.addReadyOnce(function(){Ma.chartsLoaded++;Ma.chartsLoaded==Ma.chartsCounter&&c.globalNotifier.dispatch()}));Gb.delay(e.load.$bind(e),0);return u},getLayout:function(a,b,c,d){var f=this.layouts.get(a);if(null!=f)if(d)f.destroy();else return f;d=O.feed(new Tc,b);b=(new hb).create(d,b.marginheight,c);this.layouts.set(a,
b);return b},__class__:Ma};Ia=function(){};Ia.__name__=["rg","app","charts","JSBridge"];Ia.log=function(a){(window.console&&window.console.warn||alert)(a)};Ia.main=function(){var a="undefined"==typeof ReportGrid?window.ReportGrid={}:ReportGrid,b=new Rb,c=!1;b.addOnce(function(){c=!0});a.charts={ready:function(a){c?a():b.add(a)}};var d=new Ma(b);a.chart=function(a,b,c){b=Ia.chartopt(b,c);b.options.a=!1;Ra.complete(b,function(b){try{d.visualization(Ia.select(a),b)}catch(c){D.Boot.__instanceof(c,x.Error)?
Ia.log(c.toString()):Ia.log(i.string(c))}})};a.barChart=function(b,c){return a.chart(b,c,"barchart")};a.funnelChart=function(b,c){return a.chart(b,c,"funnelchart")};a.geo=function(b,c){return a.chart(b,c,"geo")};a.heatGrid=function(b,c){return a.chart(b,c,"heatgrid")};a.leaderBoard=function(b,c){return a.chart(b,c,"leaderboard")};a.lineChart=function(b,c){return a.chart(b,c,"linechart")};a.pieChart=function(b,c){return a.chart(b,c,"piechart")};a.pivotTable=function(b,c){return a.chart(b,c,"pivottable")};
a.sankey=function(b,c){return a.chart(b,c,"sankey")};a.scatterGraph=function(b,c){return a.chart(b,c,"scattergraph")};a.streamGraph=function(b,c){return a.chart(b,c,"streamgraph")};a.parseQueryParameters=xb.parseQueryParameters;a.findScript=ic.findScript;a.format=S.format;a.compare=S.compare;a.dump=S.string;var f=ha.SymbolCache.cache;a.symbol=function(a,b){return f.get(a,null==b?100:b)};a.date={range:function(a,b,c){i.is(a,String)&&(a=q.DateParser.parse(a));null==a&&(a=N.defaultRange(c)[0]);i.is(a,
Date)&&(a=a.getTime());i.is(b,String)&&(b=q.DateParser.parse(b));null==b&&(b=N.defaultRange(c)[1]);i.is(b,Date)&&(b=b.getTime());return N.range(a,b,c)},formatPeriodicity:function(a,b){var c=i.is(a,Date)?a.getTime():i.is(a,X)?a:q.DateParser.parse(a).getTime();return N.format(b,c)},parse:q.DateParser.parse,snap:sa.snap};a.humanize=function(a){return i.is(a,String)&&0<=a.indexOf("time:")?a.substr(a.indexOf("time:")+5):ga.humanize(a)};var e=new B.Random(666);a.math={setRandomSeed:function(a){e=new B.Random(a)},
random:function(){return((e.seed=16807*e.seed%2147483647)&1073741823)/1073741823}};a.query=null!=a.query?a.query:Ia.createQuery();a.info=null!=a.info?a.info:{};a.info.charts={version:"1.4.26.8324"}};Ia.createQuery=function(){for(var a=gb.create(),b={},c=0,d=A.getInstanceFields(A.getClass(a));c<d.length;){var f=[d[c]];++c;"_"!=f[0].substr(0,1)&&j.isFunction(j.field(a,f[0]))&&(b[f[0]]=function(a){return function(){var b=gb.create();return j.field(b,a[0]).apply(b,arguments)}}(f))}return b};Ia.select=
function(a){var b=i.is(a,String)?G.select(a):G.selectNode(a);if(b.empty())throw new x.Error("invalid container '{0}'",a,null,{fileName:"JSBridge.hx",lineNumber:196,className:"rg.app.charts.JSBridge",methodName:"select"});return b};Ia.opt=function(a){return null==a?{}:ma.clone(a)};Ia.chartopt=function(a,b){a=null==a?{}:ma.clone(a);a.options=Ia.opt(a.options);a.options.visualization=null!=b?b:a.options.visualization;return a};Ia.prototype={__class__:Ia};Ra=function(){};Ra.__name__=["rg","app","charts",
"MVPOptions"];Ra.a1=function(a,b){var c=ReportGrid.authCode,d=!1;null==c&&(c=ic.findScript("reportgrid-charts.js"),c=xb.parseQueryParameters(c.src),c=j.field(c,"authCode"));if(null!=c){var c=new jd(c),f=[],e=D.Lib.window.location.hostname;if((new Q("^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$","")).match(e))f.push(e);else{e=e.split(".");3==e.length&&"www"==e[0]&&e.shift();for(f.push(e.join("."));2<e.length;)e.shift();f.push("*."+e.join("."))}d=c.authorizeMany(f)}else d=z.Logo.pageIsBranded();Ra.a1=
function(a,b){a.options.a=d;b(a)};Ra.a1(a,b)};Ra.a2=function(a,b){var c=function(c){Ra.a2=null==c?function(a,b){b(a)}:function(a,b){a.options.a=c;b(a)};Ra.a2(a,b)},d=ReportGrid.token;a.options.a||null==d?c(null):d(function(a){c((0>=a.expires||a.expires>=Date.now().getTime())&&a.permissions.read)},function(){c(null)})};Ra.complete=function(a,b){var c=new kd(b);if(null==a.options)a.options={};var d=a.options;if(null!=d.download&&!Ha.isAnonymous(d.download)){var f=d.download;j.deleteField(d,"download");
if(!0==f)d.download={position:"auto"};else if(i.is(f,String))d.download={position:f};else throw new x.Error("invalid value for download '{0}'",[f],null,{fileName:"MVPOptions.hx",lineNumber:118,className:"rg.app.charts.MVPOptions",methodName:"complete"});}if(null!=d.map&&Ha.isAnonymous(d.map))d.map=[d.map];c.addAction(Ra.a1);c.addAction(Ra.a2);c.addAction(function(a,b){var c=a.axes,d=!1;null==c&&(c=[]);a.axes=c=c.map(function(a){return i.is(a,String)?{type:a}:a});for(var f=0,e=c.length;f<e;){var j=
f++,m=c[j].variable;null==m?c[j].variable=!d&&j==c.length-1?"dependent":"independent":"dependent"==m&&(d=!0)}for(e=0;e<c.length;)if(d=c[e],++e,"dependent"!=d.variable)switch(a.options.visualization){case "barchart":case "pivottable":if(null==d.scalemode)d.scalemode="fit"}b(a)});c.addAction(function(a,b){if(null==a.options.label)switch(a.options.visualization){case "linechart":case "barchart":case "streamgraph":var c=a.axes[0].type;a.options.label={datapointover:function(b,d){return(null!=a.options.segmenton?
xa.formatValue(a.options.segmenton,b)+", ":"")+xa.formatValue(c,b)+": "+xa.formatValue(d.type,b)}};break;case "scattergraph":case "heatgrid":c=a.axes[0].type;a.options.label={datapointover:function(a,b){return xa.formatValue(c,a)+": "+xa.formatValue(b.type,a)}};break;case "geo":var c=a.axes[0].type,d=a.options.map;d[d.length-1].label={datapointover:function(a,b){var d=xa.formatValue(c,a);return null==d?null:d+": "+xa.formatValue(b.type,a)}};break;case "piechart":a.options.label={datapoint:function(b,
c){var d=j.field(b,c.type);return 1<a.axes.length?xa.formatValue(a.axes[0].type,b):0!=c.tot?C.format(Math.round(1E3*d/c.tot)/10,"P:1"):ga.humanize(d)},datapointover:function(b,c){var d=j.field(b,c.type);return ga.humanize(c.type)+": "+ga.humanize(d)+(1<a.axes.length&&0!=c.tot?" ("+C.format(Math.round(1E3*d/c.tot)/10,"P:1")+")":"")}};break;case "sankey":d=a.axes,c=d[d.length-1].type,a.options.label={datapointover:function(a,b){var d=j.field(a,c);return ga.humanize(c)+": "+xa.formatValue(c,a)+"\n"+
(0!=b.tot?C.format(Math.round(1E3*d/b.tot)/10,"P:1"):ga.humanize(d))},node:function(a){return null!=a?a.id:""},datapoint:function(a){return xa.formatValue(c,a)+"\n"+ga.humanize(c)},edge:function(a){return C.format(100*a.edgeweight/a.nodeweight,"D:0")+"%"},edgeover:function(a){return C.format(a.edgeweight,"D:0")+"\n"+C.format(100*a.edgeweight/a.nodeweight,"D:0")+"%"}}}b(a)});c.execute(a)};Ra.prototype={__class__:Ra};id=function(){};Mb=void 0;Jc=void 0;mb=void 0;za=void 0;cb=void 0;db=void 0;Tb=void 0;
eb=void 0;vb=void 0;fb=void 0;Sa=void 0;Ub=void 0;nb=void 0;hc=void 0;wb=void 0;Kc=void 0;Lc=void 0;id.__name__=["rg","axis","IAxis"];id.prototype={scale:null,ticks:null,max:null,min:null,createStats:null,__class__:id};Mb=function(){};Mb.__name__=["rg","axis","IAxisDiscrete"];Mb.__interfaces__=[id];Mb.prototype={scaleDistribution:null,range:null,__class__:Mb,__properties__:{set_scaleDistribution:"setScaleDistribution"}};Jc=function(){};Jc.__name__=["rg","axis","IAxisOrdinal"];Jc.__interfaces__=[Mb];
Jc.prototype={first:null,last:null,allTicks:null,values:null,__class__:Jc};mb=function(){this.setScaleDistribution(za.ScaleFit)};mb.__name__=["rg","axis","AxisOrdinal"];mb.__interfaces__=[Jc];mb.prototype={scaleDistribution:null,toTickmark:function(a,b,c){a=this.range(a,b);return new cb(a.indexOf(c),a,null,this.scaleDistribution)},ticks:function(a,b,c){if(0==c)return[];a=cb.fromArray(this.range(a,b),this.scaleDistribution);return db.bound(a,c)},range:function(a,b){var c=this.values(),d=c.indexOf(a),
f=c.indexOf(b);if(0>d)throw new x.Error("the start bound '{0}' is not part of the acceptable values {1}",[a,c],null,{fileName:"AxisOrdinal.hx",lineNumber:41,className:"rg.axis.AxisOrdinal",methodName:"range"});if(0>f)throw new x.Error("the end bound '{0}' is not part of the acceptable values {1}",[b,c],null,{fileName:"AxisOrdinal.hx",lineNumber:43,className:"rg.axis.AxisOrdinal",methodName:"range"});return c.slice(d,f+1)},scale:function(a,b,c){var d=this.values(),f=d.indexOf(a),e=d.indexOf(b),h=d.indexOf(c);
if(0>f)throw new x.Error("the start bound '{0}' is not part of the values {1}",[a,d],null,{fileName:"AxisOrdinal.hx",lineNumber:54,className:"rg.axis.AxisOrdinal",methodName:"scale"});if(0>e)throw new x.Error("the end bound '{0}' is not part of the values {1}",[b,d],null,{fileName:"AxisOrdinal.hx",lineNumber:56,className:"rg.axis.AxisOrdinal",methodName:"scale"});if(0>h)throw new x.Error("the value '{0}' is not part of the values {1}",[c,d],null,{fileName:"AxisOrdinal.hx",lineNumber:58,className:"rg.axis.AxisOrdinal",
methodName:"scale"});return Tb.distribute(this.scaleDistribution,h-f,e-f+1)},first:function(){return this.values()[0]},last:function(){return y.last(this.values())},values:function(){throw new x.AbstractMethod({fileName:"AxisOrdinal.hx",lineNumber:64,className:"rg.axis.AxisOrdinal",methodName:"values"});},allTicks:function(){var a=this,b=this.first(),c=this.last();return this.range(b,c).map(function(d){return a.toTickmark(b,c,d)})},setScaleDistribution:function(a){return this.scaleDistribution=a},
min:function(){return this.values()[0]},max:function(){return y.last(this.values())},createStats:function(a){return new eb(a)},__class__:mb,__properties__:{set_scaleDistribution:"setScaleDistribution"}};vb=function(a){mb.call(this);this._values=a};vb.__name__=["rg","axis","AxisOrdinalFixedValues"];vb.__super__=mb;vb.prototype=w(mb.prototype,{_values:null,values:function(){return this._values},__class__:vb});fb=function(a){vb.call(this,fb.valuesByGroup(a));this.groupBy=a};fb.__name__=["rg","axis",
"AxisGroupByTime"];fb.valuesByGroup=function(a){return I.range(fb.defaultMin(a),fb.defaultMax(a)+1)};fb.defaultMin=function(a){switch(a){case "minute":case "hour":case "week":case "month":return 0;case "day":return 1;default:throw new x.Error("invalid periodicity '{0}' for groupBy min",null,a,{fileName:"AxisGroupByTime.hx",lineNumber:34,className:"rg.axis.AxisGroupByTime",methodName:"defaultMin"});}};fb.defaultMax=function(a){switch(a){case "minute":return 59;case "hour":return 23;case "day":return 31;
case "week":return 6;case "month":return 11;default:throw new x.Error("invalid periodicity '{0}' for groupBy max",null,a,{fileName:"AxisGroupByTime.hx",lineNumber:48,className:"rg.axis.AxisGroupByTime",methodName:"defaultMax"});}};fb.__super__=vb;fb.prototype=w(vb.prototype,{groupBy:null,__class__:fb});Sa=function(){};Sa.__name__=["rg","axis","AxisNumeric"];Sa.__interfaces__=[id];Sa._step=function(a,b){var c=Math.pow(10,Math.floor(Math.log(a/b)/2.302585092994046)),d=b/a*c;0.15>=d?c*=10:0.35>=d?c*=
5:0.75>=d&&(c*=2);return c};Sa.nice=function(a){return Math.pow(10,Math.round(Math.log(a)/2.302585092994046)-1)};Sa.niceMin=function(a,b){var c=Math.pow(10,Math.round(Math.log(a)/2.302585092994046)-1);return Math.floor(b/c)*c};Sa.niceMax=function(a,b){var c=Math.pow(10,Math.round(Math.log(a)/2.302585092994046)-1);return Math.ceil(b/c)*c};Sa.prototype={scale:function(a,b,c){return a==b?a:C.uninterpolatef(a,b)(c)},ticks:function(a,b,c){var d=b-a,f;if(0==a%1&&0==b%1&&10>d&&1<=d)f=C.range(a,b+1,1),d=
null;else{var e=Sa._step(d,5),d=Sa._step(d,20),d=C.range(a,b+e,d);f=C.range(a,1.0001*b,e)}return db.bound(null==d?f.map(function(c){return new Ub(c,!0,(c-a)/(b-a))}):d.map(function(c){return new Ub(c,f.remove(c),(c-a)/(b-a))}),c)},min:function(a,b){if(null!=b.min)return b.min;var c=Sa.niceMin(a.max-a.min,a.min);return 0>c?c:0},max:function(a,b){if(null!=b.max)return b.max;var c=Sa.niceMax(a.max-a.min,a.max);return 0<c?c:0},createStats:function(a){return new nb(a)},__class__:Sa};hc=function(a){mb.call(this);
this.variable=a};hc.__name__=["rg","axis","AxisOrdinalStats"];hc.__super__=mb;hc.prototype=w(mb.prototype,{variable:null,values:function(){return this.variable.stats.values},__class__:hc});wb=function(a){this.periodicity=a;this.setScaleDistribution(za.ScaleFill)};wb.__name__=["rg","axis","AxisTime"];wb.__interfaces__=[Mb];wb.prototype={periodicity:null,scaleDistribution:null,isMajor:function(a,b){switch(this.periodicity){case "day":if(31>=a)return!0;return 121>a?(Date.fromTime(b).getDate(),N.firstInSeries("month",
b)||N.firstInSeries("week",b)):N.firstInSeries("month",b);case "week":return 31>a?!0:7>=Date.fromTime(b).getDate();default:var c=j.field(wb.snapping,this.periodicity),d=N.units(b,this.periodicity);if(null==c)return!0;for(var f=0;f<c.length;){var e=c[f];++f;if(!(a>e.to))return 0==d%e.s}c=j.field(wb.snapping,this.periodicity+"top");null==c&&(c=1);return 0==d%c}},ticks:function(a,b,c){var d=this,f=N.unitsBetween(a,b,this.periodicity),e=this.range(a,b),a=e.map(function(a){return new Kc(a,e,d.isMajor(f,
a),d.periodicity,d.scaleDistribution)});return db.bound(a,c)},range:function(a,b){return N.range(a,b,this.periodicity)},scale:function(a,b,c){switch(this.scaleDistribution[1]){case 1:return(c-a)/(b-a);default:return a=this.range(a,b),Tb.distribute(this.scaleDistribution,a.indexOf(sa.snap(c,this.periodicity)),a.length)}},setScaleDistribution:function(a){return this.scaleDistribution=a},min:function(a){return a.min},max:function(a){return a.max},createStats:function(a){return new nb(a)},__class__:wb,
__properties__:{set_scaleDistribution:"setScaleDistribution"}};Lc=function(){};Lc.__name__=["rg","axis","ITickmark"];Lc.prototype={delta:null,major:null,value:null,label:null,__class__:Lc,__properties__:{get_label:"getLabel",get_value:"getValue",get_major:"getMajor",get_delta:"getDelta"}};za={__ename__:["rg","axis","ScaleDistribution"],__constructs__:["ScaleFit","ScaleFill","ScaleBefore","ScaleAfter"],ScaleFit:["ScaleFit",0]};za.ScaleFit.toString=v;za.ScaleFit.__enum__=za;za.ScaleFill=["ScaleFill",
1];za.ScaleFill.toString=v;za.ScaleFill.__enum__=za;za.ScaleBefore=["ScaleBefore",2];za.ScaleBefore.toString=v;za.ScaleBefore.__enum__=za;za.ScaleAfter=["ScaleAfter",3];za.ScaleAfter.toString=v;za.ScaleAfter.__enum__=za;Tb=function(){};Tb.__name__=["rg","axis","ScaleDistributions"];Tb.distribute=function(a,b,c){switch(a[1]){case 0:return(b+0.5)/c;case 1:return b/(c-1);case 2:return b/c;case 3:return(b+1)/c}};Tb.prototype={__class__:Tb};eb=function(a,b){this.type=a;this.sortf=b;this.reset()};eb.__name__=
["rg","axis","Stats"];eb.prototype={min:null,max:null,count:null,values:null,sortf:null,type:null,reset:function(){this.max=this.min=null;this.count=0;this.values=[];return this},add:function(a){this.count++;if(y.exists(this.values,a))return this;this.values.push(a);null!=this.sortf&&this.values.sort(this.sortf);this.min=this.values[0];this.max=y.last(this.values);return this},addMany:function(a){for(a=a.iterator();a.hasNext();){var b=a.next();this.count++;y.exists(this.values,b)||this.values.push(b)}null!=
this.sortf&&this.values.sort(this.sortf);this.min=this.values[0];this.max=y.last(this.values);return this},__class__:eb};nb=function(a,b){if(null==b)b=C.compare;eb.call(this,a,b)};nb.__name__=["rg","axis","StatsNumeric"];nb.__super__=eb;nb.prototype=w(eb.prototype,{tot:null,reset:function(){eb.prototype.reset.call(this);this.tot=0;return this},add:function(a){eb.prototype.add.call(this,a);this.tot+=a;return this},addMany:function(a){eb.prototype.addMany.call(this,a);for(a=a.iterator();a.hasNext();)this.tot+=
a.next();return this},__class__:nb});Ub=function(a,b,c){this.value=a;this.major=b;this.delta=c};Ub.__name__=["rg","axis","Tickmark"];Ub.__interfaces__=[Lc];Ub.prototype={delta:null,major:null,value:null,label:null,getDelta:function(){return this.delta},getMajor:function(){return this.major},getValue:function(){return this.value},getLabel:function(){return ga.humanize(this.getValue())},__class__:Ub,__properties__:{get_label:"getLabel",get_value:"getValue",get_major:"getMajor",get_delta:"getDelta"}};
cb=function(a,b,c,d){null==c&&(c=!0);this.pos=a;this.values=b;this.scaleDistribution=d;this.major=c};cb.__name__=["rg","axis","TickmarkOrdinal"];cb.__interfaces__=[Lc];cb.fromArray=function(a,b){return a.map(function(c,d){return new cb(d,a,null,b)})};cb.prototype={pos:null,values:null,scaleDistribution:null,delta:null,getDelta:function(){return Tb.distribute(this.scaleDistribution,this.pos,this.values.length)},major:null,getMajor:function(){return this.major},value:null,getValue:function(){return this.values[this.pos]},
label:null,getLabel:function(){return ga.humanize(this.values[this.pos])},__class__:cb,__properties__:{get_label:"getLabel",get_value:"getValue",get_major:"getMajor",get_delta:"getDelta"}};Kc=function(a,b,c,d,f){cb.call(this,b.indexOf(a),b,c,f);this.periodicity=d};Kc.__name__=["rg","axis","TickmarkTime"];Kc.__super__=cb;Kc.prototype=w(cb.prototype,{periodicity:null,getLabel:function(){return N.smartFormat(this.periodicity,this.values[this.pos])},__class__:Kc});db=function(){};db.__name__=["rg","axis",
"Tickmarks"];db.bound=function(a,b){if(null==b||a.length<=(2>b?2:b))return a;var c=y.filter(a,function(a){return a.getMajor()});if(c.length>b)return db.reduce(c,b);c=db.reduce(y.filter(a,function(a){return!a.getMajor()}),b-c.length).concat(c);c.sort(function(a,b){return C.compare(a.getDelta(),b.getDelta())});return c};db.reduce=function(a,b){if(1==b)return[a[0]];if(2==b)return[a[a.length-1]];var c=a.length/b,d=[],f=0;do d.push(a[Math.round(c*f++)]);while(b>d.length);return d};db.forFloat=function(a,
b,c,d){return new Ub(c,d,(c-a)/(b-a))};db.prototype={__class__:db};Bd=function(a){if(null==a)throw new x.NullArgument("loader","invalid null argument '{0}' for method {1}.{2}()",{fileName:"DataLoader.hx",lineNumber:11,className:"rg.data.DataLoader",methodName:"new"});this.loader=a;this.onLoad=new fd};Vb=void 0;kc=void 0;qd=void 0;rd=void 0;lc=void 0;Cb=void 0;Bd.__name__=["rg","data","DataLoader"];Bd.prototype={loader:null,onLoad:null,load:function(){var a=this;this.loader(function(b){a.onLoad.dispatch(b)})},
__class__:Bd};rd=function(){};rd.__name__=["rg","data","DependentVariableProcessor"];rd.prototype={process:function(a,b){for(var c=0;c<b.length;){var d=b[c];++c;var f=pa.values(a,d.type);if(0!=f.length){null==d.axis&&d.setAxis((new Mc).create(d.type,i.is(f[0],X),d,null));d.stats.addMany(f);var e;if(null!=d.scaleDistribution&&null!=(e=Ha.as(d.axis,Mb)))e.setScaleDistribution(d.scaleDistribution),d.scaleDistribution=null}}},__class__:rd};qd=function(){};qd.__name__=["rg","data","IndependentVariableProcessor"];
qd.prototype={process:function(a,b){for(var c=0;c<b.length;){var d=b[c];++c;d.stats.addMany(pa.values(a,d.type));var f;if(null!=d.scaleDistribution&&null!=(f=Ha.as(d.axis,Mb)))f.setScaleDistribution(d.scaleDistribution),d.scaleDistribution=null}},__class__:qd};lc=function(a,b,c){this.on=a;this.transform=b;this.scale=c};lc.__name__=["rg","data","Segmenter"];lc.prototype={on:null,transform:null,scale:null,segment:function(a){var b=null==this.on?[a]:pa.partition(a,this.on);if(null!=this.scale)for(var a=
0,c=b.length;a<c;){var d=a++;b[d]=this.scale(b[d])}if(null!=this.transform){b=y.rotate(b);a=0;for(c=b.length;a<c;)d=a++,b[d]=this.transform(b[d]);b=y.rotate(b)}return b},__class__:lc};Cb=function(a,b){this.type=a;this.scaleDistribution=b;this.meta={}};Cb.__name__=["rg","data","Variable"];Cb.prototype={type:null,scaleDistribution:null,axis:null,stats:null,meta:null,minf:null,maxf:null,setAxis:function(a){this.axis=a;this.stats=null!=a?a.createStats(this.type):null},min:function(){return this.getMinF()(this.stats,
this.meta)},max:function(){return this.getMaxF()(this.stats,this.meta)},setMinF:function(a){return this.minf=a},setMaxF:function(a){return this.maxf=a},getMinF:function(){if(null==this.minf){if(null==this.axis)throw new x.Error("axis is null in '{0}' variable (required by min)",[this.type],null,{fileName:"Variable.hx",lineNumber:50,className:"rg.data.Variable",methodName:"getMinF"});this.setMinF((ia=this.axis,ia.min.$bind(ia)))}return this.minf},getMaxF:function(){if(null==this.maxf){if(null==this.axis)throw new x.Error("axis is null in '{0}' variable (required by max)",
[this.type],null,{fileName:"Variable.hx",lineNumber:61,className:"rg.data.Variable",methodName:"getMaxF"});this.setMaxF((ia=this.axis,ia.max.$bind(ia)))}return this.maxf},__class__:Cb,__properties__:{set_maxf:"setMaxF",get_maxf:"getMaxF",set_minf:"setMinF",get_minf:"getMinF"}};kc=function(a,b){Cb.call(this,a,b)};kc.__name__=["rg","data","VariableDependent"];kc.__super__=Cb;kc.prototype=w(Cb.prototype,{__class__:kc});Vb=function(a,b){Cb.call(this,a,b)};Vb.__name__=["rg","data","VariableIndependent"];
Vb.__super__=Cb;Vb.prototype=w(Cb.prototype,{__class__:Vb});Mc=function(){};ld=void 0;md=void 0;nd=void 0;hb=void 0;od=void 0;Bb=void 0;pd=void 0;Mc.__name__=["rg","factory","FactoryAxis"];Mc.prototype={create:function(a,b,c,d){return null!=d&&0<d.length?new vb(d):!0==b?new Sa:!1==b?new hc(c):null},createDiscrete:function(a,b,c,d){return 0<=a.indexOf("time:")?null!=d?new fb(a.substr(a.indexOf("time:")+5)):new wb(a.substr(a.indexOf("time:")+5)):null!=c&&0<c.length?new vb(c):new hc(b)},__class__:Mc};
od=function(){};od.__name__=["rg","factory","FactoryGeoProjection"];od.prototype={create:function(a){switch(a.projection.toLowerCase()){case "mercator":var b=new P.Mercator;null!=a.scale&&b.setScale(a.scale);null!=a.translate?b.setTranslate(a.translate):b.setTranslate([0,0]);return b;case "albers":return b=new P.Albers,null!=a.scale&&b.setScale(a.scale),null!=a.translate?b.setTranslate(a.translate):b.setTranslate([0,0]),null!=a.origin&&b.setOrigin(a.origin),null!=a.parallels&&b.setParallels(a.parallels),
b;case "albersusa":return b=new P.AlbersUsa,null!=a.scale&&b.setScale(a.scale),null!=a.translate?b.setTranslate(a.translate):b.setTranslate([0,0]),b;case "azimuthal":return b=new P.Azimuthal,null!=a.scale&&b.setScale(a.scale),null!=a.translate?b.setTranslate(a.translate):b.setTranslate([0,0]),null!=a.mode&&b.setMode(a.mode),null!=a.origin&&b.setOrigin(a.origin),b;default:throw new x.Error("the projection '{0}' does not exist or is not implemented",[a.projection],null,{fileName:"FactoryGeoProjection.hx",
lineNumber:68,className:"rg.factory.FactoryGeoProjection",methodName:"create"});}},__class__:od};nd=function(){};nd.__name__=["rg","factory","FactoryHtmlVisualization"];nd.prototype={create:function(a,b,c){switch(a){case "pivottable":return a=new zc(b),a.info=O.feed(new ib,c),a;case "leaderboard":return a=new Ac(b),a.info=O.feed(new Uc,c),a;default:throw new x.Error("unsupported visualization '{0}'",null,a,{fileName:"FactoryHtmlVisualization.hx",lineNumber:35,className:"rg.factory.FactoryHtmlVisualization",
methodName:"create"});}},__class__:nd};hb=function(){};hb.__name__=["rg","factory","FactoryLayout"];hb.size=function(a,b,c){var d,f=null==b.width?10<(d=a.node().clientWidth)?d:400:b.width,a=(null==b.height?10<(d=a.node().clientHeight)?d:300:b.height)-c;return{width:f,height:a}};hb.prototype={create:function(a,b,c){var b=hb.size(c,a,b),d=a.layout;null==d&&(d=Y.layoutDefault.get(a.type));if(null==d)throw new x.Error("unable to find a suitable layout for '{0}'",null,a.type,{fileName:"FactoryLayout.hx",
lineNumber:28,className:"rg.factory.FactoryLayout",methodName:"create"});c=Y.instantiateLayout(d,b.width,b.height,c);c.feedOptions(a);return c},__class__:hb};md=function(){};md.__name__=["rg","factory","FactorySvgVisualization"];md.prototype={create:function(a,b,c){switch(a){case "barchart":return a=new Bc(b),a.info=a.infoBar=O.feed(new mc,c),a;case "funnelchart":return a=new Cc(b),a.info=O.feed(new Vc,c),a;case "geo":return a=new Dc(b),a.info=O.feed(new Wc,c),a;case "heatgrid":return a=new Ec(b),
a.info=a.infoHeatGrid=O.feed(new nc,c),a;case "linechart":return a=new Fc(b),a.info=a.infoLine=O.feed(new oc,c),a;case "piechart":return a=new Gc(b),a.info=O.feed(new Db,c),a;case "sankey":return a=new bb(b),a.info=O.feed(new Xc,c),a;case "scattergraph":return a=new Hc(b),a.info=a.infoScatter=O.feed(new pc,c),a;case "streamgraph":return a=new Ic(b),a.info=a.infoStream=O.feed(new qc,c),a;default:throw new x.Error("unsupported visualization type '{0}'",null,a,{fileName:"FactorySvgVisualization.hx",
lineNumber:76,className:"rg.factory.FactorySvgVisualization",methodName:"create"});}},__class__:md};ld=function(){this.independentFactory=new Bb;this.dependentFactory=new pd};ld.__name__=["rg","factory","FactoryVariable"];ld.prototype={independentFactory:null,dependentFactory:null,createVariables:function(a){var b=this;return a.map(function(a){switch(a.variableType[1]){case 1:return b.independentFactory.create(a);case 2:return b.dependentFactory.create(a,null);case 0:return b.dependentFactory.create(a,
null)}})},__class__:ld};pd=function(){};pd.__name__=["rg","factory","FactoryVariableDependent"];pd.prototype={create:function(a,b){if(null==a.type)throw new x.Error("cannot create an axis if type is not specified",null,null,{fileName:"FactoryVariableDependent.hx",lineNumber:18,className:"rg.factory.FactoryVariableDependent",methodName:"create"});var c=new Mc,d=new kc(a.type,a.scaleDistribution),c=c.create(a.type,b,d,a.values);d.setAxis(c);d.setMinF(Bb.convertBound(c,a.min));d.setMaxF(Bb.convertBound(c,
a.max));return d},__class__:pd};Bb=function(){};Bb.__name__=["rg","factory","FactoryVariableIndependent"];Bb.convertBound=function(a,b){if(null==b||j.isFunction(b))return b;if(i.is(a,wb)){i.is(b,Date)&&(b=function(){var a=b;if(!i.is(a,Date))throw"Class cast error";return a}(this).getTime());if(i.is(b,X))return function(){return b};if(i.is(b,String))return function(){return q.DateParser.parse(b).getTime()};throw new x.Error("invalid value '{0}' for time bound",[b],null,{fileName:"FactoryVariableIndependent.hx",
lineNumber:46,className:"rg.factory.FactoryVariableIndependent",methodName:"convertBound"});}return function(){return b}};Bb.prototype={create:function(a){if(null==a.type)return null;var b=new Mc,c=new Vb(a.type,a.scaleDistribution),b=b.createDiscrete(a.type,c,a.values,a.groupBy);c.setAxis(b);c.setMinF(Bb.convertBound(b,a.min));c.setMaxF(Bb.convertBound(b,a.max));return c},__class__:Bb};yc=function(){this.x=this.y=this.width=this.height=0};R=void 0;ta=void 0;hd=void 0;Oa=void 0;yc.__name__=["rg",
"frame","Frame"];yc.prototype={x:null,y:null,width:null,height:null,change:function(){},setLayout:function(a,b,c,d){if(!(this.x==a&&this.y==b&&this.width==c&&this.height==d))this.x=a,this.y=b,this.width=c,this.height=d,this.change()},__class__:yc};R={__ename__:["rg","frame","FrameLayout"],__constructs__:["Fill","FillPercent","FillRatio","Fixed","Floating"]};R.Fill=function(a,b,c,d){a=["Fill",0,a,b,c,d];a.__enum__=R;a.toString=v;return a};R.FillPercent=function(a,b,c,d,f){a=["FillPercent",1,a,b,c,
d,f];a.__enum__=R;a.toString=v;return a};R.FillRatio=function(a,b,c){a=["FillRatio",2,a,b,c];a.__enum__=R;a.toString=v;return a};R.Fixed=function(a,b,c){a=["Fixed",3,a,b,c];a.__enum__=R;a.toString=v;return a};R.Floating=function(a,b,c,d){a=["Floating",4,a,b,c,d];a.__enum__=R;a.toString=v;return a};ta={__ename__:["rg","frame","Orientation"],__constructs__:["Vertical","Horizontal"],Vertical:["Vertical",0]};ta.Vertical.toString=v;ta.Vertical.__enum__=ta;ta.Horizontal=["Horizontal",1];ta.Horizontal.toString=
v;ta.Horizontal.__enum__=ta;hd=function(a,b,c){this.orientation=null==c?ta.Vertical:c;this.children=[];this.width=a;this.height=b};hd.__name__=["rg","frame","Stack"];hd.prototype={children:null,width:null,height:null,orientation:null,length:null,moreSpaceRequired:function(){},insertItem:function(a,b){if(null==b)return this;if(a>=this.children.length)return this.addItem(b);0>a&&(a=0);this.children.insert(a,b);b.setParent(this);this.reflow();return this},addItem:function(a){if(null==a)return this;this.children.push(a);
a.setParent(this);this.reflow();return this},addItems:function(a){for(var b=!1,a=a.iterator();a.hasNext();){var c=a.next();null!=c&&(b=!0,this.children.push(c),c.setParent(this))}b&&this.reflow();return this},removeChild:function(a){if(!this.children.remove(a))return!1;a.setParent(null);this.reflow();return!0},reflow:function(){for(var a=function(a){var b;switch(a.orientation[1]){case 0:b=a.height;break;case 1:b=a.width}return b}(this),b=function(a){var b;switch(a.orientation[1]){case 0:b=a.width;
break;case 1:b=a.height}return b}(this),c=0,d=[],f=[],e=0,h=0,k=0,t=this.children;k<t.length;){var l=t[k];++k;l=l.disposition;switch(l[1]){case 0:var u=l[5],j=l[4],i=l[3],l=l[2];null==j&&(j=0);null==u&&(u=a);c+=j+l+i;h+=f[e]=u-j;d.push(j+l+i);break;case 1:var u=l[6],j=l[5],m=l[4],i=l[3],l=l[2],m=Math.round(m*a);null!=j&&m<j&&(m=j);null!=u&&m>u&&(m=u);c+=m+l+i;d.push(m+l+i);break;case 2:u=l[4];i=l[3];l=l[2];null==u&&(u=1);m=Math.round(b*u);c+=m+l+i;d.push(m+l+i);break;case 3:m=l[4];i=l[3];l=l[2];c+=
m+l+i;d.push(m+l+i);break;case 4:i=l[5],u=l[4],j=l[3],l=l[2],d.push(0)}e++}a-=c;if(0<a){k=e=0;for(t=this.children;k<t.length;){l=t[k];++k;switch(l.disposition[1]){case 0:m=Math.round(f[e]/h*a),d[e]+=m}e++}}f=e=0;switch(this.orientation[1]){case 0:k=0;for(t=this.children;k<t.length;){l=t[k];++k;b=l;l=l.disposition;switch(l[1]){case 4:i=l[5];u=l[4];j=l[3];l=l[2];b.setLayout(l,j,u,i);break;case 3:case 0:case 1:case 2:i=l[3],l=l[2],b.setLayout(0,f+l,this.width,d[e]-i-l)}f+=d[e++]}break;case 1:k=0;for(t=
this.children;k<t.length;){l=t[k];++k;b=l;l=l.disposition;switch(l[1]){case 4:i=l[5];u=l[4];j=l[3];l=l[2];b.setLayout(l,j,u,i);break;case 3:case 0:case 1:case 2:i=l[3],l=l[2],b.setLayout(f+l,0,d[e]-i-l,this.height)}f+=d[e++]}}0>a&&this.moreSpaceRequired(c)},getLength:function(){return this.children.length},setSize:function(a,b){if(this.width==a&&this.height==b)return this;this.width=a;this.height=b;this.reflow();return this},__class__:hd,__properties__:{get_length:"getLength"}};Oa=function(a){yc.call(this);
this.setDisposition(a)};Oa.__name__=["rg","frame","StackItem"];Oa.__super__=yc;Oa.prototype=w(yc.prototype,{disposition:null,parent:null,setParent:function(a){null!=this.parent&&this.parent.removeChild(this);return this.parent=a},setDisposition:function(a){this.disposition=a;null!=this.parent&&this.parent.reflow();return a},__class__:Oa,__properties__:{set_disposition:"setDisposition"}});Ta={};z=void 0;Ta.Leadeboard=function(a){this.ready=new Rb;this.container=a;this.animated=!0;this.animationDuration=
1500;this.animationEase=B.Equations.elasticf();this.animationDelay=150;this._created=0;this.displayGradient=!0;this.colorScale=this.useMax=!1};Ta.Leadeboard.__name__=["rg","html","chart","Leadeboard"];Ta.Leadeboard.prototype={variableIndependent:null,variableDependent:null,animated:null,animationDuration:null,animationDelay:null,animationEase:null,click:null,sortDataPoint:null,displayGradient:null,useMax:null,colorScale:null,ready:null,displayBar:null,container:null,list:null,_created:null,stats:null,
labelDataPoint:function(a){return ga.humanize(j.field(a,this.variableIndependent.type))},labelDataPointOver:function(a,b){return C.format(100*j.field(a,b.type)/(this.useMax?b.max:b.tot),"P:1")},labelRank:function(a,b){return""+(b+1)},labelValue:function(a,b){return xa.formatValue(b.type,a)},init:function(){var a=this.container.append("div").attr("class").string("leaderboard");this.list=a.append("ul");a.append("div").attr("class").string("clear")},setVariables:function(a,b){this.variableDependent=
b[0];this.variableIndependent=a[0]},backgroundSize:function(a){return 100*j.field(a,this.variableDependent.type)/(this.useMax?this.stats.max:this.stats.tot)+"%"},data:function(a){null!=this.sortDataPoint&&a.sort(this.sortDataPoint);if(null!=this.variableDependent.stats){this.stats=function(a){a=a.variableDependent.stats;if(!i.is(a,nb))throw"Class cast error";return a}(this);var a=this.list.selectAll("li").data(a,this.id.$bind(this)),b=a.enter().append("li");b.attr("title").stringf(this.lTitle.$bind(this));
b.append("div").attr("class").stringf(function(a,b){return 0==b%2?"rg_background fill-0":"rg_background"});var c=b.append("div").attr("class").string("rg_labels");if(null!=this.labelRank.$bind(this)){var d=c.append("div").text().stringf(this.lRank.$bind(this));this.colorScale?d.attr("class").stringf(function(a,b){return"rg_rank fill fill-"+b}):d.attr("class").string("rg_rank")}null!=this.labelDataPoint.$bind(this)&&c.append("span").attr("class").string("rg_description color-0").text().stringf(this.lDataPoint.$bind(this));
null!=this.labelValue.$bind(this)&&c.append("span").attr("class").string("rg_value color-2").text().stringf(this.lValue.$bind(this));b.append("div").attr("class").string("clear");this.displayBar&&(c=b.append("div").attr("class").string("rg_barpadding").append("div").attr("class").string("rg_barcontainer"),c.append("div").attr("class").string("rg_barback fill-0"),c.append("div").attr("class").string("rg_bar fill-0").style("width").stringf(this.backgroundSize.$bind(this)),b.append("div").attr("class").string("clear"));
if(null!=this.click)b.on("click.user",this.onClick.$bind(this));if(this.animated)b.style("opacity")["float"](0).eachNode(this.fadeIn.$bind(this));else b.style("opacity")["float"](1);this.animated?a.exit().transition().ease(this.animationEase).duration(null,this.animationDuration).style("opacity")["float"](0).remove():a.exit().remove();this.ready.dispatch()}},onClick:function(a){this.click(a)},fadeIn:function(a,b){var c=this;G.selectNodeData(a).transition().ease(this.animationEase).duration(null,this.animationDuration).delay(null,
this.animationDelay*(b-this._created)).attr("opacity")["float"](1).endNode(function(){c._created++})},lRank:function(a,b){return this.labelRank(a,b,this.stats)},lValue:function(a){return this.labelValue(a,this.stats)},lDataPoint:function(a){return this.labelDataPoint(a,this.stats)},lTitle:function(a){return this.labelDataPointOver(a,this.stats)},id:function(a){return pa.id(a,[this.variableDependent.type])},__class__:Ta.Leadeboard};n=void 0;x=void 0;B=void 0;q=void 0;P=void 0;e=void 0;p=void 0;W=void 0;
K=void 0;Fb=void 0;s=void 0;Ga=void 0;Va=void 0;La=void 0;sc=void 0;Cd=void 0;e={Rgb:function(a,b,c){this.red=I.clamp(a,0,255);this.green=I.clamp(b,0,255);this.blue=I.clamp(c,0,255)}};e.Rgb.__name__=["thx","color","Rgb"];e.Rgb.fromInt=function(a){return new e.Rgb(a>>16&255,a>>8&255,a&255)};e.Rgb.interpolatef=function(a,b,c){var d=I.interpolatef(a.red,b.red,c),f=I.interpolatef(a.green,b.green,c),g=I.interpolatef(a.blue,b.blue,c);return function(a){return new e.Rgb(d(a),f(a),g(a))}};e.Rgb.contrastBW=
function(a){var b=e.Grey.toGrey(a),a=e.Hsl.toHsl(a);return 0.5>b.grey?new e.Hsl(a.hue,a.saturation,1):new e.Hsl(a.hue,a.saturation,0)};e.Rgb.interpolateStepsf=function(a,b){if(0>=a.length)throw new x.Error("invalid number of steps",null,null,{fileName:"Rgb.hx",lineNumber:164,className:"thx.color.Rgb",methodName:"interpolateStepsf"});if(1==a.length)return function(){return a[0]};if(2==a.length)return e.Rgb.interpolatef(a[0],a[1],b);for(var c=a.length-1,d=1/c,f=[],g=0;g<c;){var h=g++;f[h]=e.Rgb.interpolatef(a[h],
a[h+1])}return function(a){0>a?a=0:1<a&&(a=1);var b=1==a?c-1:Math.floor(a/d);return f[b](c*(a-b*d))}};e.Rgb.prototype={blue:null,green:null,red:null,hex:function(a){null==a&&(a="");return a+E.hex(this.red,2)+E.hex(this.green,2)+E.hex(this.blue,2)},toCss:function(){return this.hex("#")},toRgbString:function(){return"rgb("+this.red+","+this.green+","+this.blue+")"},__class__:e.Rgb};e.Hsl=function(a,b,c){this.hue=a=C.circularWrap(a,360);this.saturation=b=C.normalize(b);this.lightness=c=C.normalize(c);
e.Rgb.call(this,I.interpolate(e.Hsl._c(a+120,b,c),0,255,null),I.interpolate(e.Hsl._c(a,b,c),0,255,null),I.interpolate(e.Hsl._c(a-120,b,c),0,255,null))};e.Hsl.__name__=["thx","color","Hsl"];e.Hsl._c=function(a,b,c){b=0.5>=c?c*(1+b):c+b-c*b;c=2*c-b;a=C.circularWrap(a,360);return 60>a?c+(b-c)*a/60:180>a?b:240>a?c+(b-c)*(240-a)/60:c};e.Hsl.toHsl=function(a){var b=a.red/255,c=a.green/255,d=a.blue/255,f=C.min(b<c?b:c,d),g=C.max(b>c?b:c,d),h=g-f,a=(g+f)/2;0==h?f=b=0:(f=0.5>a?h/(g+f):h/(2-g-f),b=60*(b==g?
(c-d)/h+(c<d?6:0):c==g?(d-b)/h+2:(b-c)/h+4));return new e.Hsl(b,f,a)};e.Hsl.darker=function(a,b,c){return new e.Hsl(a.hue,a.saturation,C.interpolate(b,a.lightness,0,c))};e.Hsl.lighter=function(a,b,c){return new e.Hsl(a.hue,a.saturation,C.interpolate(b,a.lightness,1,c))};e.Hsl.interpolatef=function(a,b,c){return function(d){return new e.Hsl(C.interpolate(d,a.hue,b.hue,c),C.interpolate(d,a.saturation,b.saturation,c),C.interpolate(d,a.lightness,b.lightness,c))}};e.Hsl.__super__=e.Rgb;e.Hsl.prototype=
w(e.Rgb.prototype,{hue:null,saturation:null,lightness:null,__class__:e.Hsl});B={Equations:function(){}};B.Equations.__name__=["thx","math","Equations"];B.Equations.linear=function(a){return a};B.Equations.polynomial=function(a,b){return Math.pow(a,b)};B.Equations.cubic=function(a){return B.Equations.polynomial(a,3)};B.Equations.elasticf=function(a,b){var c;null==b&&(b=0.45);null==a?(a=1,c=b/4):c=b/(2*Math.PI)/Math.asin(1/a);return function(d){return 1+a*Math.pow(2,10*-d)*Math.sin(2*(d-c)*Math.PI/
b)}};B.Equations.prototype={__class__:B.Equations};Ta.PivotTable=function(a){this.ready=new Rb;this.container=a;this.displayHeatMap=this.displayRowTotal=this.displayColumnTotal=!0;this.colorStart=Ta.PivotTable.defaultColorStart;this.colorEnd=Ta.PivotTable.defaultColorEnd;this.incolumns=1};Ta.PivotTable.__name__=["rg","html","chart","PivotTable"];Ta.PivotTable.prototype={displayColumnTotal:null,displayRowTotal:null,displayHeatMap:null,colorStart:null,colorEnd:null,ready:null,columnVariables:null,rowVariables:null,
cellVariable:null,incolumns:null,click:null,cellclass:null,valueclass:null,headerclass:null,totalclass:null,container:null,stats:null,labelDataPoint:function(a){a=j.field(a,this.cellVariable.type);return Math.isNaN(a)?"0":n.FormatNumber["int"](a)},labelDataPointOver:function(a,b){var c=j.field(a,this.cellVariable.type);return Math.isNaN(c)?"0":n.FormatNumber.percent(100*c/b.tot,1)},labelAxis:function(a){return ga.humanize(a)},labelAxisValue:function(a,b){if(0<=b.indexOf("time:")){var c=b.substr(b.indexOf("time:")+
5);return N.format(c,a)}return ga.humanize(a)},labelTotal:function(a){return n.FormatNumber["int"](a)},labelTotalOver:function(a,b){return n.FormatNumber.percent(100*a/b.tot,1)},data:function(a){var a=this.transformData(a),b=this.container.append("table").classed().add("pivot-table"),c=b.append("thead"),d=0<a.rows.length?a.rows[0].values.length:0,f=e.Rgb.interpolatef(this.colorStart,this.colorEnd);this.stats=a.stats;if(0<a.columns.length)for(var g=0,h=a.column_headers.length;g<h;){var k=g++,t=c.append("tr");
this.prependSpacer(d,t);var t=t.append("th").text().string(this.labelAxis(a.column_headers[k])),l=["col-header"];if(null!=this.headerclass){var u=this.headerclass(a.column_headers[k]);null!=u&&l.push(u)}t.attr("class").string(l.join(" "));if(1<a.columns.length)t.attr("colspan")["float"](a.columns.length);var l=1,i=a.columns[0].values[k],t=c.append("tr");if(k==a.column_headers.length-1)for(var m=0,n=a.row_headers;m<n.length;){var p=n[m];++m;var o=t.append("th").text().string(this.labelAxis(p)),q=["row-header"];
null!=this.headerclass&&(u=this.headerclass(p),null!=u&&q.push(u));o.attr("class").string(q.join(" "))}else this.prependSpacer(d,t);n=1;for(m=a.columns.length;n<m;)o=n++,o=a.columns[o].values[k],i==o?l++:(this.buildValue(i,a.column_headers[k],l,t),l=1,i=o);null!=i&&this.buildValue(i,a.column_headers[k],l,t)}if(0==a.column_headers.length){t=c.append("tr");h=0;for(g=a.row_headers;h<g.length;)p=g[h],++h,t.append("th").attr("class").string("row header").text().string(this.labelAxis(p))}c=b.append("tbody");
i=[];h=0;for(g=a.rows;h<g.length;){p=g[h];++h;t=c.append("tr");q=p.values.length;for(m=0;m<q;){var k=m++,u=p.values[k],r=u==i[k];if(!r){i[k]=u;for(n=k+1;n<q;)o=n++,i[o]=null}o=t.append("th").text().string(r?"":this.labelAxisValue(u,a.row_headers[k]));l=["row value"];r&&l.push("empty");null!=this.valueclass&&(k=this.valueclass(u,a.row_headers[k]),null!=k&&l.push(k));o.attr("class").string(l.join(" "))}m=0;for(n=p.cells;m<n.length;){k=n[m];++m;o=t.append("td").text().string(this.formatDataPoint(k)).attr("title").string(this.formatDataPointOver(k));
if(null!=this.click)o.onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(this.onClick.$bind(this),k));if(this.displayHeatMap&&!Math.isNaN(u=j.field(k,this.cellVariable.type)/a.stats.max))l=f(u),o.style("color").color(e.Rgb.contrastBW(l)).style("background-color").color(l);l=[];null!=this.cellclass&&(k=this.cellclass(k,p.stats),null!=k&&l.push(k));o.attr("class").string(l.join(" "))}this.displayRowTotal&&1<a.columns.length&&(o=t.append("th").text().string(this.formatTotal(p.stats.tot)).attr("title").string(this.formatTotalOver(p.stats.tot)),
l=["row total"],null!=this.totalclass&&(k=this.totalclass(p.stats.tot,p.values),null!=k&&l.push(k)),o.attr("class").string(l.join(" ")))}g=b.append("tfoot");if(this.displayColumnTotal&&1<a.rows.length){t=g.append("tr");this.prependSpacer(d,t);h=0;for(g=a.columns;h<g.length;)d=g[h],++h,o=t.append("th").text().string(this.formatTotal(d.stats.tot)).attr("title").string(this.formatTotalOver(d.stats.tot)),l=["column total"],null!=this.totalclass&&(k=this.totalclass(d.stats.tot,d.values),null!=k&&l.push(k)),
o.attr("class").string(l.join(" "));this.displayRowTotal&&1<a.columns.length&&(o=t.append("th").text().string(this.formatTotal(a.stats.tot)).attr("title").string(this.formatTotalOver(a.stats.tot)),l=["table total"],null!=this.totalclass&&(k=this.totalclass(a.stats.tot,[]),null!=k&&l.push(k)),o.attr("class").string(l.join(" ")))}this.ready.dispatch()},onClick:function(a){this.click(a)},formatTotal:function(a){return this.labelTotal(a,this.stats)},formatTotalOver:function(a){return this.labelTotalOver(a,
this.stats)},formatDataPoint:function(a){return this.labelDataPoint(a,this.stats)},formatDataPointOver:function(a){return this.labelDataPointOver(a,this.stats)},buildValue:function(a,b,c,d){d=d.append("th").text().string(this.labelAxisValue(a,b));if(1<c)d.attr("colspan")["float"](c);c=["column value"];null!=this.valueclass&&(a=this.valueclass(a,b),null!=a&&c.push(a));d.attr("class").string(c.join(" "))},prependSpacer:function(a,b){if(0!=a){var c=b.append("th").attr("class").string("spacer");if(1<
a)c.attr("colspan")["float"](a)}},init:function(){},setVariables:function(a,b){this.cellVariable=b[0];this.columnVariables=[];for(var c=0,d=this.incolumns;c<d;){var f=c++;this.columnVariables.push(a[f])}this.rowVariables=[];c=this.incolumns;for(d=a.length;c<d;)f=c++,this.rowVariables.push(a[f])},destroy:function(){this.container.html().string("")},transformData:function(a){for(var b=[],c=[],d=[],f=[],e=new nb(null),h,k=0,t=I.min(1,this.columnVariables.length);k<t;){var l=k++;h=this.columnVariables[l];
b.push(h.type);for(var l=0,u=this.range(h);l<u.length;){var i=u[l];++l;d.push({values:[i],stats:null,type:h.type})}}k=1;for(t=this.columnVariables.length;k<t;){l=k++;h=this.columnVariables[l];b.push(h.type);for(var m=d.copy(),d=[],l=0;l<m.length;){var n=m[l];++l;for(var u=0,p=this.range(h);u<p.length;){i=p[u];++u;var o=ma.clone(n);o.values.push(i);d.push(o)}}}for(var q,k=0,t=d.length;k<t;){var l=k++,o=[d[l]],r=new nb(null);o[0].stats=r;l=0;for(u=y.filter(a,function(a){return function(c){for(var d=
0,f=b.length;d<f;){var e=d++;q=b[e];if(0<=q.indexOf("time:")&&sa.snap(j.field(c,q),q.substr(q.indexOf("time:")+5))==a[0].values[e]||j.field(c,q)==a[0].values[e])return!0}return!1}}(o));l<u.length;)o=u[l],++l,i=j.field(o,this.cellVariable.type),null!=i&&(r.add(i),e.add(i))}k=0;for(t=I.min(1,this.rowVariables.length);k<t;){l=k++;h=this.rowVariables[l];c.push(h.type);l=0;for(u=this.range(h);l<u.length;)i=u[l],++l,f.push({values:[i],stats:null,cells:null})}k=1;for(t=this.rowVariables.length;k<t;){l=k++;
h=this.rowVariables[l];c.push(h.type);m=f.copy();f=[];for(l=0;l<m.length;){n=m[l];++l;u=0;for(p=this.range(h);u<p.length;)i=p[u],++u,r=ma.clone(n),r.values.push(i),f.push(r)}}for(var s,k=0,t=f.length;k<t;){l=k++;r=[f[l]];r[0].stats=new nb(null);r[0].cells=[];h=y.filter(a,function(a){return function(b){for(var d=0,f=c.length;d<f;){var e=d++;s=c[e];if(0<=s.indexOf("time:")&&sa.snap(j.field(b,s),s.substr(s.indexOf("time:")+5))!=a[0].values[e]||j.field(b,s)!=a[0].values[e])return!1}return!0}}(r));u=0;
for(l=d.length;u<l;)o=u++,o=[d[o]],0<=o[0].type.indexOf("time:")?(i=[xa.periodicity(o[0].type)],o=y.firstf(h,function(a,c){return function(d){for(var f=0,e=c[0].values.length;f<e;){var g=f++;if(sa.snap(j.field(d,b[g]),a[0])!=c[0].values[g])return!1}return!0}}(i,o))):o=y.firstf(h,function(a){return function(c){for(var d=0,f=a[0].values.length;d<f;){var e=d++;if(j.field(c,b[e])!=a[0].values[e])return!1}return!0}}(o)),i=j.field(o,this.cellVariable.type),null==i?r[0].cells.push({}):(r[0].cells.push(o),
r[0].stats.add(i))}return{column_headers:b,row_headers:c,columns:d,rows:f,stats:e}},range:function(a){return a.axis.range(a.min(),a.max())},__class__:Ta.PivotTable};z={};z.DownloaderMenu=function(a,b,c,d){this.handler=a;this.formats=null==c?z.DownloaderMenu.DEFAULT_FORMATS:c;this.title=z.DownloaderMenu.DEFAULT_TITLE;this.build(b,d)};z.DownloaderMenu.__name__=["rg","html","widget","DownloaderMenu"];z.DownloaderMenu.prototype={handler:null,formats:null,title:null,backgroundColor:null,menu:null,build:function(a,
b){this.createMenu(b);var c=this.menu.node();switch(a[1]){case 6:b.node().parentNode.insertBefore(c,b.node().nextSibling);break;case 5:b.node().parentNode.insertBefore(c,b.node());break;case 3:this.menu.classed().add("bottom").classed().add("left");break;case 4:this.menu.classed().add("bottom").classed().add("right");break;case 0:G.select(a[2]).node().appendChild(c);break;case 1:this.menu.classed().add("top").classed().add("left");break;case 2:this.menu.classed().add("top").classed().add("right")}},
createMenu:function(a){this.menu=a.append("div").attr("class").string("rg menu");a=this.menu.append("div").attr("class").string("options");a.append("div").attr("class").string("title").html().string(this.title);a.append("ul").selectAll("li").data(this.formats).enter().append("li").on("click.download",this.click.$bind(this)).html().stringf(function(a){return a})},click:function(a){var b=this;this.menu.classed().add("downloading");this.handler(a,this.backgroundColor,function(){b.menu.classed().remove("downloading");
return!0},function(a){b.menu.classed().remove("downloading");D.Lib.alert("ERROR: "+a)})},__class__:z.DownloaderMenu};z.DownloaderPosition={__ename__:["rg","html","widget","DownloaderPosition"],__constructs__:"ElementSelector,TopLeft,TopRight,BottomLeft,BottomRight,Before,After".split(",")};z.DownloaderPosition.ElementSelector=function(a){a=["ElementSelector",0,a];a.__enum__=z.DownloaderPosition;a.toString=v;return a};z.DownloaderPosition.TopLeft=["TopLeft",1];z.DownloaderPosition.TopLeft.toString=
v;z.DownloaderPosition.TopLeft.__enum__=z.DownloaderPosition;z.DownloaderPosition.TopRight=["TopRight",2];z.DownloaderPosition.TopRight.toString=v;z.DownloaderPosition.TopRight.__enum__=z.DownloaderPosition;z.DownloaderPosition.BottomLeft=["BottomLeft",3];z.DownloaderPosition.BottomLeft.toString=v;z.DownloaderPosition.BottomLeft.__enum__=z.DownloaderPosition;z.DownloaderPosition.BottomRight=["BottomRight",4];z.DownloaderPosition.BottomRight.toString=v;z.DownloaderPosition.BottomRight.__enum__=z.DownloaderPosition;
z.DownloaderPosition.Before=["Before",5];z.DownloaderPosition.Before.toString=v;z.DownloaderPosition.Before.__enum__=z.DownloaderPosition;z.DownloaderPosition.After=["After",6];z.DownloaderPosition.After.toString=v;z.DownloaderPosition.After.__enum__=z.DownloaderPosition;z.DownloaderPositions=function(){};z.DownloaderPositions.__name__=["rg","html","widget","DownloaderPositions"];z.DownloaderPositions.parse=function(a){switch(a.toLowerCase()){case "topleft":return z.DownloaderPosition.TopLeft;case "topright":case "auto":return z.DownloaderPosition.TopRight;
case "bottomleft":return z.DownloaderPosition.BottomLeft;case "bottomright":return z.DownloaderPosition.BottomRight;case "before":return z.DownloaderPosition.Before;case "after":return z.DownloaderPosition.After;default:return z.DownloaderPosition.ElementSelector(a)}};z.DownloaderPositions.prototype={__class__:z.DownloaderPositions};z.Logo=function(a,b){this.mapvalues=new ba;this.padRight=b;this.id=++z.Logo._id;this.container=a;this.create();(new Gb(5E3)).run=this.live.$bind(this)};z.Logo.__name__=
["rg","html","widget","Logo"];z.Logo.pageIsBranded=function(){for(var a=0,b=z.Logo.getLogos();a<b.length;){var c=b[a];++a;if(!G.select('img[src="'+c+'"]').empty())return!0}return!1};z.Logo.createLogo=function(a,b){var c=a.attr("id").get(),d=z.Logo.registry.get(c);null==d?z.Logo.registry.set(c,d=new z.Logo(a,b)):d.live();return d};z.Logo.getLogo=function(){return z.Logo.getLogos()[0]};z.Logo.getLogos=function(){return["http://api.reportgrid.com/css/images/reportgrid-clear.png","http://api.reportgrid.com/css/images/reportgrid-cleart.png",
"http://api.reportgrid.com/css/images/reportgrid-dark.png","http://api.reportgrid.com/css/images/reportgrid-darkt.png"]};z.Logo.position=function(a){for(var b={x:a.offsetLeft||0,y:a.offsetTop||0};null!=(a=a.offsetParent);)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b};z.Logo.prototype={chartContainer:null,container:null,frame:null,anchor:null,image:null,id:null,mapvalues:null,padRight:null,live:function(){this.container.select("div.reportgridbrandcontainer").empty()?this.createFrame():this.updateFrame();
G.select("body").select("a.reportgridbrandanchor"+this.id).empty()?this.createAnchor():this.updateAnchor();this.anchor.select("img").empty()?this.createImage():this.updateImage()},create:function(){this.createFrame();this.createAnchor();this.createImage()},createFrame:function(){this.chartContainer=this.container.select("*");this.frame=this.container.insert("div",this.chartContainer.node()).attr("class").string("reportgridbrandcontainer");this.updateFrame()},createAnchor:function(){this.anchor=G.select("body").append("a").attr("class").string("reportgridbrandanchor"+
this.id).attr("target").string("_blank");this.updateAnchor()},createImage:function(){this.image=this.anchor.append("img");this.updateImage()},updateFrame:function(){this.setStyle(this.frame,"display","block");this.setStyle(this.frame,"opacity","1");this.setStyle(this.frame,"width","100%");this.setStyle(this.frame,"height","29px");this.setStyle(this.frame,"position","relative")},setStyle:function(a,b,c){var d="style:"+b+":"+c,f;null!=(f=this.mapvalues.get(d))&&f!=a.style(b).get()?a.style(b).string(f,
"important"):null==f&&(a.style(b).string(c,"important"),this.mapvalues.set(d,a.style(b).get()))},setAttr:function(a,b,c){var d="attr:"+b+":"+c,f;null!=(f=this.mapvalues.get(d))&&f!=a.attr(b).get()?a.attr(b).string(f):null==f&&(a.attr(b).string(c),this.mapvalues.set(d,a.attr(b).get()))},updateAnchor:function(){var a=D.Lib.document.body;G.select("body :last-child").node()!=this.anchor.node()&&a.appendChild(this.anchor.node());var a=z.Logo.position(this.frame.node()),b=this.frame.style("width").getFloat();
this.setAttr(this.anchor,"title","Powered by ReportGrid");this.setAttr(this.anchor,"href","http://www.reportgrid.com/charts/");this.setStyle(this.anchor,"z-index","2147483647");this.setStyle(this.anchor,"display","block");this.setStyle(this.anchor,"opacity","1");this.setStyle(this.anchor,"position","absolute");this.setStyle(this.anchor,"height","29px");this.setStyle(this.anchor,"width","194px");this.setStyle(this.anchor,"top",a.y+"px");this.setStyle(this.anchor,"left",a.x-194+b-this.padRight+"px")},
updateImage:function(){this.setAttr(this.image,"src",z.Logo.getLogo());this.setAttr(this.image,"title","Powered by ReportGrid");this.setAttr(this.image,"height","29");this.setAttr(this.image,"width","194");this.setStyle(this.image,"opacity","1");this.setStyle(this.image,"border","none");this.setStyle(this.image,"height","29px");this.setStyle(this.image,"width","194px")},__class__:z.Logo};z.Tooltip=function(a){this.visible=!1;a=null==a?D.Lib.document.body:a;this.tooltip=G.selectNode(a).append("div").style("display").string("none").style("position").string("absolute").style("opacity")["float"](0).style("left").string("0px").style("top").string("0px").attr("class").string("rg tooltip").style("z-index").string("1000000");
this._anchor=this.tooltip.append("div").style("display").string("block").style("position").string("absolute");this.setAnchorClass("");this.container=this.tooltip.append("div").style("position").string("relative").attr("class").string("rg_container");this.background=this.container.append("div").style("display").string("block").append("div").style("z-index").string("-1").attr("class").string("rg_background").style("position").string("absolute").style("left").string("0").style("right").string("0").style("top").string("0").style("bottom").string("0");
this.content=this.container.append("div").attr("class").string("rg_content");this.content.onNode("DOMSubtreeModified",this.resize.$bind(this));this.anchortype="bottomright";this.anchordistance=0};z.Tooltip.__name__=["rg","html","widget","Tooltip"];z.Tooltip.__properties__={get_instance:"getInstance"};z.Tooltip.instance=null;z.Tooltip.getInstance=function(){if(null==z.Tooltip.instance)z.Tooltip.instance=new z.Tooltip,ReportGrid.tooltip=z.Tooltip.instance;return z.Tooltip.instance};z.Tooltip.prototype=
{tooltip:null,_anchor:null,container:null,background:null,content:null,anchortype:null,anchordistance:null,visible:null,html:function(a){this.content.node().innerHTML=a;this.reanchor()},show:function(){if(!this.visible)this.tooltip.style("display").string("block"),this.visible=!0,this.reanchor(),this.tooltip.style("opacity")["float"](1)},hide:function(){if(this.visible)this.visible=!1,this.tooltip.style("opacity")["float"](0).style("display").string("none")},showAt:function(a,b){this.moveAt(a,b);
this.show()},moveAt:function(a,b){this.tooltip.style("left").string(a+"px").style("top").string(b+"px")},anchor:function(a,b){null==b&&(b=0);if(!(this.anchortype==a&&this.anchordistance==b))this.anchortype=a,this.anchordistance=b,this.reanchor()},setAnchorClass:function(a){this._anchor.attr("class").string("rg_anchor "+a)},setAnchorColor:function(a){this._anchor.style("background-color").string(a)},resize:function(){this.reanchor()},reanchor:function(){if(this.visible){var a=this.container.style("width").getFloat(),
b=this.container.style("height").getFloat(),c=this.anchortype;switch(c){case "top":case "bottom":case "center":this.container.style("left").string(-a/2+"px");break;case "left":case "topleft":case "bottomleft":this.container.style("left").string(this.anchordistance+"px");break;case "right":case "topright":case "bottomright":this.container.style("left").string(-this.anchordistance-a+"px");break;default:throw new x.Error("invalid anchor point: {"+this.anchortype+"}",null,null,{fileName:"Tooltip.hx",
lineNumber:157,className:"rg.html.widget.Tooltip",methodName:"reanchor"});}switch(c){case "top":case "topleft":case "topright":this.container.style("top").string(this.anchordistance+"px");break;case "left":case "center":case "right":this.container.style("top").string(-b/2+"px");break;case "bottom":case "bottomleft":case "bottomright":this.container.style("top").string(-this.anchordistance-b+"px")}}},__class__:z.Tooltip};O=function(){};Nc=void 0;Oc=void 0;Pc=void 0;Qc=void 0;Rc=void 0;Sc=void 0;Tc=
void 0;ib=void 0;Uc=void 0;mc=void 0;Vc=void 0;Wc=void 0;nc=void 0;oc=void 0;Db=void 0;Xc=void 0;pc=void 0;qc=void 0;Xa=void 0;qa=void 0;jb=void 0;Ka=void 0;Eb=void 0;Wb=void 0;ra=void 0;ob=void 0;Xb=void 0;Yb=void 0;Zb=void 0;rc=void 0;pb=void 0;Ua=void 0;O.__name__=["rg","info","Info"];O.feed=function(a,b){if(null==b)return a;var c=A.getClass(a),d=j.field(c,"filters");if(null==d)return ma.copyTo(b,a),a;for(var c=d.apply(c,[]),f,d=0;d<c.length;){var e=c[d];++d;if(j.hasField(b,e.field)){if(null!=
e.validator&&!e.validator(f=j.field(b,e.field)))throw new x.Error("the parameter '{0}' can't have value '{1}'",[e.field,f],null,{fileName:"Info.hx",lineNumber:34,className:"rg.info.Info",methodName:"feed"});for(var e=null==e.filter?[{field:e.field,value:f}]:e.filter(f),h=0;h<e.length;){var k=e[h];++h;a[k.field]=k.value}}}return a};O.prototype={__class__:O};Xa=function(){this.animated=!1;this.duration=1500;this.delay=150;this.ease=B.Equations.elasticf()};Xa.__name__=["rg","info","InfoAnimation"];Xa.filters=
function(){return[{field:"animated",validator:function(a){return i.is(a,T)},filter:null},{field:"duration",validator:function(a){return i.is(a,Sb)},filter:null},{field:"delay",validator:function(a){return i.is(a,Sb)},filter:null},{field:"ease",validator:function(a){return j.isFunction(a)},filter:null}]};Xa.prototype={animated:null,duration:null,ease:null,delay:null,__class__:Xa};qa=function(){this.animation=new Xa;this.label=new jb;this.displayMinorTick=function(){return!0};this.displayMajorTick=
function(){return!0};this.displayLabelTick=function(){return!0};this.displayAnchorLineTick=function(){return!1};this.displayMinorRule=function(){return!1};this.displayMajorRule=function(){return!1};this.displayAnchorLineRule=function(){return!1};this.labelOrientation=function(){return null};this.labelAnchor=function(){return null};this.labelAngle=function(){return null};this.lengthTickMinor=2;this.lengthTickMajor=5;this.paddingTickMajor=this.paddingTickMinor=1;this.paddingLabel=10};qa.__name__=["rg",
"info","InfoCartesianChart"];qa.filters=function(){return[{field:"animation",validator:function(a){return j.isObject(a)&&null==A.getClass(a)},filter:function(a){return[{field:"animation",value:O.feed(new Xa,a)}]}},{field:"click",validator:function(a){return j.isFunction(a)},filter:null},{field:"label",validator:function(a){return j.isObject(a)&&null==A.getClass(a)},filter:function(a){return[{field:"label",value:O.feed(new jb,a)}]}},{field:"displaytickmarks",validator:function(a){return j.isFunction(a)||
i.is(a,T)},filter:function(a){return[{field:"displayMinorTick",value:i.is(a,T)?function(){return a}:a},{field:"displayMajorTick",value:i.is(a,T)?function(){return a}:a},{field:"displayLabelTick",value:i.is(a,T)?function(){return a}:a}]}},{field:"displaytickminor",validator:function(a){return j.isFunction(a)||i.is(a,T)},filter:function(a){return[{field:"displayMinorTick",value:i.is(a,T)?function(){return a}:a}]}},{field:"displaytickmajor",validator:function(a){return j.isFunction(a)||i.is(a,T)},filter:function(a){return[{field:"displayMajorTick",
value:i.is(a,T)?function(){return a}:a}]}},{field:"displayticklabel",validator:function(a){return j.isFunction(a)||i.is(a,T)},filter:function(a){return[{field:"displayLabelTick",value:i.is(a,T)?function(){return a}:a}]}},{field:"displayanchorlinetick",validator:function(a){return j.isFunction(a)||i.is(a,T)},filter:function(a){return[{field:"displayAnchorLineTick",value:i.is(a,T)?function(){return a}:a}]}},{field:"displayrules",validator:function(a){return j.isFunction(a)||i.is(a,T)},filter:function(a){return[{field:"displayMinorRule",
value:i.is(a,T)?function(){return a}:a},{field:"displayMajorRule",value:i.is(a,T)?function(){return a}:a}]}},{field:"displayruleminor",validator:function(a){return j.isFunction(a)||i.is(a,T)},filter:function(a){return[{field:"displayMinorRule",value:i.is(a,T)?function(){return a}:a}]}},{field:"displayrulemajor",validator:function(a){return j.isFunction(a)||i.is(a,T)},filter:function(a){return[{field:"displayMajorRule",value:i.is(a,T)?function(){return a}:a}]}},{field:"displayanchorlinerule",validator:function(a){return j.isFunction(a)||
i.is(a,T)},filter:function(a){return[{field:"displayAnchorLineRule",value:i.is(a,T)?function(){return a}:a}]}},{field:"lengthtick",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"lengthTickMajor",value:a},{field:"lengthTickMinor",value:a}]}},{field:"lengthtickminor",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"lengthTickMinor",value:a}]}},{field:"lengthtickmajor",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"lengthTickMajor",
value:a}]}},{field:"paddingtick",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"paddingTickMajor",value:a},{field:"paddingTickMinor",value:a}]}},{field:"paddingtickminor",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"paddingTickMinor",value:a}]}},{field:"paddingtickmajor",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"paddingTickMajor",value:a}]}},{field:"paddingticklabel",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"paddingLabel",
value:a}]}},{field:"labelorientation",validator:function(a){return j.isFunction(a)||i.is(a,String)},filter:function(a){return[{field:"labelOrientation",value:i.is(a,String)?function(){return a}:a}]}},{field:"labelanchor",validator:function(a){return j.isFunction(a)||i.is(a,String)},filter:function(a){return[{field:"labelAnchor",value:i.is(a,String)?function(){return a}:a}]}},{field:"labelangle",validator:function(a){return j.isFunction(a)||i.is(a,X)},filter:function(a){return[{field:"labelAngle",
value:i.is(a,X)?function(){return a}:a}]}}]};qa.prototype={animation:null,click:null,label:null,displayMinorTick:null,displayMajorTick:null,displayLabelTick:null,displayAnchorLineTick:null,displayMinorRule:null,displayMajorRule:null,displayAnchorLineRule:null,labelOrientation:null,labelAnchor:null,labelAngle:null,lengthTickMinor:null,lengthTickMajor:null,paddingTickMinor:null,paddingTickMajor:null,paddingLabel:null,__class__:qa};mc=function(){qa.call(this);this.segment=new Ka;this.stacked=!0;this.effect=
o.GradientEffect.Gradient(1.25);this.barPadding=12;this.barPaddingAxis=4;this.barPaddingDataPoint=2;this.horizontal=!1};mc.__name__=["rg","info","InfoBarChart"];mc.filters=function(){return[{field:"stacked",validator:function(a){return i.is(a,T)},filter:null},{field:"horizontal",validator:function(a){return i.is(a,T)},filter:null},{field:"effect",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"effect",value:o.GradientEffects.parse(a)}]}},{field:"barpadding",validator:function(a){return i.is(a,
X)},filter:function(a){return[{field:"barPadding",value:a}]}},{field:"barpaddingaxis",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"barPaddingAxis",value:a}]}},{field:"barpaddingdatapoint",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"barPaddingDataPoint",value:a}]}},{field:"segmenton",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"segment",value:O.feed(new Ka,{on:a})}]}},{field:"segment",validator:function(a){return j.isObject(a)&&
null==A.getClass(a)},filter:function(a){return[{field:"segment",value:O.feed(new Ka,a)}]}}].concat(qa.filters())};mc.__super__=qa;mc.prototype=w(qa.prototype,{stacked:null,effect:null,barPaddingDataPoint:null,barPaddingAxis:null,barPadding:null,horizontal:null,segment:null,__class__:mc});Oc=function(){};Oc.__name__=["rg","info","InfoDataSource"];Oc.filters=function(){return[{field:"data",validator:function(a){return i.is(a,Array)},filter:function(a){return[{field:"loader",value:function(b){b(a)}}]}},
{field:"datapoints",validator:function(a){return i.is(a,Array)},filter:function(a){return[{field:"loader",value:function(b){b(a)}}]}},{field:"load",validator:function(a){return j.isFunction(a)||null!=j.field(a,"execute")},filter:function(a){return[{field:"loader",value:j.isObject(a)?a.execute.$bind(a):a}]}}]};Oc.prototype={loader:null,__class__:Oc};Rc=function(){};Rc.__name__=["rg","info","InfoDomType"];Rc.filters=function(){return[{field:"visualization",validator:function(a){return y.exists(Y.visualizations,
a.toLowerCase())},filter:function(a){return[{value:y.exists(Y.html,a.toLowerCase())?Eb.Html:Eb.Svg,field:"kind"}]}}]};Rc.prototype={kind:null,__class__:Rc};Eb={__ename__:["rg","info","DomKind"],__constructs__:["Html","Svg"],Html:["Html",0]};Eb.Html.toString=v;Eb.Html.__enum__=Eb;Eb.Svg=["Svg",1];Eb.Svg.toString=v;Eb.Svg.__enum__=Eb;Sc=function(){this.service=ab.SERVICE_RENDERING_STATIC;this.legacyservice=ab.LEGACY_RENDERING_STATIC;this.formats=["pdf","png","jpg","svg"]};Sc.__name__=["rg","info","InfoDownload"];
Sc.filters=function(){return[{field:"handler",validator:function(a){return j.isFunction(a)},filter:null},{field:"service",validator:function(a){return i.is(a,String)},filter:null},{field:"legacyservice",validator:function(a){return i.is(a,String)},filter:null},{field:"formats",validator:function(a){return i.is(a,Array)},filter:null},{field:"position",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"position",value:z.DownloaderPositions.parse(a)}]}}]};Sc.prototype={handler:null,
service:null,legacyservice:null,position:null,formats:null,__class__:Sc};Vc=function(){this.animation=new Xa;this.label=new Wb;this.padding=2.5;this.flatness=1;this.effect=o.GradientEffect.Gradient(1.25);this.arrowSize=30};Vc.__name__=["rg","info","InfoFunnelChart"];Vc.filters=function(){return[{field:"animation",validator:function(a){return j.isObject(a)&&null==A.getClass(a)},filter:function(a){return[{field:"animation",value:O.feed(new Xa,a)}]}},{field:"label",validator:function(a){return j.isObject(a)&&
null==A.getClass(a)},filter:function(a){return[{field:"label",value:O.feed(new Wb,a)}]}},{field:"sort",validator:function(a){return j.isFunction(a)},filter:function(a){return[{field:"sortDataPoint",value:a}]}},{field:"click",validator:function(a){return j.isFunction(a)},filter:null},{field:"segmentpadding",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"padding",value:a}]}},{field:"flatness",validator:function(a){return i.is(a,X)},filter:null},{field:"effect",validator:o.GradientEffects.canParse,
filter:function(a){return[{field:"effect",value:o.GradientEffects.parse(a)}]}},{field:"arrowsize",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"arrowSize",value:a}]}}]};Vc.prototype={animation:null,label:null,sortDataPoint:null,click:null,padding:null,flatness:null,effect:null,arrowSize:null,__class__:Vc};Pc=function(){this.forcelegacy=!1};Pc.__name__=["rg","info","InfoGeneral"];Pc.filter=function(){return[{field:"ready",validator:function(a){return j.isFunction(a)},value:null},
{field:"forcelegacy",validator:function(a){return i.is(a,T)},value:null}]};Pc.prototype={ready:null,forcelegacy:null,__class__:Pc};Wc=function(){this.label=new ra;this.map=[O.feed(new ob,{template:"world"})]};Wc.__name__=["rg","info","InfoGeo"];Wc.filters=function(){return[{field:"map",validator:function(a){return j.isObject(a)&&null==A.getClass(a)||i.is(a,Array)},filter:function(a){return[{field:"map",value:(i.is(a,Array)?a:[a]).map(function(a){return O.feed(new ob,a)})}]}}]};Wc.prototype={map:null,
label:null,__class__:Wc};nc=function(){qa.call(this);this.colorScaleMode=o.ColorScaleMode.FromCssInterpolation()};nc.__name__=["rg","info","InfoHeatGrid"];nc.filters=function(){return[{field:"contour",validator:function(a){return i.is(a,T)},filter:null},{field:"color",validator:function(a){return i.is(a,String)||j.isFunction(a)},filter:function(a){return[{field:"colorScaleMode",value:o.ColorScaleModes.createFromDynamic(a)}]}}].concat(qa.filters())};nc.__super__=qa;nc.prototype=w(qa.prototype,{contour:null,
colorScaleMode:null,__class__:nc});ra=function(){};ra.__name__=["rg","info","InfoLabel"];ra.filters=function(){return[{field:"title",validator:function(a){return i.is(a,String)||j.isFunction(a)},filter:function(a){return[{field:"title",value:i.is(a,String)?function(){return a}:a}]}},{field:"datapoint",validator:function(a){return j.isFunction(a)},filter:null},{field:"datapointover",validator:function(a){return j.isFunction(a)},filter:null}]};ra.prototype={title:null,datapoint:null,datapointover:null,
__class__:ra};jb=function(){ra.call(this)};jb.__name__=["rg","info","InfoLabelAxis"];jb.filters=function(){return[{field:"axis",validator:function(a){return j.isFunction(a)},filter:null},{field:"tickmark",validator:function(a){return j.isFunction(a)},filter:null}].concat(ra.filters())};jb.__super__=ra;jb.prototype=w(ra.prototype,{axis:null,tickmark:null,__class__:jb});Wb=function(){ra.call(this)};Wb.__name__=["rg","info","InfoLabelFunnel"];Wb.filters=function(){return[{field:"arrow",validator:function(a){return j.isFunction(a)},
filter:null}].concat(ra.filters())};Wb.__super__=ra;Wb.prototype=w(ra.prototype,{arrow:null,__class__:Wb});Xb=function(){ra.call(this)};Xb.__name__=["rg","info","InfoLabelLeaderboard"];Xb.filters=function(){return[{field:"rank",validator:function(a){return null==a||j.isFunction(a)},filter:null},{field:"value",validator:function(a){return null==a||j.isFunction(a)},filter:null}].concat(ra.filters())};Xb.__super__=ra;Xb.prototype=w(ra.prototype,{rank:null,value:null,__class__:Xb});Yb=function(){jb.call(this)};
Yb.__name__=["rg","info","InfoLabelPivotTable"];Yb.filters=function(){return[{field:"total",validator:function(a){return j.isFunction(a)},filter:null},{field:"totalover",validator:function(a){return j.isFunction(a)},filter:null},{field:"axisvalue",validator:function(a){return j.isFunction(a)},filter:null}].concat(jb.filters())};Yb.__super__=jb;Yb.prototype=w(jb.prototype,{total:null,totalover:null,axisvalue:null,__class__:Yb});Zb=function(){ra.call(this)};Zb.__name__=["rg","info","InfoLabelSankey"];
Zb.filters=function(){return[{field:"edge",validator:function(a){return j.isFunction(a)},filter:null},{field:"edgeover",validator:function(a){return j.isFunction(a)},filter:null},{field:"node",validator:function(a){return j.isFunction(a)},filter:null}].concat(ra.filters())};Zb.__super__=ra;Zb.prototype=w(ra.prototype,{edge:null,edgeover:null,node:null,__class__:Zb});Tc=function(){this.main="main";this.titleOnTop=!0;this.scalePattern=Na.ScalesAlternating;this.padding=new rc};Tc.__name__=["rg","info",
"InfoLayout"];Tc.filters=function(){return[{field:"layout",validator:function(a){return i.is(a,String)&&y.exists(Y.layouts,a.toLowerCase())},filter:function(a){return[{field:"layout",value:a.toLowerCase()}]}},{field:"width",validator:function(a){return i.is(a,X)},filter:function(a){return[{value:Math.round(a),field:"width"}]}},{field:"height",validator:function(a){return i.is(a,X)},filter:function(a){return[{value:Math.round(a),field:"height"}]}},{field:"visualization",validator:function(a){return y.exists(Y.svg,
a.toLowerCase())},filter:function(a){return[{value:a.toLowerCase(),field:"type"}]}},{field:"main",validator:function(a){return i.is(a,String)},filter:null},{field:"titleontop",validator:function(a){return i.is(a,T)},filter:function(a){return[{value:a,field:"titleOnTop"}]}},{field:"yscaleposition",validator:function(a){return i.is(a,String)},filter:function(a){var b;switch(a){case "alt":case "alternate":case "alternating":b=Na.ScalesAlternating;break;case "right":b=Na.ScalesAfter;break;default:b=Na.ScalesBefore}return[{value:a,
field:b}]}},{field:"padding",validator:function(a){return j.isObject(a)&&null==A.getClass(a)},filter:function(a){return[{field:"padding",value:O.feed(new rc,a)}]}}]};Tc.prototype={layout:null,width:null,height:null,type:null,main:null,titleOnTop:null,scalePattern:null,padding:null,__class__:Tc};Uc=function(){this.animation=new Xa;this.label=new Xb;this.usemax=!1;this.displaybar=!0;this.colorscale=!1};Uc.__name__=["rg","info","InfoLeaderboard"];Uc.filters=function(){return[{field:"animation",validator:function(a){return j.isObject(a)&&
null==A.getClass(a)},filter:function(a){var b=new Xa;b.ease=B.Equations.linear;return[{field:"animation",value:O.feed(b,a)}]}},{field:"label",validator:function(a){return j.isObject(a)&&null==A.getClass(a)},filter:function(a){return[{field:"label",value:O.feed(new Xb,a)}]}},{field:"click",validator:function(a){return j.isFunction(a)},filter:null},{field:"sort",validator:function(a){return j.isFunction(a)},filter:function(a){return[{field:"sortDataPoint",value:a}]}},{field:"displaybar",validator:function(a){return i.is(a,
T)},filter:null},{field:"usemax",validator:function(a){return i.is(a,T)},filter:null},{field:"colorscale",validator:function(a){return i.is(a,T)},filter:null}]};Uc.prototype={animation:null,label:null,click:null,sortDataPoint:null,usemax:null,displaybar:null,colorscale:null,__class__:Uc};oc=function(){qa.call(this);this.segment=new Ka;this.effect=o.LineEffect.Gradient(-1.2,2);this.interpolation=p.LineInterpolator.Linear;this.displayarea=!1;this.sensibleradius=100};oc.__name__=["rg","info","InfoLineChart"];
oc.filters=function(){return[{field:"symbol",validator:function(a){return i.is(a,String)||j.isFunction(a)},filter:function(a){return[{field:"symbol",value:i.is(a,String)?function(){return a}:a}]}},{field:"symbolstyle",validator:function(a){return j.isFunction(a)},filter:function(a){return[{field:"symbolStyle",value:a}]}},{field:"y0property",validator:function(a){return i.is(a,String)},filter:null},{field:"displayarea",validator:function(a){return i.is(a,T)},filter:null},{field:"sensibleradius",validator:function(a){return i.is(a,
Sb)},filter:null},{field:"effect",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"effect",value:o.LineEffects.parse(a)}]}},{field:"interpolation",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"interpolation",value:p.LineInterpolators.parse(a)}]}},{field:"segmenton",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"segment",value:O.feed(new Ka,{on:a})}]}},{field:"segment",validator:function(a){return j.isObject(a)&&
null==A.getClass(a)},filter:function(a){return[{field:"segment",value:O.feed(new Ka,a)}]}}].concat(qa.filters())};oc.__super__=qa;oc.prototype=w(qa.prototype,{effect:null,interpolation:null,symbol:null,symbolStyle:null,displayarea:null,y0property:null,segment:null,sensibleradius:null,__class__:oc});ob=function(){this.property="location";this.type="geojson";this.colorScaleMode=o.ColorScaleMode.FromCssInterpolation();this.usejsonp=!0;this.radius=function(){return 10}};ob.__name__=["rg","info","InfoMap"];
ob.filters=function(){return[{field:"url",validator:function(a){return i.is(a,String)},filter:null},{field:"type",validator:function(a){return i.is(a,String)},filter:null},{field:"scale",validator:function(a){return i.is(a,X)},filter:null},{field:"projection",validator:function(a){return i.is(a,String)},filter:null},{field:"classname",validator:function(a){return i.is(a,String)},filter:null},{field:"translate",validator:function(a){return i.is(a,Array)},filter:null},{field:"origin",validator:function(a){return i.is(a,
Array)},filter:null},{field:"parallels",validator:function(a){return i.is(a,Array)},filter:null},{field:"mode",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"mode",value:A.createEnum(P.ProjectionMode,F.ucfirst(a.toLowerCase()),[])}]}},{field:"property",validator:function(a){return null==a||i.is(a,String)},filter:null},{field:"usejsonp",validator:function(a){return i.is(a,T)},filter:null},{field:"template",validator:function(a){return i.is(a,String)&&ob.isValidTemplate(a)},
filter:ob.fromTemplate},{field:"label",validator:function(a){return j.isObject(a)&&null==A.getClass(a)},filter:function(a){return[{field:"label",value:O.feed(new ra,a)}]}},{field:"click",validator:function(a){return j.isFunction(a)},filter:null},{field:"color",validator:function(a){return i.is(a,String)||j.isFunction(a)},filter:function(a){return[{field:"colorScaleMode",value:o.ColorScaleModes.createFromDynamic(a)}]}},{field:"radius",validator:function(a){return i.is(a,X)||j.isFunction(a)},filter:function(a){return[{field:"radius",
value:i.is(a,X)?function(){return a}:a}]}},{field:"mapping",validator:function(a){return i.is(a,String)||j.isObject(a)&&null==A.getClass(a)},filter:function(a){return i.is(a,String)?[{field:"mappingurl",value:a}]:[{field:"mapping",value:a}]}}]};ob.isValidTemplate=function(a){return y.exists(["world","world-countries","usa-states","usa-state-centroids","usa-counties"],a.toLowerCase())};ob.fromTemplate=function(a){switch(a.toLowerCase()){case "world":case "world-countries":return[{field:"projection",
value:"mercator"},{field:"url",value:ab.BASE_URL_GEOJSON+"world-countries.json.js"}];case "usa-states":return[{field:"projection",value:"albersusa"},{field:"url",value:ab.BASE_URL_GEOJSON+"usa-states.json.js"}];case "usa-state-centroids":return[{field:"projection",value:"albersusa"},{field:"url",value:ab.BASE_URL_GEOJSON+"usa-state-centroids.json.js"}];case "usa-counties":return[{field:"projection",value:"albersusa"},{field:"url",value:ab.BASE_URL_GEOJSON+"usa-counties.json.js"}];default:throw new x.Error("invalid template",
null,null,{fileName:"InfoMap.hx",lineNumber:194,className:"rg.info.InfoMap",methodName:"fromTemplate"});}};ob.prototype={url:null,type:null,scale:null,projection:null,classname:null,translate:null,origin:null,parallels:null,mode:null,property:null,label:null,click:null,radius:null,colorScaleMode:null,usejsonp:null,mapping:null,mappingurl:null,__class__:ob};rc=function(){};rc.__name__=["rg","info","InfoPadding"];rc.filters=function(){return[{field:"top",validator:function(a){return i.is(a,Sb)},filter:null},
{field:"bottom",validator:function(a){return i.is(a,Sb)},filter:null},{field:"left",validator:function(a){return i.is(a,Sb)},filter:null},{field:"right",validator:function(a){return i.is(a,Sb)},filter:null}]};rc.prototype={top:null,bottom:null,left:null,right:null,__class__:rc};Db=function(){this.innerradius=0;this.labelradius=0.45;this.labelorientation=m.LabelOrientation.Aligned;this.outerradius=0.9;this.overradius=0.95;this.tooltipradius=0.5;this.animation=new Xa;this.label=new ra;this.effect=o.GradientEffect.Gradient(1.2);
this.dontfliplabel=!0};Db.__name__=["rg","info","InfoPieChart"];Db.validateOrientation=function(a){a=a.split(":")[0].toLowerCase();return y.exists("fixed,ortho,orthogonal,align,aligned,horizontal".split(","),a)};Db.filterOrientation=function(a){switch(a.split(":")[0].toLowerCase()){case "fixed":a=i.parseFloat(a.split(":")[1]);if(null==a||!Math.isFinite(a))throw new x.Error("when 'fixed' is used a number should follow the 'dash' character",null,null,{fileName:"InfoPieChart.hx",lineNumber:60,className:"rg.info.InfoPieChart",
methodName:"filterOrientation"});return m.LabelOrientation.FixedAngle(a);case "ortho":case "orthogonal":return m.LabelOrientation.Orthogonal;case "align":case "aligned":return m.LabelOrientation.Aligned;case "horizontal":return m.LabelOrientation.FixedAngle(0);default:throw new x.Error("invalid filter orientation '{0}'",null,a,{fileName:"InfoPieChart.hx",lineNumber:69,className:"rg.info.InfoPieChart",methodName:"filterOrientation"});}};Db.filters=function(){return[{field:"labelradius",validator:function(a){return i.is(a,
X)},filter:null},{field:"dontfliplabel",validator:function(a){return i.is(a,T)},filter:null},{field:"labelorientation",validator:function(a){return i.is(a,String)&&Db.validateOrientation(a)},filter:function(a){return[{field:"labelorientation",value:Db.filterOrientation(a)}]}},{field:"innerradius",validator:function(a){return i.is(a,X)},filter:null},{field:"outerradius",validator:function(a){return i.is(a,X)},filter:null},{field:"overradius",validator:function(a){return i.is(a,X)},filter:null},{field:"tooltipradius",
validator:function(a){return i.is(a,X)},filter:null},{field:"animation",validator:function(a){return j.isObject(a)&&null==A.getClass(a)},filter:function(a){return[{field:"animation",value:O.feed(new Xa,a)}]}},{field:"label",validator:function(a){return j.isObject(a)&&null==A.getClass(a)},filter:function(a){return[{field:"label",value:O.feed(new ra,a)}]}},{field:"sort",validator:function(a){return j.isFunction(a)},filter:function(a){return[{field:"sortDataPoint",value:a}]}},{field:"click",validator:function(a){return j.isFunction(a)},
filter:null},{field:"effect",validator:o.GradientEffects.canParse,filter:function(a){return[{field:"effect",value:o.GradientEffects.parse(a)}]}}]};Db.prototype={labelradius:null,labelorientation:null,innerradius:null,outerradius:null,overradius:null,tooltipradius:null,animation:null,label:null,effect:null,sortDataPoint:null,dontfliplabel:null,click:null,__class__:Db};ib=function(){this.label=new Yb;this.heatmapColorStart=ib.defaultStartColor;this.heatmapColorEnd=ib.defaultEndColor;this.displayRowTotal=
this.displayColumnTotal=this.displayHeatmap=!0;this.columnAxes=1};ib.__name__=["rg","info","InfoPivotTable"];ib.filters=function(){return[{field:"columnaxes",validator:function(a){return i.is(a,Sb)},filter:function(a){return[{field:"columnAxes",value:a}]}},{field:"displayheatmap",validator:function(a){return i.is(a,T)},filter:function(a){return[{field:"displayHeatmap",value:a}]}},{field:"displaycolumntotal",validator:function(a){return i.is(a,T)},filter:function(a){return[{field:"displayColumnTotal",
value:a}]}},{field:"displayrowtotal",validator:function(a){return i.is(a,T)},filter:function(a){return[{field:"displayRowTotal",value:a}]}},{field:"startcolor",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"heatmapColorStart",value:e.Hsl.toHsl(J.parse(a,ib.defaultStartColor.hex("#")))}]}},{field:"endcolor",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"heatmapColorEnd",value:e.Hsl.toHsl(J.parse(a,ib.defaultEndColor.hex("#")))}]}},{field:"label",
validator:function(a){return j.isObject(a)&&null==A.getClass(a)},filter:function(a){return[{field:"label",value:O.feed(new Yb,a)}]}},{field:"click",validator:function(a){return j.isFunction(a)},filter:null},{field:"cellclass",validator:function(a){return j.isFunction(a)},filter:null},{field:"valueclass",validator:function(a){return j.isFunction(a)},filter:null},{field:"headerclass",validator:function(a){return j.isFunction(a)},filter:null},{field:"totalclass",validator:function(a){return j.isFunction(a)},
filter:null}]};ib.prototype={label:null,heatmapColorStart:null,heatmapColorEnd:null,displayHeatmap:null,displayColumnTotal:null,displayRowTotal:null,columnAxes:null,click:null,cellclass:null,valueclass:null,headerclass:null,totalclass:null,__class__:ib};Xc=function(){this.label=new Zb;this.idproperty="id";this.weightproperty="count";this.parentsproperty="parents";this.stackbackedges=!0;this.thinbackedges=!1};Xc.__name__=["rg","info","InfoSankey"];Xc.filters=function(){return[{field:"label",validator:function(a){return j.isObject(a)&&
null==A.getClass(a)},filter:function(a){return[{field:"label",value:O.feed(new Zb,a)}]}},{field:"layerwidth",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"layerWidth",value:a}]}},{field:"nodespacing",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"nodeSpacing",value:a}]}},{field:"dummyspacing",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"dummySpacing",value:a}]}},{field:"extrawidth",validator:function(a){return i.is(a,
X)},filter:function(a){return[{field:"extraWidth",value:a}]}},{field:"backedgespacing",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"backEdgeSpacing",value:a}]}},{field:"extraheight",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"extraHeight",value:a}]}},{field:"extraradius",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"extraRadius",value:a}]}},{field:"imagewidth",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"imageWidth",
value:a}]}},{field:"imageheight",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"imageHeight",value:a}]}},{field:"imagespacing",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"imageSpacing",value:a}]}},{field:"labelnodespacing",validator:function(a){return i.is(a,X)},filter:function(a){return[{field:"labelNodeSpacing",value:a}]}},{field:"imagepath",validator:function(a){return j.isFunction(a)},filter:function(a){return[{field:"imagePath",value:a}]}},
{field:"click",validator:function(a){return j.isFunction(a)},filter:function(a){return[{field:"click",value:a}]}},{field:"clickedge",validator:function(a){return j.isFunction(a)},filter:function(a){return[{field:"clickEdge",value:a}]}},{field:"layoutmap",validator:function(a){return j.isObject(a)&&null==A.getClass(a)},filter:function(a){return[{field:"layoutmap",value:a}]}},{field:"layoutmethod",validator:function(a){return i.is(a,String)},filter:null},{field:"nodeclass",validator:function(a){return i.is(a,
String)||j.isFunction(a)},filter:function(a){return[{field:"nodeclass",value:i.is(a,String)?function(){return a}:a}]}},{field:"edgeclass",validator:function(a){return i.is(a,String)||j.isFunction(a)},filter:function(a){return[{field:"edgeclass",value:i.is(a,String)?function(){return a}:a}]}},{field:"displayentry",validator:function(a){return i.is(a,T)||j.isFunction(a)},filter:function(a){return[{field:"displayentry",value:i.is(a,T)?function(){return a}:a}]}},{field:"displayexit",validator:function(a){return i.is(a,
T)||j.isFunction(a)},filter:function(a){return[{field:"displayexit",value:i.is(a,T)?function(){return a}:a}]}},{field:"stackbackedges",validator:function(a){return i.is(a,T)},filter:null},{field:"thinbackedges",validator:function(a){return i.is(a,T)},filter:null}]};Xc.prototype={label:null,idproperty:null,weightproperty:null,parentsproperty:null,layerWidth:null,nodeSpacing:null,dummySpacing:null,extraWidth:null,backEdgeSpacing:null,extraHeight:null,extraRadius:null,imageWidth:null,imageHeight:null,
imageSpacing:null,labelNodeSpacing:null,imagePath:null,layoutmap:null,click:null,clickEdge:null,layoutmethod:null,nodeclass:null,edgeclass:null,displayentry:null,displayexit:null,stackbackedges:null,thinbackedges:null,__class__:Xc};pc=function(){qa.call(this);this.segment=new Ka;this.symbol=function(){return ha.SymbolCache.cache.get("circle",16)}};pc.__name__=["rg","info","InfoScatterGraph"];pc.filters=function(){return[{field:"symbol",validator:function(a){return i.is(a,String)||j.isFunction(a)},
filter:function(a){return[{field:"symbol",value:i.is(a,String)?function(){return a}:a}]}},{field:"symbolstyle",validator:function(a){return j.isFunction(a)},filter:function(a){return[{field:"symbolStyle",value:a}]}},{field:"segmenton",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"segment",value:O.feed(new Ka,{on:a})}]}},{field:"segment",validator:function(a){return j.isObject(a)&&null==A.getClass(a)},filter:function(a){return[{field:"segment",value:O.feed(new Ka,a)}]}}].concat(qa.filters())};
pc.__super__=qa;pc.prototype=w(qa.prototype,{symbol:null,symbolStyle:null,segment:null,__class__:pc});Ka=function(){};Ka.__name__=["rg","info","InfoSegment"];Ka.filters=function(){return[{field:"on",validator:function(a){return i.is(a,String)},filter:null},{field:"transform",validator:function(a){return j.isFunction(a)},filter:null},{field:"scale",validator:function(a){return j.isFunction(a)},filter:null}]};Ka.prototype={on:null,transform:null,scale:null,__class__:Ka};qc=function(){qa.call(this);
this.segment=new Ka;this.interpolation=p.LineInterpolator.Cardinal();this.effect=o.StreamEffect.GradientVertical(1.25)};qc.__name__=["rg","info","InfoStreamGraph"];qc.filters=function(){return[{field:"interpolation",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"interpolation",value:p.LineInterpolators.parse(a)}]}},{field:"effect",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"effect",value:o.StreamEffects.parse(a)}]}},{field:"segmenton",
validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"segment",value:O.feed(new Ka,{on:a})}]}},{field:"segment",validator:function(a){return j.isObject(a)&&null==A.getClass(a)},filter:function(a){return[{field:"segment",value:O.feed(new Ka,a)}]}}].concat(qa.filters())};qc.__super__=qa;qc.prototype=w(qa.prototype,{interpolation:null,effect:null,segment:null,__class__:qc});pb=function(){this.variableType=Ua.Unknown};pb.__name__=["rg","info","InfoVariable"];pb.filters=function(){return[{field:"type",
validator:function(a){return i.is(a,String)},filter:null},{field:"view",validator:function(a){return i.is(a,Array)&&pb.testViewValue(a[0])&&pb.testViewValue(a[1])},filter:function(a){var b=[];null!=a[0]&&b.push({field:"min",value:a[0]});null!=a[1]&&b.push({field:"max",value:a[1]});return b}},{field:"values",validator:function(a){return i.is(a,Array)&&M.all(a.iterator(),function(a){return Ha.isPrimitive(a)})},filter:null},{field:"groupby",validator:function(a){return i.is(a,String)&&N.isValidGroupBy(a)},
filter:function(a){return[{field:"groupBy",value:a}]}},{field:"variable",validator:function(a){return i.is(a,String)&&y.exists(["independent","dependent"],a.toLowerCase())},filter:function(a){return[{field:"variableType",value:A.createEnum(Ua,F.ucfirst((""+a).toLowerCase()),[])}]}},{field:"scalemode",validator:function(a){return i.is(a,String)},filter:function(a){return[{field:"scaleDistribution",value:A.createEnum(za,"Scale"+F.ucfirst((""+a).toLowerCase()),[])}]}}]};pb.testViewValue=function(a){return null==
a||Ha.isPrimitive(a)||i.is(a,Date)||j.isFunction(a)};pb.__super__=O;pb.prototype=w(O.prototype,{type:null,min:null,max:null,values:null,groupBy:null,variableType:null,scaleDistribution:null,__class__:pb});Ua={__ename__:["rg","info","VariableType"],__constructs__:["Unknown","Independent","Dependent"],Unknown:["Unknown",0]};Ua.Unknown.toString=v;Ua.Unknown.__enum__=Ua;Ua.Independent=["Independent",1];Ua.Independent.toString=v;Ua.Independent.__enum__=Ua;Ua.Dependent=["Dependent",2];Ua.Dependent.toString=
v;Ua.Dependent.__enum__=Ua;Nc=function(){};Nc.__name__=["rg","info","InfoVisualizationOption"];Nc.filters=function(){return[{field:"axes",validator:function(a){return i.is(a,Array)||j.isObject(a)},filter:function(a){return[{field:"variables",value:i.is(a,Array)?a.map(function(a){return O.feed(new pb,a)}):[O.feed(new pb,a)]}]}},{field:"options",validator:function(a){return j.isObject(a)},filter:null}]};Nc.prototype={variables:null,options:null,__class__:Nc};Qc=function(){this.replace=!0};Qc.__name__=
["rg","info","InfoVisualizationType"];Qc.filters=function(){return[{field:"visualization",validator:function(a){return y.exists(Y.visualizations,a.toLowerCase())},filter:function(a){return[{value:a.toLowerCase(),field:"type"}]}},{field:"replace",validator:function(a){return i.is(a,T)},filtern:null}]};Qc.prototype={replace:null,type:null,__class__:Qc};Ab=function(a,b){this.container=a;this.serviceUrl=b;this.tokenId=jc.getTokenId()};Da=void 0;Ab.__name__=["rg","interactive","RGDownloader"];Ab.appendArgument=
function(a,b,c){var d=0<=a.indexOf("?")?"&":"?";return a+d+b+"="+E.urlEncode(c)};Ab.prototype={serviceUrl:null,container:null,format:null,tokenId:null,url:function(a){return E.replace(this.serviceUrl,"{ext}",a)},download:function(a,b,c,d){if(!y.exists(Ab.ALLOWED_FORMATS,a))throw new x.Error("The download format '{0}' is not correct",[a],null,{fileName:"RGDownloader.hx",lineNumber:33,className:"rg.interactive.RGDownloader",methodName:"download"});this.format=a;a=new Yc(this.url(a));a.setHeader("Accept",
"application/json");a.onError=null!=d?d:function(){};a.onData=function(a,b,c){return function(d){return a(b,c,d)}}(this.complete.$bind(this),c,d);a.setParameter("html",this.html());a.setParameter("config",this.config());a.request(!0)},findCssSources:function(){return G.selectAll("link").filterNode(function(a){return"stylesheet"==a.rel}).mapNode(function(a){return a.href})},extractSvg:function(a){var b=new Q("<svg",""),c=new Q("</svg>","");b.match(a);a=b.matchedRight();c.match(a);return"<svg"+c.matchedLeft()+
"</svg>"},html:function(){var a=this.findCssSources(),b=this.container.attr("class").get(),c=this.extractSvg(this.container.html().get());return'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml">\n<head>\n<title></title>\n'+(null==a?"":a.map(function(a){return'<link href="'+a+'" rel="stylesheet" type="text/css" />'}).join("\n"))+'\n</head>\n<body>\n<div class="'+(null==b?"rg":b+" rg")+
'">'+c+"</div>\n</body>\n</html>"},config:function(){var a=this.container.select("svg"),b=a.attr("width").getFloat(),a=a.attr("height").getFloat(),b='"cache":"1d","duration":"1d","width":'+b+',"height":'+a+',"formats":["'+Ab.ALLOWED_FORMATS.join('","')+'"]';null!=this.tokenId&&(b+=',"params":{"tokenId":true}');return"{"+b+"}"},complete:function(a,b,c){c=W.Json.decode(c);if(null!=c.error)null!=b&&b(c.error);else if(a(c))a=j.field(c.service,this.format),null!=this.tokenId&&(a=Ab.appendArgument(a,"tokenId",
this.tokenId)),a=Ab.appendArgument(a,"forceDownload","true"),D.Lib.window.location.href=a},__class__:Ab};Da=function(a,b){this.container=a;this.serviceUrl=b;this.tokenId=jc.getTokenId()};Da.__name__=["rg","interactive","RGLegacyRenderer"];Da.getIframeDoc=function(a){var b=null;if(a.contentDocument)b=a.contentDocument;else if(a.contentWindow)b=a.contentWindow.document;else if(null!=D.Lib.window.frames[a.name])b=D.Lib.window.frames[a.name].document;return b};Da.removeFunctions=function(a){for(var b=
0,c=j.fields(a);b<c.length;){var d=c[b];++b;var f=j.field(a,d);j.isFunction(f)?j.deleteField(a,d):j.isObject(a)&&null==A.getClass(a)&&Da.removeFunctions(f)}};Da.removeEmpties=function(a){for(var b=0,c=j.fields(a);b<c.length;){var d=c[b];++b;var f=j.field(a,d);j.isObject(f)&&null==A.getClass(f)?(Da.removeEmpties(f),0==j.fields(f).length&&j.deleteField(a,d)):null==f&&j.deleteField(a,d)}};Da.prototype={serviceUrl:null,container:null,tokenId:null,url:function(){return E.replace(this.serviceUrl,"{ext}",
Da.FORMAT)},display:function(a){this.normalizeParams(a);var b=this.container.attr("id").get(),c=a.options.width,d=a.options.height,f=this.createIframe(c,d);null==b&&(b="rgchart");var e=this.url(),a=this.html(b,a),c=this.config(c,d);this.writeToIframe(f.node(),'<form method="post" action="'+e+'" name="VIZ"><textarea name="html">'+a+'</textarea><textarea name="config">'+c+'</textarea><script type="text/javascript">\n  document.VIZ.submit();\n<\/script>\n</form>');var h=f.node();Da.getIframeDoc(h);h.attachEvent("onload",
function(){var a=Da.getIframeDoc(h);a.body.scroll="no";a.body.style.overflow="hidden"})},createIframe:function(a,b){var c="rgiframe"+ ++Da.nextframeid;return this.container.append("iframe").attr("name").string(c).attr("id").string(c).attr("frameBorder").string("0").attr("scrolling").string("no").attr("width").string(a+"").attr("height").string(b+"").attr("marginwidth").string("0").attr("marginheight").string("0").attr("hspace").string("0").attr("vspace").string("0").attr("style").string("width:100%; border:0; height:100%; overflow:auto;").attr("src").string("about:blank")},
writeToIframe:function(a,b){var c=Da.getIframeDoc(a);null!=c&&(c.open(),c.write('<html><head><title></title></head><body style="display:none;border:none" scroll="no">'+b+"</body></html>"),c.close())},normalizeParams:function(a){if(null==a.options)a.options={};var b=hb.size(this.container,a.options,0);a.options.width=b.width;a.options.height=b.height;Da.removeFunctions(a.options);Da.removeEmpties(a);j.deleteField(a,"load");j.deleteField(a.options,"download");a.options.forcelegacy=!1},findJsSources:function(){var a=
new Q("reportgrid-[^.]+\\.js","");return G.selectAll("script").filterNode(function(b){return a.match(b.src)}).mapNode(function(a){return a.src})},findCssSources:function(){return G.selectAll("link").filterNode(function(a){return"stylesheet"==a.rel}).mapNode(function(a){return a.href})},html:function(a,b){var c=W.Json.encode(b),d=this.findJsSources(),f=this.findCssSources(),e=this.container.attr("class").get();return"<!DOCTYPE html>\n<html>\n<head>\n<title></title>\n"+(null==d?"":d.map(function(a){return'<script src="'+
a+'" type="text/javascript"><\/script>'}).join("\n"))+(null==f?"":f.map(function(a){return'<link href="'+a+'" rel="stylesheet" type="text/css" />'}).join("\n"))+'\n<script type="text/javascript">\nfunction __RG__render()\n{\nReportGrid.chart("#'+a+'", '+c+');\n}\n<\/script>\n</head>\n<body onload="__RG__render()">\n<div id="'+a+'" class="'+(null==e?"rg":e+" rg")+'" style="margin:0"></div>\n</body>\n</html>'},config:function(a,b){return"{"+('"cache":"1d","duration":"1d","width":'+a+',"height":'+b+
',"formats":["'+Da.FORMAT+'"]')+"}"},__class__:Da};Na=void 0;la=void 0;Ba=void 0;Ja=void 0;Wa=void 0;xc=void 0;ub=void 0;la={__ename__:["rg","layout","Anchor"],__constructs__:["Top","Bottom","Left","Right"],Top:["Top",0]};la.Top.toString=v;la.Top.__enum__=la;la.Bottom=["Bottom",1];la.Bottom.toString=v;la.Bottom.__enum__=la;la.Left=["Left",2];la.Left.toString=v;la.Left.__enum__=la;la.Right=["Right",3];la.Right.toString=v;la.Right.__enum__=la;Ba=function(a,b,c){this.container=c;c.classed().add("rg");
this.space=new L.Space(this.width=a,this.height=b,c.append("div"))};Ba.__name__=["rg","layout","Layout"];Ba.prototype={mainPanelName:null,width:null,height:null,space:null,container:null,getContext:function(){return null},getPanel:function(){return null},suggestSize:function(a,b){var c=this.getPanel(a);null!=c&&this.suggestPanelSize(c,b)},destroy:function(){this.container.selectAll("*").remove()},suggestPanelSize:function(a,b){var c=Ha.as(a.frame,Oa);if(null!=c){var d=c.disposition;switch(d[1]){case 3:c.setDisposition(R.Fixed(d[2],
d[3],b))}}},suggestPanelPadding:function(a,b,c){if(null!=a&&(a=Ha.as(a.frame,Oa),null!=a)){var d=a.disposition;switch(d[1]){case 0:var f=d[5],e=d[4],h=d[3],d=d[2];a.setDisposition(R.Fill(null==b?d:b,null==c?h:c,e,f));break;case 1:var f=d[6],e=d[5],k=d[4],h=d[3],d=d[2];a.setDisposition(R.FillPercent(null==b?d:b,null==c?h:c,k,e,f));break;case 2:f=d[4];h=d[3];d=d[2];a.setDisposition(R.FillRatio(null==b?d:b,null==c?h:c,f));break;case 3:f=d[4],h=d[3],d=d[2],a.setDisposition(R.Fixed(null==b?d:b,null==c?
h:c,f))}}},paddings:null,feedOptions:function(a){this.mainPanelName=a.main;this.paddings=a.padding},adjustPadding:function(){},__class__:Ba};Ja=function(a,b,c){Ba.call(this,a,b,c);this.alternating=this.left=this.titleOnTop=!0;this.yitems=[]};Ja.__name__=["rg","layout","LayoutCartesian"];Ja.__super__=Ba;Ja.prototype=w(Ba.prototype,{main:null,titleOnTop:null,leftcontainer:null,rightcontainer:null,bottomcontainer:null,bottommiddlecontainer:null,maincontainer:null,middlecontainer:null,bottomleft:null,
bottomright:null,xtickmarks:null,title:null,left:null,alternating:null,yitems:null,xtitle:null,getContext:function(a){if(this.isY(a))return this.getYContext(this.getYIndex(a));if(this.isYTitle(a))return this.getYTitle(this.getYIndex(a));switch(a){case "title":if(null==this.title)this.title=new Wa(this.space.createPanelAt(this.titleOnTop?0:1,R.Fixed(0,0,0)),this.titleOnTop?la.Bottom:la.Top);return this.title;case "x":return this.getXTickmarks();case "xtitle":return this.getXTitle();default:return null}},
getPanel:function(a){switch(a){case "main":return this.getMain();case "xtickmarks":return this.getBottomContainer();case "left":return this.getLeftContainer();case "right":return this.getRightContainer();case "bottomleft":return this.bottomleft;case "bottomright":return this.bottomright;default:return a=this.getContext(a),null==a?null:a.panel}},getYItem:function(a){null==this.yitems[a]&&(this.yitems[a]={container:null,context:null,title:null,anchor:this.alternating&&0==a%2?la.Right:la.Left});return this.yitems[a]},
getYContainer:function(a){var b=this.getYItem(a);if(null==b.container)b.container=this.alternating&&0==a%2?this.getLeftContainer().createContainerAt(0,R.Fixed(0,0,0),ta.Horizontal):this.getRightContainer().createContainer(R.Fixed(0,0,0),ta.Horizontal),b.container.g.classed().add("group-"+a);return b.container},getYContext:function(a){var b=this.getYItem(a);if(null==b.context){switch(b.anchor[1]){case 2:a=this.getYContainer(a).createPanelAt(0,R.Fixed(0,0,0));break;case 3:a=this.getYContainer(a).createPanel(R.Fixed(0,
0,0));break;default:a=null}b.context=new Wa(a,b.anchor)}return b.context},getYTitle:function(a){var b=this.getYItem(a);if(null==b.title){switch(b.anchor[1]){case 2:a=this.getYContainer(a).createPanel(R.Fixed(0,0,0));break;case 3:a=this.getYContainer(a).createPanelAt(0,R.Fixed(0,0,0));break;default:a=null}b.title=new Wa(a,b.anchor)}return b.title},getYIndex:function(a){return Ja.REYINDEX.match(a)?i.parseInt(Ja.REYINDEX.matched(1)):-1},isY:function(a){return Ja.REYAXIS.match(a)},isYTitle:function(a){return Ja.REYTITLE.match(a)},
suggestSize:function(a,b){if(this.isY(a)||this.isYTitle(a)){var c=this.getYItem(this.getYIndex(a));if(null!=c.container){var d=0;null!=c.context&&(this.isY(a)&&this.suggestPanelSize(c.context.panel,b),d+=c.context.panel.frame.width);null!=c.title&&(this.isYTitle(a)&&this.suggestPanelSize(c.title.panel,b),d+=c.title.panel.frame.width);this.suggestPanelSize(c.container,Math.round(d));this.suggestLateralSize(c.anchor)}}else switch(Ba.prototype.suggestSize.call(this,a,b),a){case "x":case "xtitle":c=0,
d=this.getPanel("x"),null!=d&&(c+=d.frame.height),d=this.getPanel("xtitle"),null!=d&&(c+=d.frame.height),Ba.prototype.suggestSize.call(this,"xtickmarks",c)}},suggestLateralSize:function(a){for(var b=0,c=0,d=0,f=this.yitems;d<f.length;){var e=f[d];++d;c++;null!=e.container&&A.enumEq(e.anchor,a)&&(b+=e.container.frame.width)}switch(a[1]){case 3:this.suggestSize("left",b);this.suggestSize("bottomleft",b);break;case 2:this.suggestSize("right",b),this.suggestSize("bottomright",b)}},getXTitle:function(){if(null==
this.xtitle)this.xtitle=new Wa(this.getBottomMiddleContainer().createPanel(R.Fixed(0,0,0)),la.Top);return this.xtitle},getMainContainer:function(){if(null==this.maincontainer)this.maincontainer=this.space.createContainerAt(this.titleOnTop?1:0,R.Fill(0,0),ta.Vertical);return this.maincontainer},getMiddleContainer:function(){if(null==this.middlecontainer)this.middlecontainer=this.getMainContainer().createContainerAt(0,R.Fill(0,0),ta.Horizontal);return this.middlecontainer},getLeftContainer:function(){if(null==
this.leftcontainer)this.leftcontainer=this.getMiddleContainer().createContainerAt(0,R.Fixed(0,0,0),ta.Horizontal);return this.leftcontainer},getRightContainer:function(){if(null==this.rightcontainer)this.rightcontainer=this.getMiddleContainer().createContainerAt(2,R.Fixed(0,0,0),ta.Horizontal);return this.rightcontainer},getBottomContainer:function(){if(null==this.bottomcontainer)this.bottomcontainer=this.getMainContainer().createContainerAt(1,R.Fixed(0,0,0),ta.Horizontal);return this.bottomcontainer},
getBottomMiddleContainer:function(){if(null==this.bottommiddlecontainer){var a=this.getBottomContainer();this.bottomleft=a.createPanel(R.Fixed(0,0,0));this.bottommiddlecontainer=a.createContainer(R.Fill(0,0),ta.Vertical);this.bottommiddlecontainer.g.classed().add("axis-x");this.bottomright=a.createPanel(R.Fixed(0,0,0))}return this.bottommiddlecontainer},getXTickmarks:function(){if(null==this.xtickmarks){var a=this.getBottomMiddleContainer();this.xtickmarks=new Wa(a.createPanelAt(0,R.Fixed(0,0,0)),
la.Top)}return this.xtickmarks},getMain:function(){if(null==this.main)this.main=this.getMiddleContainer().createPanelAt(1,R.Fill(0,0));return this.main},feedOptions:function(a){Ba.prototype.feedOptions.call(this,a);this.titleOnTop=a.titleOnTop;switch(a.scalePattern[1]){case 0:this.left=!0;this.alternating=!1;break;case 1:this.alternating=this.left=!1;break;case 2:this.alternating=this.left=!0}},adjustPadding:function(){var a=null==this.title&&null==this.paddings.top?8:this.paddings.top,b=(null==this.xtickmarks||
!this.titleOnTop&&null==this.title)&&null==this.paddings.bottom?8:this.paddings.bottom,c=null==this.leftcontainer&&null==this.paddings.left?20:this.paddings.left,d=null==this.rightcontainer&&null==this.paddings.right?20:this.paddings.right;if(null!=c||null!=d)this.suggestPanelPadding(this.getMain(),c,d),this.suggestPanelPadding(this.bottommiddlecontainer,c,d);(null!=a||null!=b)&&this.suggestPanelPadding(this.middlecontainer,a,b)},__class__:Ja});xc=function(a,b,c){Ba.call(this,a,b,c);this.titleOnTop=
!0};xc.__name__=["rg","layout","LayoutSimple"];xc.__super__=Ba;xc.prototype=w(Ba.prototype,{main:null,titleOnTop:null,getContext:function(a){switch(a){case "title":return null!=this.title?null:this.getTitle();default:return null}},getPanel:function(a){switch(a){case "main":if(null==this.main)this.main=this.space.createPanelAt(this.titleOnTop?1:0,R.Fill(0,0));return this.main;case "title":return this.getTitle().panel;default:return null}},title:null,getTitle:function(){if(null==this.title)this.title=
new Wa(this.space.createPanelAt(this.titleOnTop?0:1,R.Fixed(0,0,20)),this.titleOnTop?la.Bottom:la.Top);return this.title},feedOptions:function(a){Ba.prototype.feedOptions.call(this,a);this.titleOnTop=a.titleOnTop},__class__:xc});ub=function(a,b,c){Ba.call(this,a,b,c);this.titleOnTop=!0};ub.__name__=["rg","layout","LayoutX"];ub.__super__=Ba;ub.prototype=w(Ba.prototype,{main:null,titleOnTop:null,bottomcontainer:null,bottommiddlecontainer:null,maincontainer:null,middlecontainer:null,xtickmarks:null,
title:null,xtitle:null,getContext:function(a){switch(a){case "title":if(null==this.title)this.title=new Wa(this.space.createPanelAt(this.titleOnTop?0:1,R.Fixed(0,0,0)),this.titleOnTop?la.Bottom:la.Top);return this.title;case "x":return this.getXTickmarks();case "xtitle":return this.getXTitle();default:return null}},getPanel:function(a){switch(a){case "main":return this.getMain();case "xtickmarks":return this.getBottomContainer();default:return a=this.getContext(a),null==a?null:a.panel}},suggestSize:function(a,
b){Ba.prototype.suggestSize.call(this,a,b);switch(a){case "x":case "xtitle":var c=0,d=this.getPanel("x");null!=d&&(c+=d.frame.height);d=this.getPanel("xtitle");null!=d&&(c+=d.frame.height);Ba.prototype.suggestSize.call(this,"xtickmarks",c)}},getXTitle:function(){if(null==this.xtitle)this.xtitle=new Wa(this.getBottomMiddleContainer().createPanel(R.Fixed(0,0,0)),la.Top);return this.xtitle},getMainContainer:function(){if(null==this.maincontainer)this.maincontainer=this.space.createContainerAt(this.titleOnTop?
1:0,R.Fill(0,0),ta.Vertical);return this.maincontainer},getMiddleContainer:function(){if(null==this.middlecontainer)this.middlecontainer=this.getMainContainer().createContainerAt(0,R.Fill(0,0),ta.Horizontal);return this.middlecontainer},getBottomContainer:function(){if(null==this.bottomcontainer)this.bottomcontainer=this.getMainContainer().createContainerAt(1,R.Fixed(0,0,0),ta.Horizontal);return this.bottomcontainer},getBottomMiddleContainer:function(){if(null==this.bottommiddlecontainer)this.bottommiddlecontainer=
this.getBottomContainer().createContainer(R.Fill(0,0),ta.Vertical),this.bottommiddlecontainer.g.classed().add("axis-x");return this.bottommiddlecontainer},getXTickmarks:function(){if(null==this.xtickmarks){var a=this.getBottomMiddleContainer();this.xtickmarks=new Wa(a.createPanelAt(0,R.Fixed(0,0,0)),la.Top)}return this.xtickmarks},getMain:function(){if(null==this.main)this.main=this.getMiddleContainer().createPanelAt(1,R.Fill(0,0));return this.main},feedOptions:function(a){Ba.prototype.feedOptions.call(this,
a);this.titleOnTop=a.titleOnTop},adjustPadding:function(){var a=null==this.title&&null==this.paddings.top?8:this.paddings.top,b=(null==this.xtickmarks||!this.titleOnTop&&null==this.title)&&null==this.paddings.bottom?8:this.paddings.bottom,c=null==this.paddings.left?20:this.paddings.left,d=null==this.paddings.right?20:this.paddings.right;if(null!=c||null!=d)this.suggestPanelPadding(this.getMain(),c,d),this.suggestPanelPadding(this.bottommiddlecontainer,c,d);(null!=a||null!=b)&&this.suggestPanelPadding(this.middlecontainer,
a,b)},__class__:ub});Wa=function(a,b){this.panel=a;this.anchor=b};Wa.__name__=["rg","layout","PanelContext"];Wa.prototype={panel:null,anchor:null,__class__:Wa};Na={__ename__:["rg","layout","ScalePattern"],__constructs__:["ScalesBefore","ScalesAfter","ScalesAlternating"],ScalesBefore:["ScalesBefore",0]};Na.ScalesBefore.toString=v;Na.ScalesBefore.__enum__=Na;Na.ScalesAfter=["ScalesAfter",1];Na.ScalesAfter.toString=v;Na.ScalesAfter.__enum__=Na;Na.ScalesAlternating=["ScalesAlternating",2];Na.ScalesAlternating.toString=
v;Na.ScalesAlternating.__enum__=Na;Fa=function(a,b){this._async=a;this._first=b;this._store=new ba};gb=void 0;Z=void 0;Fa.__name__=["rg","query","BaseQuery"];Fa.asyncTransform=function(a){return function(b,c){for(var d=0,f=b.length;d<f;){var e=d++;b[e]=a(b[e])}c(b)}};Fa.stackAsyncTransform=function(a){return function(b,c){c(a(b))}};Fa.prototype={_first:null,_next:null,_async:null,_store:null,load:function(a){return this.stackAsync(function(b,c){a(function(a){b.push(a);c(b)})})},data:function(a){i.is(a,
Array)||(a=[a]);return this.stackAsync(function(b,c){b.push(a);c(b)})},map:function(a){return this.transform(Z.map(a))},audit:function(a){return this.transform(function(b){a(b);return b})},console:function(a){return this.stackTransform(function(b){var c=console;null!=c&&c.log((null==a?"":a+": ")+S.string(b));return b})},renameFields:function(a){var b=j.fields(a).map(function(b){return{src:b,dst:j.field(a,b)}});return this.map(function(a){for(var d={},f=0;f<b.length;){var e=b[f];++f;d[e.dst]=j.field(a,
e.src)}return d})},toObject:function(a){return this.transform(Z.toObject(a))},transform:function(a){return this.stackAsync(Fa.asyncTransform(a))},stackCross:function(){return this.stackTransform(Z.crossStack)},stackTransform:function(a){return this.stackAsync(Fa.stackAsyncTransform(a))},stackAsync:function(a){return this._next=a=this._createQuery(a,this._first)},asyncAll:function(a){return this.stackAsync(function(b,c){for(var d=b.length,f=0,e=[],h=function(a,b){e[a]=b;++f==d&&c(e)},k=0,t=b.length;k<
t;){var l=k++;a(b[l],function(a,b){return function(c){return a(b,c)}}(h,l))}})},asyncEach:function(a){return this.asyncAll(function(b,c){for(var d=b.length,f=0,e=[],h=function(a,b){e[a]=b;++f==d&&c(y.flatten(e))},k=0,t=b.length;k<t;){var l=k++;a(b[l],function(a,b){return function(c){return a(b,c)}}(h,l))}})},setValue:function(a,b){return this.transform(Z.setField(a,b))},setValues:function(a){return this.transform(Z.setFields(a))},mapValue:function(a,b){return this.transform(Z.mapField(a,b))},mapValues:function(a){return this.transform(Z.mapFields(a))},
addIndex:function(a,b){null==a&&(a="index");null==b&&(b=0);return this.fold(function(){return b},function(b,d,f){d[a]=b;f.push(d);return++b})},filter:function(a){return this.transform(Z.filter(a))},filterValues:function(a){return this.transform(Z.filterValues(a))},filterValue:function(a,b){return this.transform(Z.filterValue(a,b))},sort:function(a){return this.transform(Z.sort(a))},sortValue:function(a,b){var c={};c[a]=null==b?!0:b;return this.sortValues(c)},sortValues:function(a){for(var b=[],c=
[],d=0,f=j.fields(a);d<f.length;){var e=f[d];++d;b.push(e);c.push(!1!=j.field(a,e))}return this.sort(function(a,d){for(var f,e=0,g=b.length;e<g;){var i=e++;f=b[i];f=(c[i]?1:-1)*S.compare(j.field(a,f),j.field(d,f));if(0!=f)return f}return 0})},limit:function(a,b){null==b&&(b=a,a=0);return this.transform(Z.limit(a,b))},reverse:function(){return this.transform(Z.reverse)},unique:function(a){if(null==a)a=S.same;return this.transform(Z.uniquef(a))},fold:function(a,b){return this.transform(function(c){var d=
[],f=j.isFunction(a)?a(c,d):a;c.forEach(function(a){f=b(f,a,d)});return d})},stackMerge:function(){return this.stackAsync(Fa.stackAsyncTransform(function(a){return[y.flatten(a)]}))},stackDiscard:function(a){null==a&&(a=1);return this.stackAsync(Fa.stackAsyncTransform(function(b){for(var c=0;c<a;)c++,b.pop();return b}))},stackKeep:function(a){null==a&&(a=1);return this.stackAsync(Fa.stackAsyncTransform(function(b){return b.slice(0,a)}))},split:function(a){if(i.is(a,String))var b=a,a=function(a){return j.field(a,
b)};return this.stackAsync(Fa.stackAsyncTransform(function(b){for(var d=[],f=0;f<b.length;){var e=b[f];++f;d=d.concat(Z.split(e,a))}return d}))},stackRotate:function(a){var b=Z.rotate(a);return this.stackAsync(Fa.stackAsyncTransform(function(a){return b(a)}))},stackReverse:function(){return this.stackAsync(Fa.stackAsyncTransform(function(a){a.reverse();return a}))},stackStore:function(a){var b=this;null==a&&(a="");return this.stackTransform(function(c){b._first._store.set(a,c.copy());return c})},
stackSort:function(a){return this.stackTransform(function(b){b.sort(a);return b})},stackSortValue:function(a,b){null==b&&(b=!0);var c=function(b){return b.reduce(function(b,c){return b+j.field(c,a)},0)};return this.stackSort(function(a,f){return(b?1:-1)*(c(a)-c(f))})},stackRetrieve:function(a){var b=this;null==a&&(a="");return this.stackTransform(function(c){return c.concat(b._first._store.get(a))})},stackClear:function(){return this.stackTransform(function(){return[]})},execute:function(a){this._first.execute(a)},
_query:function(a){return a},_createQuery:function(a,b){return new Fa(a,b)},toString:function(){return A.getClassName(A.getClass(this)).split(".").pop()+(" [next: "+(null!=this._next)+", async: "+(null!=this._async)+"]")},_this:function(a){return a},__class__:Fa};gb=function(){Fa.call(this,null,this)};gb.__name__=["rg","query","Query"];gb.create=function(){var a=new gb,b=a._createQuery(function(a,b){b(a)},a);return a._next=b};gb.executeHandler=function(a,b){var c=a._next;(function(){var a=null;return a=
function(f){null==c._next?b(y.flatten(f)):(c=c._next,c._async(f,a))}})(this)([])};gb.__super__=Fa;gb.prototype=w(Fa.prototype,{execute:function(a){gb.executeHandler(this,a)},__class__:gb});Z=function(){};Z.__name__=["rg","query","Transformers"];Z.crossStack=function(a){if(1>=a.length)return a;for(var b=a.shift();0<a.length;){for(var c=a.shift(),d=[],f=0;f<b.length;){var e=b[f];++f;for(var h=0;h<c.length;){var k=c[h];++h;d.push(ma.copyTo(k,ma.copyTo(e,{})))}}b=d}return[b]};Z.split=function(a,b){var c=
new ba,d=[];a.forEach(function(a){var e=""+b(a),h=c.get(e);if(null==h)h=d.length,c.set(e,h),d.push([]);d[h].push(a)});return d};Z.map=function(a){return function(b){return b.map(a)}};Z.toObject=function(a){return function(b){return b.map(function(b){var d={};d[a]=b;return d})}};Z.filter=function(a){return function(b){return y.filter(b,a)}};Z.filterValues=function(a){var b=ma.entries(a);b.forEach(function(a){if(!j.isFunction(a.value)){var b=a.value;a.value=function(a){return a==b}}});var c=function(a){for(var c=
0;c<b.length;){var e=b[c];++c;if(!e.value(j.field(a,e.key)))return!1}return!0};return function(a){return y.filter(a,c)}};Z.filterValue=function(a,b){if(!j.isFunction(b))var c=b,b=function(a){return a==c};var d=function(c){return!b(j.field(c,a))?!1:!0};return function(a){return y.filter(a,d)}};Z.setField=function(a,b){if(!j.isFunction(b))var c=b,b=function(){return c};return function(c){c.forEach(function(c){c[a]=b(c)});return c}};Z.mapField=function(a,b){if(!j.isFunction(b))var c=b,b=function(){return c};
return function(c){c.forEach(function(c){c[a]=b(j.field(c,a))});return c}};Z.setFields=function(a){for(var b=j.fields(a),c=[],d=0;d<b.length;){var f=b[d];++d;f=j.field(a,f);j.isFunction(f)?c.push(f):c.push(function(a,b){return function(c){return a(b,c)}}(function(a){return a},f))}return function(a){a.forEach(function(a){for(var d=0,f=b.length;d<f;){var e=d++;a[b[e]]=c[e](a)}});return a}};Z.mapFields=function(a){for(var b=j.fields(a),c=[],d=0;d<b.length;){var f=b[d];++d;f=j.field(a,f);j.isFunction(f)?
c.push(f):c.push(function(a,b){return function(c){return a(b,c)}}(function(a){return a},f))}return function(a){a.forEach(function(a){for(var d=0,f=b.length;d<f;){var e=d++;a[b[e]]=c[e](j.field(a,b[e]))}});return a}};Z.sort=function(a){return function(b){b.sort(null==a?S.compare:a);return b}};Z.limit=function(a,b){return function(c){return a>=c.length?[]:c.slice(a,a+b>c.length?c.length:a+b)}};Z.reverse=function(a){a.reverse();return a};Z.uniquef=function(a){return function(b){for(var c=0,d;c<b.length-
1;){var f=b[c];for(d=b.length-1;d>c;)a(f,b[d])&&b.splice(d,1),d--;c++}return b}};Z.rotate=function(a){if(i.is(a,String))var b=a,a=function(a,c){return j.field(a,b)==j.field(c,b)};var c=null==a?function(a,b,c,e){return c==e}:function(b,c){return a(b,c)};return function(a){for(var b=[],e=a[0],h=0,k=e.length;h<k;){for(var t=h++,l=e[t],u=[l],i=1,j=a.length;i<j;)for(var m=i++,m=a[m],o=0,n=m.length;o<n;){var p=o++,q=m[p];if(c(l,q,t,p)){u.push(q);break}}b.push(u)}return b}};Z.prototype={__class__:Z};L={};
ha=void 0;o=void 0;m=void 0;wa=void 0;L.Layer=function(a){this.frame=(this.panel=a).frame;a.addLayer(this);this.g=a.g.append("svg:g");this.g.attr("class").string("layer");this._resize()};L.Layer.__name__=["rg","svg","panel","Layer"];L.Layer.prototype={panel:null,frame:null,g:null,width:null,height:null,customClass:null,addClass:function(a){var b=this;a.split(" ").forEach(function(a){b.g.classed().add(a)})},_resize:function(){this.width=this.frame.width;this.height=this.frame.height;this.resize()},
resize:function(){},destroy:function(){this.panel.removeLayer(this);this.g.remove()},setCustomClass:function(a){null!=this.customClass&&this.g.classed().remove(this.customClass);this.g.classed().add(a);return this.customClass=a},__class__:L.Layer,__properties__:{set_customClass:"setCustomClass"}};o={Chart:function(a){L.Layer.call(this,a);this.animated=!0;this.animationDuration=1500;this.animationEase=B.Equations.linear;this.ready=new Rb}};o.Chart.__name__=["rg","svg","chart","Chart"];o.Chart.__super__=
L.Layer;o.Chart.prototype=w(L.Layer.prototype,{animated:null,animationDuration:null,animationEase:null,click:null,labelDataPoint:null,labelDataPointOver:null,ready:null,panelx:null,panely:null,tooltip:null,resize:function(){var a=L.Panels.absolutePos(this.panel);this.panelx=a.x;this.panely=a.y},init:function(){if(null!=this.labelDataPointOver)this.tooltip=z.Tooltip.getInstance();this.resize()},moveTooltip:function(a,b,c){var d=L.Panels.absolutePos(this.panel);this.panelx=d.x;this.panely=d.y;this.tooltip.setAnchorColor(c);
this.tooltip.showAt(this.panelx+a|0,this.panely+b|0)},__class__:o.Chart});o.CartesianChart=function(a){o.Chart.call(this,a)};o.CartesianChart.__name__=["rg","svg","chart","CartesianChart"];o.CartesianChart.__super__=o.Chart;o.CartesianChart.prototype=w(o.Chart.prototype,{yVariables:null,xVariable:null,setVariables:function(a){this.xVariable=a[0];this.yVariables=a.slice(1)},data:function(){throw new x.AbstractMethod({fileName:"CartesianChart.hx",lineNumber:37,className:"rg.svg.chart.CartesianChart",
methodName:"data"});},__class__:o.CartesianChart});o.BarChart=function(a){o.CartesianChart.call(this,a);this.addClass("bar-chart");this.defs=this.g.append("svg:defs");this.chart=this.g.append("svg:g");this.gradientLightness=2;this.displayGradient=!0;this.padding=10;this.paddingAxis=4;this.paddingDataPoint=2;this.horizontal=!1};o.BarChart.__name__=["rg","svg","chart","BarChart"];o.BarChart.__super__=o.CartesianChart;o.BarChart.prototype=w(o.CartesianChart.prototype,{stacked:null,chart:null,defs:null,
gradientLightness:null,displayGradient:null,padding:null,paddingAxis:null,paddingDataPoint:null,horizontal:null,setVariables:function(a,b,c,d){this.horizontal?(this.xVariable=c[0],this.yVariables=b):(this.xVariable=b[0],this.yVariables=c);if(this.stacked){for(a=0;a<c.length;)b=c[a],++a,b.meta.max=Math.NEGATIVE_INFINITY;for(var f=0,a=d.length;f<a;)for(var e=f++,h=0,k=d[e].length;h<k;){for(var t=h++,b=c[t],l=0,u=0,i=d[e][t].length;u<i;)var j=u++,l=l+pa.valueAlt(d[e][t][j],b.type,0);if(b.meta.max<l)b.meta.max=
l}}},data:function(a){this.horizontal?this.datah(a):this.datav(a)},datah:function(a){for(var b=new ba,c=(this.height-this.padding*(a.length-1))/a.length,d=function(a,c){var d=b.get(a);null==d&&(d=c.append("svg:g").attr("class").string(a),b.set(a,d));return d},f=0,e=a.length;f<e;)for(var h=f++,h=a[h],k=(c-this.paddingAxis*(h.length-1))/h.length,t=0,l=h.length;t<l;)for(var u=t++,i=h[u],m=d("group-"+u,this.chart),o=this.xVariable.type,n=this.xVariable.axis,p=this.xVariable.min(),q=this.xVariable.max(),
r=this.yVariables[u].type,s=this.yVariables[u].axis,v=this.yVariables[u].min(),w=this.yVariables[u].max(),z=Math.max(1,(k-this.paddingDataPoint*(i.length-1))/i.length),u=-c/2+u*(k+this.paddingAxis),x=this.xVariable.stats,y=function(a,b){return function(c,d){return a(b,c,d)}}(this.onmouseover.$bind(this),x),x=function(a,b){return function(c,d,f){return a(b,c,d,f)}}(this.onclick.$bind(this),x),A=0,B=0,D=i.length;B<D;){var C=B++,E=i[C],F=d("fill-"+C,m),G=A,H=this.height*s.scale(v,w,j.field(E,r)),I=n.scale(p,
q,j.field(E,o))*this.width,C=F.append("svg:rect").attr("class").string("bar").attr("x")["float"](G).attr("y")["float"](this.height-(this.stacked?H-u:H-u-C*(z+this.paddingDataPoint))).attr("height")["float"](this.stacked?k:z).attr("width")["float"](I).onNode("mouseover",y).onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(x,E));C.node().__dhx_data__=E;J.storeColorForSelection(C);this.displayGradient&&C.eachNode(this.applyGradient.$bind(this));this.stacked&&(A=G+I)}this.ready.dispatch()},
datav:function(a){for(var b=new ba,c=(this.width-this.padding*(a.length-1))/a.length,d=function(a,c){var d=b.get(a);null==d&&(d=c.append("svg:g").attr("class").string(a),b.set(a,d));return d},f=0,e=a.length;f<e;)for(var h=f++,h=a[h],k=(c-this.paddingAxis*(h.length-1))/h.length,t=0,l=h.length;t<l;)for(var u=t++,i=h[u],m=d("group-"+u,this.chart),o=this.xVariable.type,n=this.xVariable.axis,p=this.xVariable.min(),q=this.xVariable.max(),r=this.yVariables[u].type,s=this.yVariables[u].axis,v=this.yVariables[u].min(),
w=this.yVariables[u].max(),x=Math.max(1,(k-this.paddingDataPoint*(i.length-1))/i.length),z=-c/2+u*(k+this.paddingAxis),y=this.yVariables[u].stats,u=function(a,b){return function(c,d){return a(b,c,d)}}(this.onmouseover.$bind(this),y),y=function(a,b){return function(c,d,f){return a(b,c,d,f)}}(this.onclick.$bind(this),y),A=0,B=0,D=i.length;B<D;){var C=B++,E=i[C],F=d("fill-"+C,m),G=this.width*n.scale(p,q,j.field(E,o)),H=A,I=s.scale(v,w,j.field(E,r))*this.height;Math.isNaN(I)&&(I=0);C=F.append("svg:rect").attr("class").string("bar").attr("x")["float"](this.stacked?
G+z:G+z+C*(x+this.paddingDataPoint)).attr("width")["float"](this.stacked?k:x).attr("y")["float"](this.height-I-H).attr("height")["float"](I).onNode("mouseover",u).onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(y,E));C.node().__dhx_data__=E;J.storeColorForSelection(C);this.displayGradient&&C.eachNode(this.applyGradient.$bind(this));this.stacked&&(A=H+I)}this.ready.dispatch()},onclick:function(a,b){this.click(b,a)},onmouseover:function(a,b){var c=this.labelDataPointOver(j.field(b,
"__dhx_data__"),a);if(null==c)this.tooltip.hide();else{var d=G.selectNode(b),f=d.attr("x").getFloat(),e=d.attr("y").getFloat(),d=d.attr("width").getFloat();this.tooltip.html(c.split("\n").join("<br>"));this.moveTooltip(f+d/2,e,J.extractColor(b))}},applyGradient:function(a){var b=G.selectNodeData(a);j.field(a,"__dhx_data__");var a=b.style("fill").get(),a=J.parse(a,"#ccc"),c="rg_bar_gradient_"+a.hex("");if(this.defs.select("#"+c).empty()){var d=J.applyLightness(e.Hsl.toHsl(a),this.gradientLightness).toRgbString(),
f=this.defs.append("svg:linearGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string(c).attr("x1")["float"](0).attr("x2")["float"](0).attr("y1")["float"](1).attr("y2")["float"](0).attr("spreadMethod").string("pad");f.append("svg:stop").attr("offset")["float"](0).attr("stop-color").string(d).attr("stop-opacity")["float"](1);f.append("svg:stop").attr("offset")["float"](1).attr("stop-color").string(a.toRgbString()).attr("stop-opacity")["float"](1)}b.attr("style").string("fill:url(#"+
c+")")},__class__:o.BarChart});o.ColorScaleMode={__ename__:["rg","svg","chart","ColorScaleMode"],__constructs__:"FromCssInterpolation,FromCss,Interpolation,Sequence,Fixed,Fun".split(",")};o.ColorScaleMode.FromCssInterpolation=function(a){a=["FromCssInterpolation",0,a];a.__enum__=o.ColorScaleMode;a.toString=v;return a};o.ColorScaleMode.FromCss=function(a){a=["FromCss",1,a];a.__enum__=o.ColorScaleMode;a.toString=v;return a};o.ColorScaleMode.Interpolation=function(a){a=["Interpolation",2,a];a.__enum__=
o.ColorScaleMode;a.toString=v;return a};o.ColorScaleMode.Sequence=function(a){a=["Sequence",3,a];a.__enum__=o.ColorScaleMode;a.toString=v;return a};o.ColorScaleMode.Fixed=function(a){a=["Fixed",4,a];a.__enum__=o.ColorScaleMode;a.toString=v;return a};o.ColorScaleMode.Fun=function(a){a=["Fun",5,a];a.__enum__=o.ColorScaleMode;a.toString=v;return a};o.ColorScaleModes=function(){};o.ColorScaleModes.__name__=["rg","svg","chart","ColorScaleModes"];o.ColorScaleModes.createFromDynamic=function(a){if(j.isFunction(a))return o.ColorScaleMode.Fun(a);
if(!i.is(a,String))throw new x.Error("invalid color mode '{0}'",[a],null,{fileName:"ColorScaleModes.hx",lineNumber:19,className:"rg.svg.chart.ColorScaleModes",methodName:"createFromDynamic"});if(!i.is(a,String))throw"Class cast error";a=a.split(":");switch(a[0].toLowerCase()){case "css":return o.ColorScaleMode.FromCss(null==a[1]?null:i.parseInt(a[1]));case "i":case "interpolated":return o.ColorScaleMode.Interpolation(a[1].split(",").map(function(a){return e.Colors.parse(a)}));case "s":case "sequence":return o.ColorScaleMode.Sequence(a[1].split(",").map(function(a){return e.Colors.parse(a)}));
case "f":case "fixed":return o.ColorScaleMode.Fixed(e.Colors.parse(a[1]));default:return 0<=a[0].indexOf(",")?o.ColorScaleMode.Sequence(a[0].split(",").map(function(a){return e.Colors.parse(a)})):o.ColorScaleMode.Fixed(e.Colors.parse(a[0]))}};o.ColorScaleModes.prototype={__class__:o.ColorScaleModes};o.Coords=function(){};o.Coords.__name__=["rg","svg","chart","Coords"];o.Coords.fromTransform=function(a){return o.Coords.retransform.match(a)?(a=o.Coords.retransform.matched(2),[i.parseFloat(o.Coords.retransform.matched(1)),
null==a?0:i.parseFloat(a)]):[0,0]};o.Coords.prototype={__class__:o.Coords};o.FunnelChart=function(a){o.Chart.call(this,a);this.padding=2.5;this.flatness=1;this.arrowSize=30;this.gradientLightness=1;this.displayGradient=!0;this.labelArrow=this.defaultLabelArrow.$bind(this);this.labelDataPoint=this.defaultLabelDataPoint.$bind(this);this.labelDataPointOver=this.defaultLabelDataPointOver.$bind(this)};o.FunnelChart.__name__=["rg","svg","chart","FunnelChart"];o.FunnelChart.__super__=o.Chart;o.FunnelChart.prototype=
w(o.Chart.prototype,{padding:null,flatness:null,displayGradient:null,gradientLightness:null,arrowSize:null,labelArrow:null,variableIndependent:null,variableDependent:null,defs:null,dps:null,defaultLabelArrow:function(a,b){var c=j.field(a,this.variableDependent.type)/b.max;return n.FormatNumber.percent(100*c,0)},defaultLabelDataPoint:function(a){return ga.humanize(j.field(a,this.variableIndependent.type)).split(" ").join("\n")},defaultLabelDataPointOver:function(a){return I.format(j.field(a,this.variableDependent.type))},
setVariables:function(a,b){this.variableIndependent=a[0];this.variableDependent=b[0]},data:function(a){this.dps=a;this.redraw()},resize:function(){o.Chart.prototype.resize.call(this);this.redraw()},dpvalue:function(a){return j.field(a,this.variableDependent.type)},stats:null,topheight:null,h:null,currentNode:null,scale:function(a){return this.variableDependent.axis.scale(this.variableDependent.min(),this.variableDependent.max(),a)},next:function(a){return this.dpvalue(this.dps[a+1<this.dps.length?
a+1:a])},redraw:function(){var a=this;if(!(null==this.dps||0==this.dps.length)){this.g.selectAll("g").remove();this.g.selectAll("radialGradient").remove();this.stats=this.variableDependent.stats;var b=this.scale(this.stats.max),c=function(c){return a.width/2-a.scale(c)/b*(a.width-2)/2},d=function(b){return a.width-c(b)},f=(new p.Diagonal).sourcef(function(b){return[c(a.dpvalue(b)),0]}).targetf(function(b,d){return[c(a.next(d)),a.h]}),e=(new p.Diagonal).sourcef(function(b,c){return[d(a.next(c)),a.h]}).targetf(function(b){return[d(a.dpvalue(b)),
0]}),h=function(b,f,e){b=f?c(b)-d(b):d(b)-c(b);return" a 5 "+a.flatness+" 0 0 "+(f?0==e?1:0:e)+" "+b+" 0"},k=function(b){b=a.dpvalue(b);return" M "+c(b)+" 0 "+h(b,!1,0)+h(b,!0,1)},t=this.g.append("svg:g"),l=t.append("svg:path").attr("class").string("funnel-inside fill-0").attr("d").string(k(this.dps[0]));if(null!=this.click)t.onNode("click",function(){a.click(a.dps[0],a.stats)});this.displayGradient&&this.internalGradient(l);l.onNode("mouseover",function(b){a.currentNode=b;a.mouseOver(a.dps[0],0,
a.stats)});J.storeColorForSelection(l);this.topheight=Math.ceil(l.node().getBBox().height/2)+1;l=this.dps.length-1;k=this.g.append("svg:path").attr("class").string("funnel-inside fill-"+l).attr("d").string(k(this.dps[l]));l=Math.ceil(k.node().getBBox().height/2)+1;k.remove();this.h=(this.height-this.topheight-l-(this.dps.length-1)*this.padding)/this.dps.length;t.attr("transform").string("translate(0,"+(1+this.topheight)+")");t=this.g.selectAll("g.section").data(this.dps).enter().append("svg:g").attr("class").string("section").attr("transform").stringf(function(b,
c){return"translate(0,"+(a.topheight+c*(a.padding+a.h))+")"});k=t.append("svg:path").attr("class").stringf(function(a,b){return"funnel-outside fill-"+b}).attr("d").stringf(function(b,c){var d=e.diagonal(b,c).split("C");d.shift();d="C"+d.join("C");return f.diagonal(b,c)+h(a.next(c),!1,0)+d+h(a.dpvalue(b),!0,0)});if(null!=this.click)k.on("click",function(b){a.click(b,a.stats)});J.storeColorForSelection(k);k.onNode("mouseover",function(b,c){a.currentNode=b;a.mouseOver(j.field(b,"__dhx_data__"),c,a.stats)});
this.displayGradient&&t.eachNode(this.externalGradient.$bind(this));t=this.g.selectAll("g.arrow").data(this.dps).enter().append("svg:g").attr("class").string("arrow").attr("transform").stringf(function(b,c){return"translate("+a.width/2+","+(a.topheight+a.h*c+a.arrowSize/2)+")"});t.each(function(b){if(null!=a.labelArrow&&(b=a.labelArrow(b,a.stats),null!=b)){var c=G.selectNode(ea.current);c.append("svg:path").attr("transform").string("scale(1.1,0.85)translate(1,1)").attr("class").string("shadow").style("fill").string("#000").attr("opacity")["float"](0.25).attr("d").string(p.Symbol.arrowDownWide(a.arrowSize*
a.arrowSize));c.append("svg:path").attr("transform").string("scale(1.1,0.8)").attr("d").string(p.Symbol.arrowDownWide(a.arrowSize*a.arrowSize));c=new m.Label(c,!0,!1,!0);c.setAnchor(m.GridAnchor.Bottom);c.setText(b)}});t.each(function(b,c){if(null!=a.labelDataPoint){var d=a.labelDataPoint(b,a.stats);if(null!=d){var f=new m.Balloon(a.g);f.setBoundingBox({x:a.width/2+2*(a.arrowSize/3),y:0,width:a.width,height:a.height});f.setPreferredSide(3);f.setText(d.split("\n"));f.moveTo(a.width/2,a.topheight+0.6*
a.h+(a.h+a.padding)*c,!1)}}});this.ready.dispatch()}},mouseOver:function(a,b,c){null!=this.labelDataPointOver&&(a=this.labelDataPointOver(a,c),null==a?this.tooltip.hide():(this.tooltip.html(a.split("\n").join("<br>")),this.moveTooltip(this.width/2,this.topheight+0.6*this.h+(this.h+this.padding)*b,J.extractColor(this.currentNode))))},init:function(){o.Chart.prototype.init.call(this);null!=this.tooltip&&this.tooltip.anchor("bottomright");this.defs=this.g.classed().add("funnel-chart").append("svg:defs")},
internalGradient:function(a){var b=J.parse(a.style("fill").get(),"#cccccc"),c=this.defs.append("svg:radialGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string("rg_funnel_int_gradient_0").attr("cx").string("50%").attr("fx").string("75%").attr("cy").string("20%").attr("r").string(Math.round(75)+"%");c.append("svg:stop").attr("offset").string("0%").attr("stop-color").string(J.applyLightness(e.Hsl.toHsl(b),this.gradientLightness).toRgbString());c.append("svg:stop").attr("offset").string("100%").attr("stop-color").string(J.applyLightness(e.Hsl.toHsl(b),
-this.gradientLightness).toRgbString());a.attr("style").string("fill:url(#rg_funnel_int_gradient_0)")},externalGradient:function(a,b){var c=G.selectNode(a).select("path"),d=e.Hsl.toHsl(J.parse(c.style("fill").get(),"#cccccc")),f=this.next(b),g=this.dpvalue(this.dps[b]),h=Math.round(100*(f/g))/100,h="rg_funnel_ext_gradient_"+d.hex("#")+"-"+h,k=this.defs.append("svg:radialGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string(h).attr("cx").string("50%").attr("cy").string("0%").attr("r").string("110%"),
t=d.hex("#");k.append("svg:stop").attr("offset").string("10%").attr("stop-color").string(t);d=J.applyLightness(d,1-(g<f?g/f:f/g),this.gradientLightness*(g>=f?1:-1)).hex("#");k.append("svg:stop").attr("offset").string("50%").attr("stop-color").string(d);k.append("svg:stop").attr("offset").string("90%").attr("stop-color").string(t);c.attr("style").string("fill:url(#"+h+")")},__class__:o.FunnelChart});o.Geo=function(a){o.Chart.call(this,a);this.mapcontainer=this.g.append("svg:g").attr("class").string("mapcontainer");
this.queue=[];this.setColorMode(o.ColorScaleMode.FromCss());this.resize()};o.Geo.__name__=["rg","svg","chart","Geo"];o.Geo.__super__=o.Chart;o.Geo.prototype=w(o.Chart.prototype,{mapcontainer:null,colorMode:null,variableDependent:null,dps:null,queue:null,setVariables:function(a,b){this.variableDependent=b[0]},data:function(a){this.dps=a;this.redraw()},resize:function(){o.Chart.prototype.resize.call(this);null!=this.mapcontainer&&this.mapcontainer.attr("transform").string("translate("+this.width/2+
","+this.height/2+")")},drawmap:function(a,b){if(null==this.dps||0==this.dps.length)this.queue.push(function(a,b,c){return function(){return a(b,c)}}(this.drawmap.$bind(this),a,b));else{this.setColorMode(a.colorMode);for(var c=null,d=0,f=this.dps;d<f.length;){var e=f[d];++d;var h=j.field(e,b),h=a.map.get(h);if(null!=h){this.stylefeature(h.svg,ma.copyTo(e,h.dp));if(null!=a.radius&&"circle"==h.svg.node().nodeName)h.svg.attr("r")["float"](a.radius(h.dp,this.variableDependent.stats));if(null!=a.labelDataPoint&&
null!=(c=a.labelDataPoint(h.dp,this.variableDependent.stats)))e=j.field(h.dp,"#centroid"),h=new m.Label(this.mapcontainer,!0,!1,!1),h.setText(c),h.place(e[0],e[1],0)}}0==this.queue.length&&this.ready.dispatch()}},handlerDataPointOver:function(a,b,c){c=c(b,this.variableDependent.stats);null==c?this.tooltip.hide():(this.tooltip.html(c.split("\n").join("<br>")),b=j.field(b,"#centroid"),this.moveTooltip(b[0]+this.width/2,b[1]+this.height/2,J.extractColor(a)))},handlerClick:function(a,b){b(a,this.variableDependent.stats)},
stylefeature:function(){},redraw:function(){for(;0<this.queue.length;)this.queue.shift()()},getColorMode:function(){return this.colorMode},setColorMode:function(a){var b=this,c=this.colorMode=a;switch(c[1]){case 0:var d=c[2];null==d&&(d=1);var f=ha.RGCss.colorsInCss();f.length>d&&(f=f.slice(0,d));1==f.length&&f.push(e.Hsl.lighter(e.Hsl.toHsl(e.Colors.parse(f[0])),0.9).hex("#"));f.reverse();this.setColorMode(o.ColorScaleMode.Interpolation(f.map(function(a){return e.Colors.parse(a)})));break;case 1:d=
c[2];null==d&&(d=ha.RGCss.numberOfColorsInCss());this.stylefeature=function(a,c){var f=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),j.field(c,b.variableDependent.type)),f=Math.floor(d*f);a.attr("class").string("fill-"+f);J.storeColorForSelection(a)};break;case 3:c=c[2];f=c.map(function(a){return a.hex("#")});this.stylefeature=function(a,c){var d=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),j.field(c,b.variableDependent.type)),
d=Math.floor(f.length*d);a.style("fill").string(f[d]);J.storeColorForSelection(a)};break;case 2:var f=c[2],g=e.Rgb.interpolateStepsf(f);this.stylefeature=function(a,c){var d=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),j.field(c,b.variableDependent.type));a.style("fill").string(g(d).hex("#"));J.storeColorForSelection(a)};break;case 4:var c=c[2],h=c.hex("#");this.stylefeature=function(a){a.style("fill").string(h);J.storeColorForSelection(a)};break;case 5:var k=
c[2];this.stylefeature=function(a,c){a.style("fill").string(k(c,b.variableDependent.stats));J.storeColorForSelection(a)}}return a},init:function(){o.Chart.prototype.init.call(this);z.Tooltip.getInstance().hide();if(null==this.tooltip)this.tooltip=z.Tooltip.getInstance();this.g.classed().add("geo")},addMap:function(a,b){null!=b&&a.onReady.add(function(a,b,f){return function(){return a(b,f)}}(this.drawmap.$bind(this),a,b))},__class__:o.Geo,__properties__:w(o.Chart.prototype.__properties__,{set_colorMode:"setColorMode",
get_colorMode:"getColorMode"})});o.GradientEffect={__ename__:["rg","svg","chart","GradientEffect"],__constructs__:["NoEffect","Gradient"]};o.GradientEffect.NoEffect=["NoEffect",0];o.GradientEffect.NoEffect.toString=v;o.GradientEffect.NoEffect.__enum__=o.GradientEffect;o.GradientEffect.Gradient=function(a){a=["Gradient",1,a];a.__enum__=o.GradientEffect;a.toString=v;return a};o.GradientEffects=function(){};o.GradientEffects.__name__=["rg","svg","chart","GradientEffects"];o.GradientEffects.canParse=
function(a){if(!i.is(a,String))return!1;switch(a.toLowerCase().split(":")[0]){case "gradient":case "noeffect":case "none":case "flat":a=!0;break;default:a=!1}return a};o.GradientEffects.parse=function(a){var b=a.toLowerCase().split(":");switch(b.shift()){case "gradient":return a=0.75,b=b.pop(),null!=b&&(a=i.parseFloat(b.split(",").shift())),o.GradientEffect.Gradient(a);default:return o.GradientEffect.NoEffect}};o.GradientEffects.prototype={__class__:o.GradientEffects};o.HeatGrid=function(a){o.CartesianChart.call(this,
a);this.useContour=!1;this.setColorMode(o.ColorScaleMode.FromCss())};o.HeatGrid.__name__=["rg","svg","chart","HeatGrid"];o.HeatGrid.__super__=o.CartesianChart;o.HeatGrid.prototype=w(o.CartesianChart.prototype,{useContour:null,colorMode:null,dps:null,variableDependent:null,setVariables:function(a,b,c){this.xVariable=b[0];this.yVariables=[b[1]];this.variableDependent=c[0]},init:function(){o.CartesianChart.prototype.init.call(this);this.g.classed().add("heat-grid")},resize:function(){o.CartesianChart.prototype.resize.call(this);
this.redraw()},data:function(a){this.dps=a;this.redraw()},xrange:null,yrange:null,cols:null,rows:null,w:null,h:null,stats:null,x:function(a){return this.xrange.indexOf(j.field(a,this.xVariable.type))*this.w},y:function(a){return this.height-(1+this.yrange.indexOf(j.field(a,this.yVariables[0].type)))*this.h},redraw:function(){if(!(null==this.dps||0==this.dps.length))this.stats=this.variableDependent.stats,this.xrange=this.range(this.xVariable),this.yrange=this.range(this.yVariables[0]),this.cols=this.xrange.length,
this.rows=this.yrange.length,this.w=this.width/this.cols,this.h=this.height/this.rows,this.useContour?this.drawContour():this.drawSquares(),this.ready.dispatch()},drawContour:function(){},currentNode:null,drawSquares:function(){var a=this,b=this.g.selectAll("rect").data(this.dps).enter().append("svg:rect").attr("x").floatf(this.x.$bind(this)).attr("y").floatf(this.y.$bind(this)).attr("width")["float"](this.w).attr("height")["float"](this.h).each(function(b){a.stylefeature(G.selectNode(ea.current),
b)}).on("click",this.onclick.$bind(this)).onNode("mouseover",function(b,d){a.currentNode=b;a.onmouseover(j.field(b,"__dhx_data__"),d)});J.storeColorForSelection(b)},onmouseover:function(a,b){if(null!=this.labelDataPointOver){var c=this.labelDataPointOver(a,this.stats);null==c?this.tooltip.hide():(this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(this.x(a,b)+this.w/2,this.y(a,b)+this.h/2,J.extractColor(this.currentNode)))}},onclick:function(a){null!=this.click&&this.click(a,this.stats)},
range:function(a){var b=i.is(a,Vb)?a:null;return null!=b?b.axis.range(b.min(),b.max()):a.axis.ticks(a.min(),a.max()).map(function(a){return a.getValue()})},stylefeature:function(){},getColorMode:function(){return this.colorMode},setColorMode:function(a){var b=this,c=this.colorMode=a;switch(c[1]){case 0:var d=c[2];null==d&&(d=1);var f=ha.RGCss.colorsInCss();f.length>d&&(f=f.slice(0,d));1==f.length&&f.push(e.Hsl.lighter(e.Hsl.toHsl(e.Colors.parse(f[0])),0.9).hex("#"));f.reverse();this.setColorMode(o.ColorScaleMode.Interpolation(f.map(function(a){return e.Colors.parse(a)})));
break;case 1:d=c[2];null==d&&(d=ha.RGCss.numberOfColorsInCss());this.stylefeature=function(a,c){var f=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),j.field(c,b.variableDependent.type)),f=Math.floor(d*f);a.attr("class").string("fill-"+f)};break;case 3:c=c[2];f=c.map(function(a){return a.hex("#")});this.stylefeature=function(a,c){var d=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),j.field(c,b.variableDependent.type)),d=Math.floor(f.length*
d);a.style("fill").string(f[d])};break;case 2:var f=c[2],g=e.Rgb.interpolateStepsf(f);this.stylefeature=function(a,c){var d=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),j.field(c,b.variableDependent.type));a.style("fill").string(g(d).hex("#"))};break;case 4:var c=c[2],h=c.hex("#");this.stylefeature=function(a){a.style("fill").string(h)};break;case 5:var k=c[2];this.stylefeature=function(a,c){a.style("fill").string(k(c,b.variableDependent.stats))}}return a},__class__:o.HeatGrid,
__properties__:w(o.CartesianChart.prototype.__properties__,{set_colorMode:"setColorMode",get_colorMode:"getColorMode"})});o.LineChart=function(a){o.CartesianChart.call(this,a);this.addClass("line-chart");this.chart=this.g.append("svg:g");this.sensibleRadius=100};o.LineChart.__name__=["rg","svg","chart","LineChart"];o.LineChart.__super__=o.CartesianChart;o.LineChart.prototype=w(o.CartesianChart.prototype,{symbol:null,symbolStyle:null,lineInterpolator:null,lineEffect:null,y0property:null,sensibleRadius:null,
linePathShape:null,chart:null,segment:null,stats:null,setVariables:function(a,b,c,d){o.CartesianChart.prototype.setVariables.call(this,a,b,c,d);if(null!=this.y0property&&""!=this.y0property){for(var f,a=0;a<c.length;)b=c[a],++a,b.meta.max=Math.NEGATIVE_INFINITY;for(var e=0,a=d.length;e<a;)for(var h=e++,b=c[h],k=0,t=d[h].length;k<t;)for(var l=k++,u=0,i=d[h][l].length;u<i;)if(f=u++,f=d[h][l][f],f=pa.valueAlt(f,b.type,0)+pa.valueAlt(f,this.y0property,0),b.meta.max<f)b.meta.max=f}},x:function(a){a=j.field(a,
this.xVariable.type);return this.xVariable.axis.scale(this.xVariable.min(),this.xVariable.max(),a)*this.width},getY1:function(a){var b=this,c=this.yVariables[a],d=function(a,b,c){return function(d){return a(b,c,d)}}((ia=c.axis,ia.scale.$bind(ia)),c.min(),c.max());if(null!=this.y0property){var f=d(c.min())*this.height;return function(e,h){return b.getY0(a)(e,h)-d(j.field(e,c.type))*b.height+f}}return function(a){a=j.field(a,c.type);a=d(a)*b.height;return b.height-a}},getY0:function(a){var b=this,c=
this.yVariables[a],d=function(a,b,c){return function(d){return a(b,c,d)}}((ia=c.axis,ia.scale.$bind(ia)),c.min(),c.max());return function(a){return b.height-d(pa.valueAlt(a,b.y0property,c.min()))*b.height}},segments:null,classsf:function(a,b){return function(c,d){return b+" stroke-"+(a+d)}},classff:function(a,b){return function(c,d){return b+" fill-"+(a+d)}},data:function(a){var b=this;this.linePathShape=[];for(var c=0,d=this.yVariables.length;c<d;){var f=c++,g=[new p.Line(this.x.$bind(this),this.getY1(f))];
null!=this.lineInterpolator&&g[0].interpolator(this.lineInterpolator);this.linePathShape[f]=function(a){return function(c,d){b.segment=d;return a[0].shape(c,d)}}(g)}c=this.chart.selectAll("g.group").data(a);c.enter().append("svg:g").attr("class").stringf(function(a,b){return"group group-"+b});c.exit().remove();this.stats=[];c=0;for(d=a.length;c<d;){f=[c++];this.segments=a[f[0]];g=this.chart.select("g.group-"+f[0]);this.stats[f[0]]=new eb(this.yVariables[f[0]].type);this.stats[f[0]].addMany(pa.values(y.flatten(this.segments),
this.yVariables[f[0]].type));if(null!=this.y0property){var h=new p.Area(this.x.$bind(this),this.getY0(f[0]),this.getY1(f[0]));null!=this.lineInterpolator&&h.interpolator(this.lineInterpolator);g.selectAll("path.area").data(this.segments).enter().append("svg:path").attr("class").stringf(this.classff(f[0],"area area-"+f[0])).attr("d").stringf(h.shape.$bind(h))}var h=g.selectAll("path.main").data(this.segments),k=this.lineEffect;switch(k[1]){case 1:var t=k[3],t=[t],k=[k[2]],l=[[]];h.enter().append("svg:path").attr("class").stringf(this.classsf(f[0],
"line")).eachNode(function(a,b){return function(c,d){var f=e.Hsl.toHsl(J.parse(G.selectNode(c).style("stroke").get(),"#000000")),g=J.applyLightness(f,b[0]);a[0][d]=e.Hsl.interpolatef(g,f)}}(l,k)).remove();for(k=0;k<t[0];){var u=[k++];h.enter().append("svg:path").attr("class").string("line grad-"+(t[0]-u[0]-1)).style("stroke").stringf(function(a,b,c){return function(d,f){return b[0][f](a[0]/c[0]).hex("#")}}(u,l,t)).attr("d").stringf(this.linePathShape[f[0]])}break;case 2:for(var t=k[4],l=k[3],i=k[2],
k=0;k<t;)u=k++,h.enter().append("svg:path").attr("transform").string("translate("+(1+u)*i+","+(1+u)*l+")").attr("class").stringf(this.classsf(f[0],"line shadow shadow-"+u)).attr("d").stringf(this.linePathShape[f[0]])}k=h.enter().append("svg:path").attr("class").stringf(this.classsf(f[0],"line")).attr("d").stringf(this.linePathShape[f[0]]);switch(this.lineEffect[1]){case 1:k.classed().add("gradient");break;case 2:k.classed().add("dropshadow");break;case 0:k.classed().add("noeffect")}h.update().attr("d").stringf(this.linePathShape[f[0]]);
h.exit().remove();g=g.selectAll("g.symbols").data(this.segments);h=g.enter().append("svg:g").attr("class").stringf(this.classsf(f[0],"symbols")).selectAll("g.symbol").dataf(function(){return function(a){return a}}()).enter().append("svg:g").attr("transform").stringf(this.getTranslatePointf(f[0]));k=h.append("svg:circle").attr("r")["float"](6).attr("opacity")["float"](0).style("fill").string("#000000");null!=this.labelDataPointOver&&k.classed().add("rgdata");J.storeColorForSelection(k,"stroke");null!=
this.symbol&&(k=[this.symbol],k=h.append("svg:path").attr("d").stringf(function(a,c){return function(d){return a[0](d,b.stats[c[0]])}}(k,f)),J.storeColorForSelection(k,"stroke"),null!=this.symbolStyle&&(u=[this.symbolStyle],k.attr("style").stringf(function(a,c){return function(d){return a[0](d,b.stats[c[0]])}}(u,f))));null!=this.labelDataPoint&&h.eachNode(function(a,c){return function(d){var f=j.field(d,"__dhx_data__");(new m.Label(G.selectNode(d),!0,!1,!1)).setText(a[0](f,b.stats[c[0]]))}}([this.labelDataPoint],
f));g.update().selectAll("g.symbol").dataf(function(){return function(a){return a}}()).update().attr("transform").stringf(this.getTranslatePointf(f[0]));g.exit().remove()}m.Sensible.sensibleZone(this.g,this.panel,null==this.click?null:this.onclick.$bind(this),null==this.labelDataPointOver?null:this.onmouseover.$bind(this),this.sensibleRadius);this.ready.dispatch()},getTranslatePointf:function(a){var b=this.x.$bind(this),c=this.getY1(a);return function(a,f){return"translate("+b(a)+","+c(a,f)+")"}},
getStats:function(a){for(var b=0,c=this.stats;b<c.length;){var d=c[b];++b;if(null!=j.field(a,d.type))return d}return null},onmouseover:function(a){var b=j.field(a,"__dhx_data__"),c=this.getStats(b),b=this.labelDataPointOver(b,c);null==b?this.tooltip.hide():(c=G.selectNode(a.parentNode),c=o.Coords.fromTransform(c.attr("transform").get()),this.tooltip.html(b.split("\n").join("<br>")),this.moveTooltip(c[0],c[1],J.extractColor(a)))},onclick:function(a){var a=j.field(a,"__dhx_data__"),b=this.getStats(a);
this.click(a,b)},__class__:o.LineChart});o.LineEffect={__ename__:["rg","svg","chart","LineEffect"],__constructs__:["NoEffect","Gradient","DropShadow"]};o.LineEffect.NoEffect=["NoEffect",0];o.LineEffect.NoEffect.toString=v;o.LineEffect.NoEffect.__enum__=o.LineEffect;o.LineEffect.Gradient=function(a,b){var c=["Gradient",1,a,b];c.__enum__=o.LineEffect;c.toString=v;return c};o.LineEffect.DropShadow=function(a,b,c){a=["DropShadow",2,a,b,c];a.__enum__=o.LineEffect;a.toString=v;return a};o.LineEffects=function(){};
o.LineEffects.__name__=["rg","svg","chart","LineEffects"];o.LineEffects.parse=function(a){var b=a.toLowerCase().split(":");switch(b.shift()){case "dropshadow":var c=0.5,d=0.5,a=2,b=b.pop();null!=b&&(b=b.split(","),c=i.parseFloat(b[0]),d=1<b.length?i.parseFloat(b[1]):c,2<b.length&&(a=i.parseInt(b[2])));return o.LineEffect.DropShadow(c,d,a);case "gradient":return c=0.75,a=2,b=b.pop(),null!=b&&(c=i.parseFloat(b.split(",").shift()),d=b.split(",").pop(),null!=d&&(a=i.parseInt(d))),o.LineEffect.Gradient(c,
a);default:return o.LineEffect.NoEffect}};o.LineEffects.prototype={__class__:o.LineEffects};o.PieChart=function(a){o.Chart.call(this,a);this.addClass("pie-chart");this.g.append("svg:defs");this.pie=new K.layout.Pie;this.gradientLightness=0.75;this.displayGradient=!0;this.innerRadius=this.animationDelay=0;this.outerRadius=0.9;this.overRadius=0.95;this.labelRadius=0.45;this.tooltipRadius=0.5;this.labels=new ba;this.labelOrientation=m.LabelOrientation.Orthogonal;this.labelDontFlip=!0};o.PieChart.__name__=
["rg","svg","chart","PieChart"];o.PieChart.__super__=o.Chart;o.PieChart.prototype=w(o.Chart.prototype,{innerRadius:null,outerRadius:null,overRadius:null,labelRadius:null,tooltipRadius:null,arcNormal:null,arcStart:null,arcBig:null,pie:null,radius:null,stats:null,variableDependent:null,gradientLightness:null,displayGradient:null,animationDelay:null,labelOrientation:null,labelDontFlip:null,labels:null,mouseClick:null,setVariables:function(a,b){this.variableDependent=b[0]},resize:function(){o.Chart.prototype.resize.call(this);
this.radius=Math.min(this.width,this.height)/2;this.arcStart=p.Arc.fromAngleObject().innerRadius(this.radius*this.innerRadius).outerRadius(this.radius*this.innerRadius);this.arcNormal=p.Arc.fromAngleObject().innerRadius(this.radius*this.innerRadius).outerRadius(this.radius*this.outerRadius);this.arcBig=p.Arc.fromAngleObject().innerRadius(this.radius*this.innerRadius).outerRadius(this.radius*this.overRadius);this.width>this.height?this.g.attr("transform").string("translate("+(this.width/2-this.height/
2)+",0)"):this.g.attr("transform").string("translate(0,"+(this.height/2-this.width/2)+")")},data:function(a){this.stats=this.variableDependent.stats;var a=this.g.selectAll("g.group").data(this.pief(a),this.id.$bind(this)),b=a.enter().append("svg:g").attr("class").stringf(function(a,b){return"group fill-"+b}).attr("transform").string("translate("+this.radius+","+this.radius+")"),c=b.append("svg:path").attr("class").string("slice");J.storeColorForSelection(b);this.displayGradient&&b.eachNode(this.applyGradient.$bind(this));
this.animated?(c.attr("d").stringf(this.arcShape(this.arcStart)),b.eachNode(this.fadein.$bind(this)).onNode("mouseover.animation",this.highlight.$bind(this)).onNode("mouseout.animation",this.backtonormal.$bind(this))):c.attr("d").stringf(this.arcShape(this.arcNormal));b.onNode("mouseover.label",this.onMouseOver.$bind(this));if(null!=this.mouseClick)b.onNode("click.user",this.onMouseClick.$bind(this));null!=this.labelDataPoint&&a.enter().append("svg:g").attr("transform").string("translate("+this.radius+
","+this.radius+")").eachNode(this.appendLabel.$bind(this));a.update().select("path").transition().ease(this.animationEase).duration(null,this.animationDuration).attr("d").stringf(this.arcShape(this.arcNormal));null!=this.labelDataPoint&&a.update().eachNode(this.updateLabel.$bind(this));a.exit().eachNode(this.removeLabel.$bind(this)).remove();this.ready.dispatch()},onMouseOver:function(a){if(null!=this.labelDataPointOver){var b=j.field(a,"__dhx_data__"),c=this.labelDataPointOver(b.dp,this.stats);
if(null==c)this.tooltip.hide();else{var b=b.startAngle+(b.endAngle-b.startAngle)/2-Math.PI/2,d=this.radius*this.tooltipRadius;this.tooltip.html(c.split("\n").join("<br>"));this.moveTooltip(this.width/2+Math.cos(b)*d,this.height/2+Math.sin(b)*d,J.extractColor(a))}}},onMouseClick:function(a){this.mouseClick(j.field(a,"__dhx_data__").dp)},removeLabel:function(a){G.selectNode(a);a=j.field(a,"__dhx_data__");this.labels.get(a.id).destroy();this.labels.remove(a.id)},updateLabel:function(a){G.selectNode(a);
var a=j.field(a,"__dhx_data__"),b=this.labels.get(a.id),c=this.radius*this.labelRadius,d=a.startAngle+(a.endAngle-a.startAngle)/2-Math.PI/2;b.setText(this.labelDataPoint(a.dp,this.stats));b.place(-2.5+Math.cos(d)*c,-2.5+Math.sin(d)*c,57.29577951308232*d);0==j.field(a.dp,this.stats.type)?b.hide():b.show()},appendLabel:function(a){var b=G.selectNode(a),b=new m.Label(b,this.labelDontFlip,!0,!0),a=j.field(a,"__dhx_data__"),c=this.radius*this.labelRadius,d=a.startAngle+(a.endAngle-a.startAngle)/2-Math.PI/
2;b.setOrientation(this.labelOrientation);switch(this.labelOrientation[1]){case 0:b.setAnchor(m.GridAnchor.Center);break;case 1:b.setAnchor(m.GridAnchor.Left);break;case 2:b.setAnchor(m.GridAnchor.Top)}b.setText(this.labelDataPoint(a.dp,this.stats));b.place(-2.5+Math.cos(d)*c,-2.5+Math.sin(d)*c,57.29577951308232*d);this.labels.set(a.id,b);0>=j.field(a.dp,this.stats.type)&&b.hide()},applyGradient:function(a){var b=G.selectNodeData(a),c=j.field(a,"__dhx_data__").id;if(this.g.select("defs").select("#rg_pie_gradient_"+
c).empty()){var d=b.select("path.slice"),a=this.arcNormal.shape(j.field(a,"__dhx_data__")),a=b.append("svg:path").attr("d").string(a),f;try{f=a.node().getBBox()}catch(g){f={x:0,y:0,width:0,height:0}}a.remove();var d=J.parse(d.style("fill").get(),"#cccccc"),a=J.applyLightness(e.Hsl.toHsl(d),this.gradientLightness),h=f.width/f.height,k=100*-f.x/f.width/h,t=100*-f.y/f.height/h;f=100*(f.width>f.height?Math.min(1,this.radius*this.outerRadius/f.width):Math.max(1,this.radius*this.outerRadius/f.width));f=
this.g.select("defs").append("svg:radialGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string("rg_pie_gradient_"+c).attr("cx").string(k*h+"%").attr("cy").string(t+"%").attr("gradientTransform").string("scale(1 "+h+")").attr("r").string(f+"%");f.append("svg:stop").attr("offset").string(100*this.innerRadius+"%").attr("stop-color").string(d.toRgbString()).attr("stop-opacity")["float"](1);f.append("svg:stop").attr("offset").string("100%").attr("stop-color").string(a.toRgbString()).attr("stop-opacity")["float"](1)}b.select("path.slice").attr("style").string("fill:url(#rg_pie_gradient_"+
c+")")},fadein:function(a){var b=G.selectNodeData(a),a=this.arcNormal.shape(j.field(a,"__dhx_data__"));b.selectAll("path.slice").transition().ease(this.animationEase).duration(null,this.animationDuration).delay(null,this.animationDelay).attr("d").string(a)},highlight:function(a){G.selectNodeData(a).selectAll("path").transition().ease(this.animationEase).duration(null,this.animationDuration).attr("d").stringf(this.arcShape(this.arcBig))},backtonormal:function(a){G.selectNodeData(a).selectAll("path").transition().ease(this.animationEase).duration(null,
this.animationDuration).attr("d").stringf(this.arcShape(this.arcNormal))},id:function(a){return a.id},makeid:function(a){a=ma.clone(a);j.deleteField(a,this.variableDependent.type);return $b.encode(S.string(a))},arcShape:function(a){return function(b){return a.shape(b)}},pief:function(a){for(var b=this.variableDependent.type,c=this.pie.pie(a.map(function(a){return j.field(a,b)})),d=0,f=c.length;d<f;){var e=d++,h=this.makeid(a[e]);c[e].id=h;c[e].dp=a[e]}return c},destroy:function(){for(var a=this.labels.iterator();a.hasNext();)a.next().destroy();
o.Chart.prototype.destroy.call(this)},__class__:o.PieChart});o.Sankey=function(a){o.Chart.call(this,a);this.addClass("sankey");this.layerWidth=61;this.nodeSpacing=28;this.dummySpacing=18;this.extraWidth=28;this.backEdgeSpacing=4;this.extraRadius=this.extraHeight=5;this.imageWidth=60;this.imageHeight=48;this.imageSpacing=0;this.labelNodeSpacing=4;this.styleNode="0";this.styleentry="4";this.styleexit="6";this.styleEdgeBackward="3";this.styleEdgeForward="0";this.thinbackedges=this.stackbackedges=!0};
o.Sankey.__name__=["rg","svg","chart","Sankey"];o.Sankey.__super__=o.Chart;o.Sankey.prototype=w(o.Chart.prototype,{layerWidth:null,nodeSpacing:null,dummySpacing:null,extraWidth:null,backEdgeSpacing:null,extraHeight:null,extraRadius:null,imageWidth:null,imageHeight:null,imageSpacing:null,labelNodeSpacing:null,stackbackedges:null,thinbackedges:null,labelEdge:null,labelEdgeOver:null,labelNode:null,imagePath:null,clickEdge:null,nodeClass:null,edgeClass:null,displayEntry:null,displayExit:null,layout:null,
maxweight:null,availableheight:null,padBefore:null,padAfter:null,layerstarty:null,styleNode:null,styleentry:null,styleexit:null,styleEdgeBackward:null,styleEdgeForward:null,dependentVariable:null,mapelements:null,maphi:null,setVariables:function(a,b){this.dependentVariable=b[0]},data:function(a){var b=this;this.layout=a.clone();for(var a=y.filter(M.filter(this.layout.graph.nodes.iterator(),function(a){return b.isdummy(a)}),function(a){a=a.graph.edges.positives(a).next();if(null==a)return!1;var c=
b.layout.cell(a.head);return b.layout.cell(a.tail).layer>c.layer}),c=this.layout.layers(),d=0;d<a.length;){var f=a[d];++d;var e=this.layout.cell(f),h=f.graph.edges.positives(f).next(),k=f.graph.edges.negatives(f).next();c[e.layer].splice(e.position,1);this.layout.graph.edges.create(k.tail,h.head,h.weight,h.data);f.graph.nodes._remove(f)}this.redraw()},redraw:function(){var a=this;this.mapelements=new ba;this.maphi=new ba;this.maxweight=0;this.layerstarty=[];for(var b=0,c=this.layout.length;b<c;){var d=
b++,f=this.layout.layer(d).reduce(function(a,b){return a+b.data.weight},0);if(f>this.maxweight)this.maxweight=f}for(var e=0,b=0,c=this.layout.length;b<c;)d=b++,f=this.layout.layer(d).reduce(function(b,c){return b+a.nodepadding(c)},0),f>e&&(e=f);this.availableheight=this.height-e;if(this.thinbackedges)this.availableheight-=(1+this.backEdgeSpacing)*(this.stackbackedges?M.filter(this.layout.graph.edges.collection.iterator(),function(b){return a.layout.cell(b.tail).layer>=a.layout.cell(b.head).layer}).length:
1);else if(this.stackbackedges)for(b=this.layout.graph.edges.collection.iterator();b.hasNext();)d=b.next(),this.layout.cell(d.tail).layer<this.layout.cell(d.head).layer||(this.availableheight-=this.backEdgeSpacing,this.maxweight+=d.weight);else{this.availableheight-=this.backEdgeSpacing;f=0;for(b=this.layout.graph.edges.collection.iterator();b.hasNext();)if(d=b.next(),!(this.layout.cell(d.tail).layer<this.layout.cell(d.head).layer)&&d.weight>f)f=d.weight;this.maxweight+=f}this.availableheight-=this.extraRadius+
this.extraHeight;for(var h=0,b=0,c=this.layout.length;b<c;){for(var d=b++,e=this.layout.layer(d),k=0,i=0;i<e.length;)f=e[i],++i,k+=this.nodepadding(f)+this.nheight(f.data.weight);this.layerstarty[d]=k;k>h&&(h=k)}b=0;for(c=this.layerstarty.length;b<c;)d=b++,this.layerstarty[d]=(h-this.layerstarty[d])/2;h+=this.extraRadius+this.extraHeight;c=this.padBefore=0;for(b=this.layout.layer(0);c<b.length;){f=b[c];++c;e=Math.min(this.nheight(f.data.entry),this.extraWidth);for(k=f.graph.edges.negatives(f);k.hasNext();)d=
k.next(),d=this.hafter(d.id,f.graph.edges.negatives(f))+this.nheight(d.weight),d>e&&(e=d);if(e>this.padBefore)this.padBefore=e}this.padBefore+=2;c=this.padAfter=0;for(b=this.layout.layer(this.layout.length-1);c<b.length;){f=b[c];++c;e=Math.min(this.nheight(f.data.exit),this.extraWidth);for(k=f.graph.edges.positives(f);k.hasNext();)d=k.next(),d=this.hafter(d.id,f.graph.edges.positives(f))+this.nheight(d.weight)+Math.min(this.nheight(f.data.exit),this.extraWidth),d>e&&(e=d);if(e>this.padAfter)this.padAfter=
e}this.padAfter+=2;var l=this.g.select("g.edges");l.empty()?l=this.g.append("svg:g").attr("class").string("edges"):l.selectAll("*").remove();b=y.order(M.array(this.layout.graph.edges.iterator()),function(b,c){var d=a.layout.cell(b.tail).layer-a.layout.cell(b.head).layer,d=a.layout.cell(c.tail).layer-a.layout.cell(c.head).layer-d;return 0!=d?d:C.compare(c.weight,b.weight)});M.each(this.layout.graph.nodes.iterator(),function(b){b.graph.edges.sortPositives(b,function(b,c){var d=a.layout.cell(b.head),
f=a.layout.cell(c.head),e=f.layer-d.layer;return 0!=e?e:d.position-f.position});b.graph.edges.sortNegatives(b,function(b,c){var d=a.layout.cell(b.tail),f=a.layout.cell(c.tail);return d.layer>f.layer?1:d.position-f.position})});c=b.copy();c.sort(function(b,c){var d=a.layout.cell(b.tail);return a.layout.cell(c.tail).position-d.position});this.thinbackedges?c.forEach(function(b){if(!(0>=b.weight)){var c=a.layout.cell(b.head),d=a.layout.cell(b.tail);if(!(c.layer>d.layer)){var f=a.nheight(b.weight),e=
5+a.cafter(b.id,b.tail.positives())*(a.backEdgeSpacing+1),g=5+a.cafter(b.id,b.head.negatives())*(a.backEdgeSpacing+1),d=a.layerWidth/2+a.xlayer(d.layer),k=-a.layerWidth/2+a.xlayer(c.layer),i=a.ynode(b.tail)+a.ydiagonal(b.id,b.tail.positives()),t=a.nheight(b.head.data.entry)+a.ynode(b.head)+a.ydiagonal(b.id,b.head.negatives()),j=l.append("svg:g");j.append("svg:rect").attr("x")["float"](d).attr("y")["float"](i).attr("width")["float"](10).attr("height")["float"](f).attr("class").string("edge fill fill-"+
a.styleEdgeBackward+" stroke stroke-"+a.styleEdgeBackward).onNode("mouseover",function(a,b,c,d){return function(f,e){return a(b,c,d,f,e)}}(a.onmouseoveredge.$bind(a),(d+k)/2,h,b));j.append("svg:rect").attr("x")["float"](k-10).attr("y")["float"](t).attr("width")["float"](10).attr("height")["float"](f).attr("class").string("edge fill fill-"+a.styleEdgeBackward+" stroke stroke-"+a.styleEdgeBackward).onNode("mouseover",function(a,b,c,d){return function(f,e){return a(b,c,d,f,e)}}(a.onmouseoveredge.$bind(a),
(d+k)/2,h,b));c=new m.HookConnector(j,"stroke stroke-"+a.styleEdgeBackward);a.addToMap(b.id,"edge",j);c.update(d+10,i+f/2,k-10,t+f/2,h,e,g);c.g.onNode("mouseover",function(a,b,c,d){return function(f,e){return a(b,c,d,f,e)}}(a.onmouseoveredge.$bind(a),(d+k)/2,h,b));null!=a.edgeClass&&(f=a.edgeClass({head:b.head.data,tail:b.tail.data,edgeweight:b.weight},a.dependentVariable.stats),null!=f&&c.addClass(f));J.storeColorForSelection(c.g,"stroke",c.line.style("stroke").get());if(null!=a.clickEdge)c.g.onNode("click",
function(a,b){return function(c,d){return a(b,c,d)}}(a.edgeClickWithEdge.$bind(a),b));a.stackbackedges&&(h+=1+a.backEdgeSpacing)}}}):c.forEach(function(b){if(!(0>=b.weight)){var c=a.layout.cell(b.head),d=a.layout.cell(b.tail);if(!(c.layer>d.layer)){var f=a.nheight(b.weight),e=new m.HookConnectorArea(l,"fill fill-"+a.styleEdgeBackward,"stroke stroke-"+a.styleEdgeBackward),g=a.hafter(b.id,b.tail.positives())+Math.min(a.extraWidth,a.nheight(b.tail.data.exit)),k=a.hafter(b.id,b.head.negatives()),d=a.layerWidth/
2+a.xlayer(d.layer),c=-a.layerWidth/2+a.xlayer(c.layer),i=a.ynode(b.tail)+a.ydiagonal(b.id,b.tail.positives()),t=a.nheight(b.head.data.entry)+a.ynode(b.head)+a.ydiagonal(b.id,b.head.negatives());a.addToMap(b.id,"edge",e.g);e.update(d,i,c,t,f,h,g,k);e.g.onNode("mouseover",function(a,b,c,d){return function(f,e){return a(b,c,d,f,e)}}(a.onmouseoveredge.$bind(a),(d+c)/2,h+f/2,b));null!=a.edgeClass&&(g=a.edgeClass({head:b.head.data,tail:b.tail.data,edgeweight:b.weight},a.dependentVariable.stats),null!=
g&&e.addClass(g));J.storeColorForSelection(e.g,"fill",e.area.style("fill").get());if(null!=a.clickEdge)e.g.onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(a.edgeClickWithEdge.$bind(a),b));a.stackbackedges&&(h+=f+a.backEdgeSpacing)}}});b.forEach(function(b){if(!(0>=b.weight)){var c=b.head,d=b.tail,f=a.layout.cell(c),e=a.layout.cell(d);if(!(f.layer<=e.layer)){var e=Math.round(a.layerWidth/2+a.xlayer(e.layer))-0.5,f=Math.round(-a.layerWidth/2+a.xlayer(f.layer))-0.5,d=a.ynode(d)+a.ydiagonal(b.id,
d.graph.edges.positives(d)),c=a.ynode(c)+a.nheight(c.data.entry)+a.ydiagonal(b.id,c.graph.edges.negatives(c)),g=a.nheight(b.weight),h=new m.DiagonalArea(l,"fill fill-"+a.styleEdgeForward,"stroke stroke-"+a.styleEdgeForward);h.update(e,d,f,c,g,g);if(null!=a.edgeClass){var k=a.edgeClass({head:b.head.data,tail:b.tail.data,edgeweight:b.weight},a.dependentVariable.stats);null!=k&&h.addClass(k)}a.addToMap(b.id,"edge",h.g);h.g.onNode("mouseover",function(a,b,c,d){return function(f,e){return a(b,c,d,f,e)}}(a.onmouseoveredge.$bind(a),
(e+f)/2,(d+c+g)/2,b));J.storeColorForSelection(h.g,"fill",h.area.style("fill").get());if(null!=a.clickEdge)h.g.onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(a.edgeClickWithEdge.$bind(a),b))}}});this.layout.each(function(b,c){if(!(0>=c.data.exit||0>=a.extraWidth||null!=a.displayExit&&!a.displayExit(c.data,a.dependentVariable.stats))){var d=new m.ElbowArea(l,"fill fill-"+a.styleexit,"stroke stroke-"+a.styleexit),f=a.nheight(c.data.exit),e=a.layerWidth/2+a.xlayer(b.layer),g=a.ynode(c)+
a.ydiagonal(null,c.graph.edges.positives(c)),h=Math.max(0,Math.min(f-3,a.extraRadius));d.update(m.Orientation.RightBottom,f,e,g+f,h,a.extraWidth,0,a.extraHeight);if(null!=a.labelEdge){var k,i=a.labelEdge({tail:c,head:null,nodeweight:c.data.weight,edgeweight:c.data.exit},a.dependentVariable.stats);k=new m.Label(l,!0,!0,!1);k.addClass("edge");k.place(e,g+f/2,0);k.setAnchor(m.GridAnchor.Left);k.setText(i);k.getSize().height>0.75*f&&k.destroy()}d.g.onNode("mouseover",function(a,b,c,d){return function(f,
e){return a(b,c,d,f,e)}}(a.onmouseoverexit.$bind(a),e+h+(-h+Math.min(a.extraWidth,f))/2,a.ynode(c)+a.hnode(c)+h+a.extraHeight,c));null!=a.edgeClass&&(f=a.edgeClass({head:null,tail:c.data,edgeweight:c.data.exit},a.dependentVariable.stats),null!=f&&d.addClass(f));J.storeColorForSelection(d.g,"fill",d.area.style("fill").get());if(null!=a.clickEdge)d.g.onNode("click",function(a,b,c){return function(d,f){return a(b,c,d,f)}}(a.edgeClickWithNode.$bind(a),c,!0));a.addToMap(c.id,"exit",d.g)}});this.layout.each(function(b,
c){if(!(0>=c.data.entry||0>=a.extraWidth||null!=a.displayEntry&&!a.displayEntry(c.data,a.dependentVariable.stats))){var d=new m.ElbowArea(l,"fill fill-"+a.styleentry,"stroke stroke-"+a.styleentry),f=a.nheight(c.data.entry),e=Math.max(0,Math.min(f-3,a.extraRadius)),g=-a.layerWidth/2+a.xlayer(b.layer);d.update(m.Orientation.LeftTop,f,g,a.ynode(c),e,a.extraWidth,0,a.extraHeight);if(null!=a.labelEdge){var h,k=a.labelEdge({tail:null,head:c,nodeweight:c.data.weight,edgeweight:c.data.entry},a.dependentVariable.stats);
h=new m.Label(l,!0,!0,!1);h.addClass("edge");h.place(g,a.ynode(c)+f/2,0);h.setAnchor(m.GridAnchor.Right);h.setText(k);h.getSize().height>0.75*f&&h.destroy()}d.g.onNode("mouseover",function(a,b,c,d){return function(f,e){return a(b,c,d,f,e)}}(a.onmouseoverentry.$bind(a),g-e+(e-Math.min(a.extraWidth,f))/2,a.ynode(c)-e-a.extraHeight,c));null!=a.edgeClass&&(f=a.edgeClass({head:c.data,tail:null,edgeweight:c.data.entry},a.dependentVariable.stats),null!=f&&d.addClass(f));J.storeColorForSelection(d.g,"fill",
d.area.style("fill").get());if(null!=a.clickEdge)d.g.onNode("click",function(a,b,c){return function(d,f){return a(b,c,d,f)}}(a.edgeClickWithNode.$bind(a),c,!1));a.addToMap(c.id,"entry",d.g)}});null!=this.labelEdge&&b.forEach(function(b){if(!(0>=b.weight)){var c=b.tail;if(!a.isdummy(c)){var d=a.layout.cell(c),f=a.nheight(b.weight),e,g=a.labelEdge(a.edgeData(b),a.dependentVariable.stats);e=new m.Label(l,!0,!0,!1);e.addClass("edge");e.place(a.layerWidth/2+a.xlayer(d.layer)+2,a.ynode(c)+a.ydiagonal(b.id,
c.graph.edges.positives(c))+f/2,0);e.setAnchor(m.GridAnchor.Left);e.setText(g);e.getSize().height>0.75*f&&e.destroy()}}});b=this.g.selectAll("g.layer").data(this.layout.layers()).enter().append("svg:g").attr("class").string("layer").append("svg:line").attr("class").stringf(function(a,b){return"rule rule-"+b}).attr("x1")["float"](0).attr("x2")["float"](0).attr("y1")["float"](0).attr("y2")["float"](this.height).update().attr("transform").stringf(function(b,c){return"translate("+a.xlayer(c)+",0)"}).exit().remove().update().selectAll("g.node").dataf(function(b,
c){return a.layout.layer(c)});c=b.enter().append("svg:g").attr("class").string("node");0<this.layerWidth&&(f=c.append("svg:rect").attr("class").stringf(function(b){return"fill fill-"+(a.isdummy(b)?a.styleEdgeForward+" nonode":a.styleNode+" node")}).attr("x")["float"](-this.layerWidth/2).attr("y")["float"](0).attr("width")["float"](Math.round(this.layerWidth)).attr("height").floatf(this.hnode.$bind(this)),c.each(function(b){a.addToMap(b.id,"node",G.selectNode(ea.current));null!=a.nodeClass&&(b=a.nodeClass(b.data,
a.dependentVariable.stats),null!=b&&G.selectNode(ea.current).classed().add(b))}),J.storeColorForSelection(c,"fill",f.style("fill").get()),c.append("svg:line").attr("class").stringf(function(b){return"node stroke stroke-"+(a.isdummy(b)?a.styleEdgeForward:a.styleNode)}).attr("x1")["float"](-this.layerWidth/2).attr("y1")["float"](0).attr("x2")["float"](this.layerWidth/2).attr("y2")["float"](0),c.append("svg:line").attr("class").stringf(function(b){return"node stroke stroke-"+(a.isdummy(b)?a.styleEdgeForward:
a.styleNode)}).attr("x1")["float"](-this.layerWidth/2).attr("y1").floatf(this.hnode.$bind(this)).attr("x2")["float"](this.layerWidth/2).attr("y2").floatf(this.hnode.$bind(this)));b.update().attr("transform").stringf(function(b){return"translate(0,"+a.ynode(b)+")"});c.each(function(b){var c=G.selectNode(ea.current);if(!a.isdummy(b)){var d=a.hnode(b),f;if(null!=a.labelDataPoint)for(var e=a.labelDataPoint(b.data.dp,a.dependentVariable.stats).split("\n"),g=null,h,k=0,l=0,i=e.length;l<i;){k=l++;h=e[k];
f=new m.Label(c,!0,!0,!1);f.addClass("node");0==k&&f.addClass("first");k=3;null!=g&&(k+=g.y+g.getSize().height);f.place(-a.layerWidth/2+6,k,0);f.setAnchor(m.GridAnchor.TopLeft);f.setText(h);if(f.y+f.getSize().height>d){f.destroy();break}g=f}d=!1;null!=a.imagePath&&!a.isdummy(b)&&(f=a.imagePath(b.data.dp),null!=f&&(d=!0,c.append("svg:g").attr("transform").string("translate("+Math.round(-a.imageWidth/2)+","+Math.round(-a.imageHeight-a.imageSpacing)+")").append("svg:image").attr("preserveAspectRatio").string("xMidYMid slice").attr("width")["float"](a.imageWidth).attr("height")["float"](a.imageHeight).attr("xlink:href").string(f)));
null!=a.labelNode&&(f=d?new m.Label(c,!0,!0,!0):new m.Label(c,!0,!1,!1),f.setAnchor(m.GridAnchor.Bottom),f.place(0,-a.labelNodeSpacing,0),f.setText(a.labelNode(b.data.dp,a.dependentVariable.stats)))}});c.each(function(b){var c=G.selectNode(ea.current);c.onNode("mouseover",function(a,b){return function(c,d){return a(b,c,d)}}(a.onmouseovernode.$bind(a),b));if(null!=a.click)c.onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(a.nodeclick.$bind(a),b))});this.ready.dispatch()},addToMap:function(a,
b,c){this.mapelements.set(b+":"+a,c)},isbackward:function(a){return this.layout.cell(a.head).layer<=this.layout.cell(a.tail).layer},highlight:function(a,b){for(var c=this,d=this.maphi.iterator();d.hasNext();)d.next().classed().remove("over");this.maphi=new ba;var f=null,e=null,h=null,k=null,i=function(a,b){var d=b+":"+a;c.maphi.set(d,c.mapelements.get(d).classed().add("over"))},l=function(a){var a="entry:"+a,b=c.mapelements.get(a);null!=b&&c.maphi.set(a,b.classed().add("over"))},f=function(a){c.maphi.exists("edge:"+
a.id)||(i(a.id,"edge"),c.isbackward(a)||e(a.head))},e=function(a){if(!c.maphi.exists("node:"+a.id)){i(a.id,"node");var b="exit:"+a.id,d=c.mapelements.get(b);null!=d&&c.maphi.set(b,d.classed().add("over"));for(a=a.graph.edges.positives(a);a.hasNext();)b=a.next(),f(b)}},h=function(a){c.isbackward(a)||k(a.tail);c.maphi.exists("edge:"+a.id)||c.isbackward(a)||i(a.id,"edge")},k=function(a){for(var b=a.graph.edges.negatives(a);b.hasNext();){var d=b.next();h(d)}c.maphi.exists("node:"+a.id)||(i(a.id,"node"),
l(a.id))};"edge"==b?(f(this.layout.graph.edges.get(a)),h(this.layout.graph.edges.get(a))):"node"==b&&(e(this.layout.graph.nodes.get(a)),k(this.layout.graph.nodes.get(a)),l(a))},edgeData:function(a){for(var b=a.head,c=a.tail;this.isdummy(b);)b=b.graph.edges.positives(b).next().head;for(;this.isdummy(c);)c=c.graph.edges.negatives(c).next().tail;return{head:b.data.dp,tail:c.data.dp,edgeweight:a.weight,nodeweight:c.data.weight}},edgeDataWithNode:function(a,b){return{tail:b?a.data.dp:null,head:b?null:
a.data.dp,edgeweight:b?a.data.exit:a.data.entry,nodeweight:a.data.weight}},nodeclick:function(a){this.click(a.data.dp,this.dependentVariable.stats)},edgeclick:function(a){this.clickEdge(a,this.dependentVariable.stats)},edgeClickWithEdge:function(a,b,c){this.edgeclick(this.edgeData(a),b,c)},edgeClickWithNode:function(a,b,c,d){this.edgeclick(this.edgeDataWithNode(a,b),c,d)},onmouseovernode:function(a,b){this.highlight(a.id,"node");if(this.isdummy(a)){if(null!=this.labelEdgeOver){var c=this.labelEdgeOver(this.edgeData(a.graph.edges.positives(a).next()),
this.dependentVariable.stats);if(!1!==c)if(null==c)this.tooltip.hide();else{var d=this.layout.cell(a);this.tooltip.anchor("bottomright");this.tooltip.html(c.split("\n").join("<br>"));this.moveTooltip(this.xlayer(d.layer),this.ynode(a)+this.hnode(a)/2,J.extractColor(b))}}}else null!=this.labelDataPointOver&&(c=this.labelDataPointOver(a.data.dp,this.dependentVariable.stats),!1!==c&&(null==c?this.tooltip.hide():(d=this.layout.cell(a),this.tooltip.anchor("bottomright"),this.tooltip.html(c.split("\n").join("<br>")),
this.moveTooltip(this.xlayer(d.layer),this.ynode(a)+this.hnode(a)/2,J.extractColor(b)))))},onmouseoveredge:function(a,b,c,d){this.highlight(c.id,"edge");null!=this.labelEdgeOver&&(c=this.labelEdgeOver(this.edgeData(c),this.dependentVariable.stats),null==c?this.tooltip.hide():(this.tooltip.anchor("bottomright"),this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(a,b,J.extractColor(d))))},onmouseoverentry:function(a,b,c,d){this.highlight(c.id,"node");null!=this.labelEdgeOver&&(c=this.labelEdgeOver(this.edgeDataWithNode(c,
!1),this.dependentVariable.stats),null==c?this.tooltip.hide():(this.tooltip.anchor("bottomright"),this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(a,b,J.extractColor(d))))},onmouseoverexit:function(a,b,c,d){this.highlight(c.id,"node");null!=this.labelEdgeOver&&(c=this.labelEdgeOver(this.edgeDataWithNode(c,!0),this.dependentVariable.stats),null==c?this.tooltip.hide():(this.tooltip.anchor("topleft"),this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(a,b,J.extractColor(d))))},
nheight:function(a){return 0==a?0:Math.round(a/this.maxweight*this.availableheight)},ydiagonal:function(a,b){for(var c=0;b.hasNext();){var d=b.next();if(d.id==a)break;c+=d.weight}return this.nheight(c)},cafter:function(a,b){for(var c=!1,d=0;b.hasNext();){var f=b.next();c?d++:f.id==a&&(c=!0)}return d},hafter:function(a,b){for(var c=!1,d=this.backEdgeSpacing/this.nheight(1),f=d;b.hasNext();){var e=b.next();c?f+=e.weight+d:e.id==a&&(c=!0)}return this.nheight(f)},xlayer:function(a){return 1>=this.layout.length?
this.width/2:Math.round((this.width-this.padBefore-this.padAfter-this.layerWidth)/(this.layout.length-1)*a+this.layerWidth/2+this.padBefore)},ynode:function(a){for(var b=this.layout.cell(a),c=this.layerstarty[b.layer],d=0,f=b.position;d<f;)var e=d++,e=this.layout.nodeAt(b.layer,e),c=c+(this.hnode(e)+this.nodepadding(e));c+=this.nodepadding(a);return Math.round(c)+0.5},nodepadding:function(a){return this.isdummy(a)?this.dummySpacing:this.nodeSpacing},isdummy:function(a){return"#"==a.data.id.substr(0,
1)},hnode:function(a){return this.nheight(a.data.weight)},__class__:o.Sankey});o.ScatterGraph=function(a){o.CartesianChart.call(this,a);this.addClass("scatter-graph");this.chart=this.g.append("svg:g")};o.ScatterGraph.__name__=["rg","svg","chart","ScatterGraph"];o.ScatterGraph.__super__=o.CartesianChart;o.ScatterGraph.prototype=w(o.CartesianChart.prototype,{symbol:null,symbolStyle:null,chart:null,dps:null,x:function(a){a=j.field(a,this.xVariable.type);return this.xVariable.axis.scale(this.xVariable.min(),
this.xVariable.max(),a)*this.width},getY1:function(a){var b=this.height,c=this.yVariables[a];return function(a){a=j.field(a,c.type);a=c.axis.scale(c.min(),c.max(),a)*b;return b-a}},classf:function(a,b){return function(){return b+" stroke-"+a+" fill-"+a}},data:function(a){this.dps=a;this.redraw()},resize:function(){o.CartesianChart.prototype.resize.call(this);this.redraw()},redraw:function(){var a=this;if(!(null==this.dps||null==this.dps[0]||null==this.dps[0][0])){var b=this.chart.selectAll("g.group").data(this.dps);
b.enter().append("svg:g").attr("class").stringf(function(a,b){return"group group-"+b});b.exit().remove();for(var b=0,c=this.dps.length;b<c;){var d=b++,f=this.dps[d],e=this.chart.select("g.group-"+d),h=[this.yVariables[d].stats],f=e.selectAll("g.symbol").data(f),k=function(){return function(a,b){return function(){return function(c,d){return a(b,c,d)}}()}}()(this.onclick.$bind(this),h[0]),i=function(){return function(a,b){return function(){return function(c,d){return a(b,c,d)}}()}}()(this.onmouseover.$bind(this),
h[0]),e=f.enter().append("svg:g").attr("class").stringf(this.classf(d,"symbol")).attr("transform").stringf(this.getTranslatePointf(d));if(null!=this.click)e.on("click",k);if(null!=this.labelDataPointOver)e.onNode("mouseover",i);k=e.append("svg:path").attr("d").stringf(function(b){return function(c){return a.symbol(c,b[0])}}(h));null!=this.symbolStyle&&k.attr("style").stringf(function(b){return function(c){return a.symbolStyle(c,b[0])}}(h));null!=this.labelDataPoint&&e.eachNode(function(a,b){return function(c){var d=
j.field(c,"__dhx_data__");(new m.Label(G.selectNode(c),!0,!0,!0)).setText(a[0](d,b[0]))}}([this.labelDataPoint],h));f.update().selectAll("g.symbol").dataf(function(){return function(a){return a}}()).update().attr("transform").stringf(this.getTranslatePointf(d));f.exit().remove()}this.ready.dispatch()}},getTranslatePointf:function(a){var b=this.x.$bind(this),c=this.getY1(a);return function(a,f){return"translate("+b(a)+","+c(a,f)+")"}},onmouseover:function(a,b){var c=this.labelDataPointOver(j.field(b,
"__dhx_data__"),a);if(null==c)this.tooltip.hide();else{var d=G.selectNode(b),d=o.Coords.fromTransform(d.attr("transform").get());this.tooltip.html(c.split("\n").join("<br>"));this.moveTooltip(d[0],d[1],null)}},onclick:function(a,b){this.click(b,a)},__class__:o.ScatterGraph});o.StreamEffect={__ename__:["rg","svg","chart","StreamEffect"],__constructs__:["NoEffect","GradientHorizontal","GradientVertical"]};o.StreamEffect.NoEffect=["NoEffect",0];o.StreamEffect.NoEffect.toString=v;o.StreamEffect.NoEffect.__enum__=
o.StreamEffect;o.StreamEffect.GradientHorizontal=function(a){a=["GradientHorizontal",1,a];a.__enum__=o.StreamEffect;a.toString=v;return a};o.StreamEffect.GradientVertical=function(a){a=["GradientVertical",2,a];a.__enum__=o.StreamEffect;a.toString=v;return a};o.StreamEffects=function(){};o.StreamEffects.__name__=["rg","svg","chart","StreamEffects"];o.StreamEffects.getLightness=function(a,b){return null==a?b:i.parseFloat(a)};o.StreamEffects.parse=function(a){a=a.toLowerCase().split(":");switch(a.shift()){case "gradient":case "gradientv":case "gradientvert":case "gradientvertical":return o.StreamEffect.GradientVertical(o.StreamEffects.getLightness(a.pop(),
0.75));case "gradienth":case "gradienthoriz":case "gradienthorizontal":return o.StreamEffect.GradientHorizontal(o.StreamEffects.getLightness(a.pop(),0.75));default:return o.StreamEffect.NoEffect}};o.StreamEffects.prototype={__class__:o.StreamEffects};o.StreamGraph=function(a){o.CartesianChart.call(this,a);this.interpolator=p.LineInterpolator.Cardinal(0.6);this.gradientLightness=0.75;this.gradientStyle=1};o.StreamGraph.__name__=["rg","svg","chart","StreamGraph"];o.StreamGraph.__super__=o.CartesianChart;
o.StreamGraph.prototype=w(o.CartesianChart.prototype,{interpolator:null,gradientLightness:null,gradientStyle:null,dps:null,area:null,transformedData:null,stats:null,defs:null,maxy:null,init:function(){o.CartesianChart.prototype.init.call(this);this.defs=this.g.append("svg:defs");this.g.classed().add("stream-chart")},setVariables:function(a,b,c,d){o.CartesianChart.prototype.setVariables.call(this,a,b,c,d)},data:function(a){this.dps=a;this.prepareData();this.redraw()},redraw:function(){if(null!=this.transformedData){var a=
this.g.selectAll("g.group").data(this.transformedData);a.update().select("path.line").attr("d").stringf((ia=this.area,ia.shape.$bind(ia)));var b=a.enter().append("svg:g").attr("class").string("group").append("svg:path").attr("class").stringf(function(a,b){return"line fill-"+b+" stroke-"+b}).attr("d").stringf((ia=this.area,ia.shape.$bind(ia))).onNode("mousemove",this.onover.$bind(this)).onNode("click",this.onclick.$bind(this));J.storeColorForSelection(b);0!=this.gradientStyle&&b.each(1==this.gradientStyle?
this.applyGradientV.$bind(this):this.applyGradientH.$bind(this));a.exit().remove();this.ready.dispatch()}},getDataAtNode:function(a,b){var c=Qb.mouse(a)[0],c=C.uninterpolatef(this.transformedData[b][0].coord.x,y.last(this.transformedData[b]).coord.x)(c/this.width);j.field(a,"__dhx_data__");return y.nearest(this.transformedData[b],c,function(a){return a.coord.x})},onover:function(a,b){if(null!=this.labelDataPointOver){var c=this.getDataAtNode(a,b);this.tooltip.html(this.labelDataPointOver(c.dp,this.stats).split("\n").join("<br>"));
this.moveTooltip(c.coord.x*this.width,this.height-(c.coord.y+c.coord.y0)*this.height/this.maxy,J.extractColor(a))}},onclick:function(a,b){null!=this.click&&this.click(this.getDataAtNode(a,b).dp,this.stats)},prepareData:function(){var a=this;this.defs.selectAll("linearGradient.h").remove();var b=function(a,b,c){return function(d){return a(b,c,d)}}((ia=this.xVariable.axis,ia.scale.$bind(ia)),this.xVariable.min(),this.xVariable.max()),c=this.xVariable.type,d=function(a,b,c){return function(d){return a(b,
c,d)}}((ia=this.yVariables[0].axis,ia.scale.$bind(ia)),this.yVariables[0].min(),this.yVariables[0].max()),f=this.yVariables[0].type,e=y.floatMax(this.dps,function(a){return a.length})|0,h=this.dps.map(function(h){return I.range(0,e).map(function(e,g){var i=h[g];if(null==i){a:{for(var i=0,m=a.dps.length;i<m;){var o=i++;if(null!=a.dps[o][g]){i=a.dps[o][g];break a}}i=null}i={x:b(j.field(i,c)),y:0}}else i={x:b(j.field(i,c)),y:Math.max(0,d(j.field(i,f)))};return i})}),h=(new K.layout.Stack).offset(K.layout.StackOffset.Silhouette).order(K.layout.StackOrder.DefaultOrder).stack(h);
this.transformedData=h.map(function(b,c){return b.map(function(b,d){return{coord:b,dp:a.dps[c][d]}})});this.stats=this.yVariables[0].stats;this.maxy=y.floatMax(h,function(a){return y.floatMax(a,function(a){return a.y0+a.y})});this.area=(new p.Area).interpolator(this.interpolator).x(function(b){return b.coord.x*a.width}).y0(function(b){return a.height-b.coord.y0*a.height/a.maxy}).y1(function(b){return a.height-(b.coord.y+b.coord.y0)*a.height/a.maxy})},applyGradientV:function(){var a=G.selectNode(ea.current),
b=J.parse(a.style("fill").get(),"#cccccc"),c="rg_stream_gradient_h_"+b.hex("");if(this.defs.select("#"+c).empty()){var d=J.applyLightness(e.Hsl.toHsl(b),this.gradientLightness).toRgbString(),f=this.defs.append("svg:linearGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string(c).attr("x1").string("0%").attr("x2").string("0%").attr("y1").string("100%").attr("y2").string("0%").attr("spreadMethod").string("pad");f.append("svg:stop").attr("offset").string("0%").attr("stop-color").string(d).attr("stop-opacity")["float"](1);
f.append("svg:stop").attr("offset").string("100%").attr("stop-color").string(b.toRgbString()).attr("stop-opacity")["float"](1)}a.attr("style").string("fill:url(#"+c+")")},applyGradientH:function(a){for(var b=G.selectNode(ea.current),c=e.Hsl.toHsl(J.parse(b.style("fill").get(),"#cccccc")),d="rg_stream_gradient_v_"+o.StreamGraph.vid++,f=this.defs.append("svg:linearGradient").attr("gradientUnits").string("objectBoundingBox").attr("class").string("x").attr("id").string(d).attr("x1").string("0%").attr("x2").string("100%").attr("y1").string("0%").attr("y2").string("0%"),
g=a[0].coord.x,h=a[a.length-1].coord.x-g,k=y.floatMax(a,function(a){return a.coord.y}),i=0,l=a.length;i<l;){var j=i++,j=a[j],m=J.applyLightness(c,this.gradientLightness,j.coord.y/k);f.append("svg:stop").attr("offset").string(Math.round(1E4*((j.coord.x-g)/h))/100+"%").attr("stop-color").string(m.hex("#")).attr("stop-opacity")["float"](1)}b.attr("style").string("fill:url(#"+d+")")},__class__:o.StreamGraph});wa={RulesOrtho:function(a,b){L.Layer.call(this,a);this.orientation=b;this.displayAnchorLine=
this.displayMajor=this.displayMinor=!0;this.g.classed().add("tickmarks")}};wa.RulesOrtho.__name__=["rg","svg","layer","RulesOrtho"];wa.RulesOrtho.__super__=L.Layer;wa.RulesOrtho.prototype=w(L.Layer.prototype,{orientation:null,displayMinor:null,displayMajor:null,displayAnchorLine:null,translate:null,x1:null,y1:null,x2:null,y2:null,axis:null,min:null,max:null,resize:function(){null!=this.axis&&(this.displayAnchorLine&&this.updateAnchorLine(),this.redraw())},update:function(a,b,c){this.axis=a;this.min=
b;this.max=c;this.redraw()},updateAnchorLine:function(){var a=this.g.select("line.anchor-line");switch(this.orientation[1]){case 1:a.attr("x1")["float"](0).attr("y1")["float"](0).attr("x2")["float"](0).attr("y2")["float"](this.height);break;case 0:a.attr("x1")["float"](0).attr("y1")["float"](this.height).attr("x2")["float"](this.width).attr("y2")["float"](this.height)}},maxTicks:function(){var a;switch(this.orientation[1]){case 1:a=this.width;break;case 0:a=this.height}return Math.round(a/2.5)},id:function(a){return""+
a.getValue()},redraw:function(){var a=this.axis.ticks(this.min,this.max,this.maxTicks()),a=this.g.selectAll("g.rule").data(a,this.id.$bind(this)),b=a.enter().append("svg:g").attr("class").string("rule").attr("transform").stringf(this.translate);this.displayMinor&&b.filter(function(a){return!a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(this.tickClass.$bind(this));this.displayMajor&&b.filter(function(a){return a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(this.tickClass.$bind(this));
a.update().attr("transform").stringf(this.translate);a.exit().remove()},initf:function(){switch(this.orientation[1]){case 1:this.translate=this.translateHorizontal.$bind(this);this.x1=this.x1Horizontal.$bind(this);this.y1=this.y1Horizontal.$bind(this);this.x2=this.x2Horizontal.$bind(this);this.y2=this.y2Horizontal.$bind(this);break;case 0:this.translate=this.translateVertical.$bind(this),this.x1=this.x1Vertical.$bind(this),this.y1=this.y1Vertical.$bind(this),this.x2=this.x2Vertical.$bind(this),this.y2=
this.y2Vertical.$bind(this)}},init:function(){this.initf();this.displayAnchorLine&&(this.g.append("svg:line").attr("class").string("anchor-line"),this.updateAnchorLine())},t:function(a,b){return"translate("+a+","+b+")"},translateHorizontal:function(a){return"translate(0,"+(this.height-a.getDelta()*this.height)+")"},translateVertical:function(a){return"translate("+a.getDelta()*this.width+",0)"},x1Horizontal:function(){return 0},x1Vertical:function(){return 0},y1Horizontal:function(){return 0},y1Vertical:function(){return 0},
x2Horizontal:function(){return this.width},x2Vertical:function(){return 0},y2Horizontal:function(){return 0},y2Vertical:function(){return this.height},tickClass:function(a){return a.getMajor()?"major":null},__class__:wa.RulesOrtho});wa.TickmarksOrtho=function(a,b){L.Layer.call(this,a);this.anchor=b;this.displayLabel=this.displayMajor=this.displayMinor=!0;this.displayAnchorLine=!1;this.lengthMinor=2;this.lengthMajor=5;this.paddingMajor=this.paddingMinor=1;this.paddingLabel=10;this.g.classed().add("tickmarks")};
wa.TickmarksOrtho.__name__=["rg","svg","layer","TickmarksOrtho"];wa.TickmarksOrtho.__super__=L.Layer;wa.TickmarksOrtho.prototype=w(L.Layer.prototype,{anchor:null,displayMinor:null,displayMajor:null,displayLabel:null,displayAnchorLine:null,lengthMinor:null,lengthMajor:null,paddingMinor:null,paddingMajor:null,paddingLabel:null,labelOrientation:null,labelAnchor:null,labelAngle:null,desiredSize:null,tickLabel:null,translate:null,x1:null,y1:null,x2:null,y2:null,axis:null,min:null,max:null,resize:function(){null!=
this.axis&&(this.displayAnchorLine&&this.updateAnchorLine(),this.redraw())},update:function(a,b,c){this.axis=a;this.min=b;this.max=c;this.redraw()},updateAnchorLine:function(){var a=this.g.select("line.anchor-line");switch(this.anchor[1]){case 0:a.attr("x1")["float"](0).attr("y1")["float"](0).attr("x2")["float"](this.panel.frame.width).attr("y2")["float"](0);break;case 1:a.attr("x1")["float"](0).attr("y1")["float"](this.panel.frame.height).attr("x2")["float"](this.panel.frame.width).attr("y2")["float"](this.panel.frame.height);
break;case 2:a.attr("x1")["float"](0).attr("y1")["float"](0).attr("x2")["float"](0).attr("y2")["float"](this.panel.frame.height);break;case 3:a.attr("x1")["float"](this.panel.frame.width).attr("y1")["float"](0).attr("x2")["float"](this.panel.frame.width).attr("y2")["float"](this.panel.frame.height)}},maxTicks:function(){var a;switch(this.anchor[1]){case 2:case 3:a=this.height;break;case 0:case 1:a=this.width}return Math.round(a/2.5)},id:function(a){return""+a.getValue()},redraw:function(){this.desiredSize=
Math.max(this.paddingMinor+this.lengthMinor,this.paddingMajor+this.lengthMajor);var a=this.axis.ticks(this.min,this.max,this.maxTicks()),a=this.g.selectAll("g.tick").data(a,this.id.$bind(this)),b=a.enter().append("svg:g").attr("class").string("tick").attr("transform").stringf(this.translate);this.displayMinor&&b.filter(function(a){return!a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(this.tickClass.$bind(this));
this.displayMajor&&b.filter(function(a){return a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(this.tickClass.$bind(this));this.displayLabel&&b.eachNode(this.createLabel.$bind(this));a.update().attr("transform").stringf(this.translate);a.exit().remove()},createLabel:function(a){var b=j.field(a,"__dhx_data__");if(b.getMajor()){a=new m.Label(G.selectNode(a),!1,!1,!1);a.setAnchor(this.labelAnchor);
a.setOrientation(this.labelOrientation);var c=this.paddingLabel;a.setText(null==this.tickLabel?b.getLabel():this.tickLabel(b.getValue()));switch(this.anchor[1]){case 0:a.place(0,c,this.labelAngle);break;case 1:a.place(0,-c,this.labelAngle);break;case 2:a.place(c,0,this.labelAngle);break;case 3:a.place(-c,0,this.labelAngle)}var d;switch(this.anchor[1]){case 0:case 1:d=a.getSize().height+c;break;case 2:case 3:d=a.getSize().width+c}b=d;if(b>this.desiredSize)this.desiredSize=b}},initf:function(){switch(this.anchor[1]){case 0:this.translate=
this.translateTop.$bind(this);this.x1=this.x1Top.$bind(this);this.y1=this.y1Top.$bind(this);this.x2=this.x2Top.$bind(this);this.y2=this.y2Top.$bind(this);break;case 1:this.translate=this.translateBottom.$bind(this);this.x1=this.x1Bottom.$bind(this);this.y1=this.y1Bottom.$bind(this);this.x2=this.x2Bottom.$bind(this);this.y2=this.y2Bottom.$bind(this);break;case 2:this.translate=this.translateLeft.$bind(this);this.x1=this.x1Left.$bind(this);this.y1=this.y1Left.$bind(this);this.x2=this.x2Left.$bind(this);
this.y2=this.y2Left.$bind(this);break;case 3:this.translate=this.translateRight.$bind(this),this.x1=this.x1Right.$bind(this),this.y1=this.y1Right.$bind(this),this.x2=this.x2Right.$bind(this),this.y2=this.y2Right.$bind(this)}if(null==this.labelOrientation)switch(this.anchor[1]){case 0:case 1:this.labelOrientation=m.LabelOrientation.Orthogonal;break;case 2:case 3:this.labelOrientation=m.LabelOrientation.Aligned}else if(null==this.labelAnchor)switch(this.labelOrientation[1]){case 1:switch(this.anchor[1]){case 0:case 2:this.labelAnchor=
m.GridAnchor.Left;break;case 1:case 3:this.labelAnchor=m.GridAnchor.Right}break;case 2:switch(this.anchor[1]){case 0:case 2:this.labelAnchor=m.GridAnchor.Top;break;case 1:case 3:this.labelAnchor=m.GridAnchor.Bottom}}if(null==this.labelAnchor)switch(this.anchor[1]){case 0:this.labelAnchor=m.GridAnchor.Top;break;case 1:this.labelAnchor=m.GridAnchor.Bottom;break;case 2:this.labelAnchor=m.GridAnchor.Left;break;case 3:this.labelAnchor=m.GridAnchor.Right}if(null==this.labelAngle)switch(this.anchor[1]){case 0:this.labelAngle=
90;break;case 1:this.labelAngle=90;break;case 2:this.labelAngle=0;break;case 3:this.labelAngle=0}},init:function(){this.initf();this.displayAnchorLine&&(this.g.append("svg:line").attr("class").string("anchor-line"),this.updateAnchorLine())},t:function(a,b){return"translate("+a+","+b+")"},translateTop:function(a){return"translate("+a.getDelta()*this.panel.frame.width+",0)"},translateBottom:function(a){return"translate("+a.getDelta()*this.panel.frame.width+","+this.panel.frame.height+")"},translateLeft:function(a){return"translate(0,"+
(this.panel.frame.height-a.getDelta()*this.panel.frame.height)+")"},translateRight:function(a){return"translate("+this.panel.frame.width+","+(this.panel.frame.height-a.getDelta()*this.panel.frame.height)+")"},x1Top:function(){return 0},x1Bottom:function(){return 0},x1Left:function(a){return a.getMajor()?this.paddingMajor:this.paddingMinor},x1Right:function(a){return-(a.getMajor()?this.paddingMajor:this.paddingMinor)},y1Top:function(a){return a.getMajor()?this.paddingMajor:this.paddingMinor},y1Bottom:function(a){return-(a.getMajor()?
this.paddingMajor:this.paddingMinor)},y1Left:function(){return 0},y1Right:function(){return 0},x2Top:function(){return 0},x2Bottom:function(){return 0},x2Left:function(a){return a.getMajor()?this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor},x2Right:function(a){return-(a.getMajor()?this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor)},y2Top:function(a){return a.getMajor()?this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor},y2Bottom:function(a){return-(a.getMajor()?
this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor)},y2Left:function(){return 0},y2Right:function(){return 0},tickClass:function(a){return a.getMajor()?"major":null},__class__:wa.TickmarksOrtho});wa.Title=function(a,b,c,d,f,e,h){null==h&&(h=!1);null==e&&(e=!1);null==f&&(f="title");null==d&&(d=1);L.Layer.call(this,a);this.addClass(f);this.group=this.g.append("svg:g");this.label=new m.Label(this.group,!1,e,h);this.label.setOrientation(m.LabelOrientation.Orthogonal);this.setAnchor(c);
this.setPadding(d);this.setText(b);this.resize()};wa.Title.__name__=["rg","svg","layer","Title"];wa.Title.__super__=L.Layer;wa.Title.prototype=w(L.Layer.prototype,{text:null,anchor:null,padding:null,label:null,group:null,idealHeight:function(){var a=this.label.getSize();return Math.round(function(b){var c;switch(b.anchor[1]){case 2:case 3:c=a.width+b.padding;break;case 0:case 1:c=a.height+b.padding}return c}(this))},resize:function(){if(!(null==this.anchor||null==this.width||null==this.padding))switch(this.anchor[1]){case 0:this.group.attr("transform").string("translate("+
this.width/2+","+this.padding+")");break;case 3:this.group.attr("transform").string("translate("+(this.width-this.padding)+","+this.height/2+")");break;case 2:this.group.attr("transform").string("translate("+this.padding+","+this.height/2+")");break;case 1:this.group.attr("transform").string("translate("+this.width/2+","+(this.height-this.padding)+")")}},getText:function(){return this.label.text},setText:function(a){return this.label.setText(a)},setAnchor:function(a){switch((this.anchor=a)[1]){case 0:this.label.setAnchor(m.GridAnchor.Top);
break;case 1:this.label.setAnchor(m.GridAnchor.Bottom);break;case 2:this.label.setAnchor(m.GridAnchor.Bottom);break;case 3:this.label.setAnchor(m.GridAnchor.Bottom)}return a},setPadding:function(a){this.padding=a;switch(this.anchor[1]){case 0:this.label.place(0,0,90);break;case 1:this.label.place(0,0,90);break;case 2:this.label.place(0,0,180);break;case 3:this.label.place(0,0,0)}return a},__class__:wa.Title,__properties__:w(L.Layer.prototype.__properties__,{set_padding:"setPadding",set_anchor:"setAnchor",
set_text:"setText",get_text:"getText"})});L.Panel=function(a){this.frame=a;a.change=this.reframe.$bind(this);this._layers=[]};L.Panel.__name__=["rg","svg","panel","Panel"];L.Panel.prototype={frame:null,g:null,parent:null,_layers:null,addLayer:function(a){this._layers.remove(a);this._layers.push(a)},removeLayer:function(a){this._layers.remove(a)},setParent:function(a){null!=this.g&&this.g.remove();this.parent=a;null!=a&&this.init(a.g)},init:function(a){this.g=a.append("svg:g").attr("class").string("panel").attr("transform").string("translate("+
this.frame.x+","+this.frame.y+")")},reframe:function(){this.g.attr("transform").string("translate("+this.frame.x+","+this.frame.y+")");for(var a,b=0,c=this._layers.length;b<c;)a=this._layers[b++],a._resize()},__class__:L.Panel};L.Container=function(a,b){L.Panel.call(this,a);this.stack=new hd(a.width,a.height,b);this.panels=[]};L.Container.__name__=["rg","svg","panel","Container"];L.Container.__super__=L.Panel;L.Container.prototype=w(L.Panel.prototype,{stack:null,panels:null,insertPanel:function(a,
b){if(null==b)return this;if(a>=this.stack.getLength())return this.addPanel(b);0>a&&(a=0);null!=b.parent&&b.parent.removePanel(b);this.panels.insert(a,b);b.setParent(this);this.stack.insertItem(a,function(){var a=b.frame;if(!i.is(a,Oa))throw"Class cast error";return a}(this));return this},addPanel:function(a){return this.addPanels([a])},addPanels:function(a){for(var b=[],a=a.iterator();a.hasNext();){var c=a.next();null!=c&&(null!=c.parent&&c.parent.removePanel(c),this.panels.push(c),c.setParent(this),
b.push(function(){var a=c.frame;if(!i.is(a,Oa))throw"Class cast error";return a}(this)))}this.stack.addItems(b);return this},removePanel:function(a){if(!this.panels.remove(a))return this;this.stack.removeChild(function(){var b=a.frame;if(!i.is(b,Oa))throw"Class cast error";return b}(this));a.setParent(null);return this},createPanel:function(a){a=new L.Panel(new Oa(a));this.addPanel(a);return a},createContainer:function(a,b){var c=new L.Container(new Oa(a),b);this.addPanel(c);return c},createPanelAt:function(a,
b){var c=new L.Panel(new Oa(b));this.insertPanel(a,c);return c},createContainerAt:function(a,b,c){b=new L.Container(new Oa(b),c);this.insertPanel(a,b);return b},reframe:function(){L.Panel.prototype.reframe.call(this);this.stack.setSize(this.frame.width,this.frame.height);this.stack.reflow()},__class__:L.Container});L.Panels=function(){};L.Panels.__name__=["rg","svg","panel","Panels"];L.Panels.absolutePos=function(a){for(var b=a,c=0,d=0;null!=b;)a=b,c+=b.frame.x,d+=b.frame.y,b=b.parent;var f=L.Panels.htmlContainer(a),
a=D.Scroll.getLeft(),b=D.Scroll.getTop();if(null==f)return{x:a,y:b};f=f.getBoundingClientRect();return{x:f.left+c+a,y:f.top+d+b}};L.Panels.svgContainer=function(a){a=a.g.node();do a=a.ownerSVGElement;while(null!=a&&null!=j.field(a.ownerSVGElement,"ownerSVGElement"));return null==a?null:a};L.Panels.htmlContainer=function(a){a=L.Panels.svgContainer(a);return null==a?null:a.parentNode};L.Panels.prototype={__class__:L.Panels};L.Space=function(a,b,c){this.panel=new Oa(R.Fill(0,0));L.Container.call(this,
this.panel,ta.Vertical);this.init(this.svg=c.append("svg:svg").attr("xmlns").string("http://www.w3.org/2000/svg"));this.resize(a,b)};L.Space.__name__=["rg","svg","panel","Space"];L.Space.__super__=L.Container;L.Space.prototype=w(L.Container.prototype,{panel:null,svg:null,resize:function(a,b){this.panel.width==a&&this.panel.height==b||(this.svg.attr("width")["float"](a).attr("height")["float"](b),this.panel.setLayout(0,0,a,b))},__class__:L.Space});ha={RGCss:function(){}};ha.RGCss.__name__=["rg","svg",
"util","RGCss"];ha.RGCss.cache=null;ha.RGCss.colorsInCss=function(){if(null!=ha.RGCss.cache)return ha.RGCss.cache;var a=G.select("body").append("svg:svg").attr("class").string("rg"),b=ha.RGCss.createBlock(a,0).style("fill").get();ha.RGCss.cache=[b];for(var c=1;1E3>c;){var d=c++,d=ha.RGCss.createBlock(a,d).style("fill").get();if(b==d)break;else ha.RGCss.cache.push(d)}a.remove();return ha.RGCss.cache};ha.RGCss.numberOfColorsInCss=function(){return ha.RGCss.colorsInCss().length};ha.RGCss.createBlock=
function(a,b){return a.append("svg:rect").attr("class").string("fill-"+b)};ha.RGCss.prototype={__class__:ha.RGCss};ha.SymbolCache=function(){this.c=new ba;this.r=0};ha.SymbolCache.__name__=["rg","svg","util","SymbolCache"];ha.SymbolCache.cache=null;ha.SymbolCache.prototype={c:null,r:null,get:function(a,b){null==b&&(b=100);var c=a+":"+b,d=this.c.get(c);null==d&&(d=j.field(p.Symbol,a)(b),this.c.set(c,d));return d},__class__:ha.SymbolCache};m={Balloon:function(a,b){null==b&&(b=!0);if(b){for(var c=a.node();null!=
c&&"svg"!=c.nodeName;)c=c.parentNode;this.container=null==c?a:G.selectNode(c)}else this.container=a;this.visible=!0;this.duration=350;this.minwidth=30;this.setPreferredSide(2);this.ease=B.Ease.mode(B.EaseMode.EaseOut,B.Equations.cubic);this.setRoundedCorner(5);this.paddingHorizontal=3.5;this.paddingVertical=1.5;this.transition_id=0;this.balloon=this.container.append("svg:g").attr("pointer-events").string("none").attr("class").string("balloon").attr("transform").string("translate("+(this.x=0)+", "+
(this.y=0)+")");this.frame=this.balloon.append("svg:g").attr("transform").string("translate(0, 0)").attr("class").string("frame");this.frame.append("svg:path").attr("class").string("shadow").attr("transform").string("translate(1, 1)");this.connectorShapeV=p.Diagonal.forObject();this.connectorShapeH=p.Diagonal.forObject().projection(function(a){return[a[1],a[0]]});this.connector=this.balloon.append("svg:path").attr("class").string("balloon-connector").style("fill").string("none").style("display").string("none").attr("transform").string("translate(0, 0)");
this.frame.append("svg:path").attr("class").string("bg");this.labelsContainer=this.frame.append("svg:g").attr("class").string("labels");this.labels=[];c=this.createLabel(0);c.setText("HELLO");this.setLineHeight(c.getSize().height);c.destroy()}};m.Balloon.__name__=["rg","svg","widget","Balloon"];m.Balloon.prototype={text:null,x:null,y:null,boxWidth:null,boxHeight:null,visible:null,lineHeight:null,roundedCorner:null,paddingHorizontal:null,paddingVertical:null,preferredSide:null,minwidth:null,labels:null,
container:null,balloon:null,frame:null,labelsContainer:null,connector:null,duration:null,ease:null,connectorShapeV:null,connectorShapeH:null,boundingBox:null,createLabel:function(a){var b=new m.Label(this.labelsContainer,!0,!1,!1);b.addClass("line-"+a);b.setAnchor(m.GridAnchor.Top);b.setOrientation(m.LabelOrientation.Orthogonal);b.place(0,a*this.lineHeight,90);return b},setPreferredSide:function(a){this.preferredSide=I.clamp(a,0,3);this.redraw();return a},setText:function(a){for(;this.labels.length>
a.length;)this.labels.pop().destroy();for(var b=this.labels.length,c=a.length;b<c;){var d=b++;this.labels[d]=this.createLabel(d)}b=0;for(c=a.length;b<c;)d=b++,this.labels[d].setText(a[d]);this.text=a;this.redraw();return a},setLineHeight:function(a){this.lineHeight=a;this.redraw();return a},setRoundedCorner:function(a){this.roundedCorner=a;this.redraw();return a},setBoundingBox:function(a){this.boundingBox=a;this.redraw();return a},getBoundingBox:function(){if(null==this.boundingBox)try{this.setBoundingBox(this.container.node().getBBox())}catch(a){return{width:0,
height:0,x:0,y:0}}return this.boundingBox},transition_id:null,moveTo:function(a,b,c){null==c&&(c=!0);var d=this;if(c){B.Equations.elasticf();var f=++this.transition_id,e=C.interpolatef(this.x,a,this.ease),h=C.interpolatef(this.y,b,this.ease);fa.timer(function(c){if(f!=d.transition_id)return!0;if(c>d.duration)return d._moveTo(a,b),!0;d._moveTo(e(c/d.duration),h(c/d.duration));return!1},0)}else 0==this.boxWidth?Gb.delay(function(a,b,c){return function(){return a(b,c)}}(this._moveTo.$bind(this),a,b),
15):this._moveTo(a,b)},_moveTo:function(a,b){for(var c=this.getBoundingBox(),d=c.x,f=c.x+c.width,e=c.y,h=c.y+c.height,k=2*this.roundedCorner,i=c=0,l=0,j=0,o=this.preferredSide,n=1;0<n&&5>n;){if(a>=f-k)if(b<=e+k){a-f<e-b?(l=-this.boxWidth+f-a,j=e-b+this.roundedCorner,o=0,c=this.boxWidth-4*this.roundedCorner):(l=-this.boxWidth+f-a-this.roundedCorner,j=e-b,o=1,c=this.roundedCorner);i=1;break}else{if(b>=h-k){a-f<b-h?(l=-this.boxWidth+f-a,j=h-b-this.boxHeight-this.roundedCorner,o=2,c=this.boxWidth-4*this.roundedCorner):
(l=-this.boxWidth+f-a-this.roundedCorner,j=h-b-this.boxHeight,o=1,c=this.boxHeight-3*this.roundedCorner);i=1;break}}else if(a<=d+k)if(b<=e+k){d-a<e-b?(l=d-a,j=e-b+this.roundedCorner,c=o=0):(l=d-a+this.roundedCorner,j=e-b,o=3,c=this.roundedCorner);i=1;break}else if(b>=h-k){d-a<b-h?(l=d-a,j=h-b-this.boxHeight-this.roundedCorner,o=2,c=0):(l=d-a+this.roundedCorner,j=h-b-this.boxHeight,o=3,c=this.boxHeight-3*this.roundedCorner);i=1;break}switch(o){case 0:if(b+this.boxHeight+this.roundedCorner>=h){o=2;
n++;continue}else if(a<=d+k){o=3;n++;continue}else if(a>=f-k){o=1;n++;continue}l=-this.boxWidth/2;j=this.roundedCorner;c=this.boxWidth/2-2*this.roundedCorner;a-this.boxWidth/2<=d?(n=d-a+this.boxWidth/2,c=Math.max(0,c-n),l+=n):a+this.boxWidth/2>=f&&(n=f-a-this.boxWidth/2,c=Math.min(this.boxWidth-3*this.roundedCorner,c-n),l+=n);b<e&&(i=1,j=e-b+this.roundedCorner);break;case 1:if(a-this.boxWidth-this.roundedCorner<=d){o=3;n++;continue}else if(b<=e+k){o=2;n++;continue}else if(b>=h-k){o=0;n++;continue}l=
-this.boxWidth-this.roundedCorner;j=-this.boxHeight/2;c=(this.boxHeight-2*this.roundedCorner)/2;b-this.boxHeight/2<=e?(n=e-b+this.boxHeight/2,c=Math.max(0,c-n),j+=n):b+this.boxHeight/2>=h&&(n=h-b-this.boxHeight/2,c=Math.min(this.boxHeight-3*this.roundedCorner,c-n),j+=n);a>f&&(i=2,l=f-a-this.boxWidth-this.roundedCorner);break;case 2:if(b-this.boxHeight-this.roundedCorner<=e){o=0;n++;continue}else if(a<=d+k){o=3;n++;continue}else if(a>=f-k){o=1;n++;continue}l=-this.boxWidth/2;j=-this.boxHeight-this.roundedCorner;
c=this.boxWidth/2-2*this.roundedCorner;a-this.boxWidth/2<=d?(n=d-a+this.boxWidth/2,c=Math.max(this.roundedCorner,c-n),l+=n):a+this.boxWidth/2>=f&&(n=f-a-this.boxWidth/2,c=Math.min(this.boxWidth-3*this.roundedCorner,c-n),l+=n);b>h&&(i=1,j=h-b-this.boxHeight-this.roundedCorner);break;case 3:if(a+this.boxWidth+this.roundedCorner>=f){o=1;n++;continue}else if(b<=e+k){o=2;n++;continue}else if(b>=h-k){o=0;n++;continue}l=this.roundedCorner;j=-this.boxHeight/2;c=(this.boxHeight-2*this.roundedCorner)/2;b-this.boxHeight/
2<=e?(n=e-b+this.boxHeight/2,c=Math.max(this.roundedCorner,c-n),j+=n):b+this.boxHeight/2>=h&&(n=h-b-this.boxHeight/2,c=Math.min(this.boxHeight-3*this.roundedCorner,c-n),j+=n);a<d&&(i=2,l=d-a+this.roundedCorner)}n=0}d=null;if(0==i)this.connector.style("display").string("none");else switch(this.connector.style("display").string("block"),d={x0:1,y0:1,x1:1,y1:1},o){case 0:d.x1=l+1+c+2*this.roundedCorner;d.y1=j+1-this.roundedCorner;break;case 1:d.y1=l+1+this.boxWidth+this.roundedCorner;d.x1=j+1+c+this.roundedCorner;
break;case 2:d.x1=l+1+c+2*this.roundedCorner;d.y1=j+1+this.boxHeight+this.roundedCorner;break;case 3:d.y1=l+1+-this.roundedCorner,d.x1=j+1+c+this.roundedCorner}this.balloon.attr("transform").string("translate("+(this.x=a)+", "+(this.y=b)+")");this.frame.attr("transform").string("translate("+l+", "+j+")").selectAll("path").attr("d").string(m.BalloonShape.shape(this.boxWidth,this.boxHeight,this.roundedCorner,this.roundedCorner,o,c));0!=i&&this.connector.attr("d").string(0==o%2?this.connectorShapeV.diagonal(d):
this.connectorShapeH.diagonal(d))},redraw:function(){var a=this;if(!(null==this.text||0==this.text.length)){for(var b=this.boxWidth=0,c=0,d=this.labels;c<d.length;)if(b=d[c],++c,(b=Math.ceil(b.getSize().width))>this.boxWidth)this.boxWidth=b;if(0==b){var f=this.text;Gb.delay(function(){a.setText(f)},15)}else this.boxWidth+=2*this.paddingHorizontal,this.boxHeight=this.lineHeight*this.labels.length+2*this.paddingVertical,c=this.frame.selectAll(".bg"),d=c.style("stroke-width").getFloat(),Math.isNaN(d)&&
(d=0),this.labelsContainer.attr("transform").string("translate("+this.boxWidth/2+","+(d+this.paddingVertical)+")"),c.transition().ease(this.ease).delay(null,this.duration)}},__class__:m.Balloon,__properties__:{set_boundingBox:"setBoundingBox",get_boundingBox:"getBoundingBox",set_preferredSide:"setPreferredSide",set_roundedCorner:"setRoundedCorner",set_lineHeight:"setLineHeight",set_text:"setText"}};m.BalloonShape=function(){};m.BalloonShape.__name__=["rg","svg","widget","BalloonShape"];m.BalloonShape.shape=
function(a,b,c,d,f,e){a-=2*c;b-=2*c;d="M"+c+",0";d=0==f?d+("h"+e)+("a"+c+","+c+",0,0,0,"+c+","+-c)+("a"+c+","+c+",0,0,0,"+c+","+c)+("h"+(a-(e+2*c))):d+("h"+a);d+="a"+c+","+c+",0,0,1,"+c+","+c;d=1==f?d+("v"+(e-c))+("a"+c+","+c+",0,0,0,"+c+","+c)+("a"+c+","+c+",0,0,0,"+-c+","+c)+("v"+(b-(e+c))):d+("v"+b);d+="a"+c+","+c+",0,0,1,"+-c+","+c;d=2==f?d+("h"+-(a-(e+2*c)))+("a"+c+","+c+",0,0,0,"+-c+","+c)+("a"+c+","+c+",0,0,0,"+-c+","+-c)+("h"+-e):d+("h"+-a);d+="a"+c+","+c+",0,0,1,"+-c+","+-c;d=3==f?d+("v"+
-(b-(e+c)))+("a"+c+","+c+",0,0,0,"+-c+","+-c)+("a"+c+","+c+",0,0,0,"+c+","+-c)+("v"+-(e-c)):d+("v"+-b);return d+("a"+c+","+c+",0,0,1,"+c+","+-c)+"Z"};m.BalloonShape.prototype={__class__:m.BalloonShape};m.DiagonalArea=function(a,b,c){this.g=a.append("svg:g").attr("class").string("diagonal");this.diagonal=p.Diagonal.forArray().projection(function(a){return[a[1],a[0]]});this.area=this.g.append("svg:path").attr("class").string("diagonal-fill"+(null==b?"":" "+b));this.before=this.g.append("svg:path").attr("class").string("diagonal-stroke before"+
(null==c?"":" "+c));this.after=this.g.append("svg:path").attr("class").string("diagonal-stroke after"+(null==c?"":" "+c))};m.DiagonalArea.__name__=["rg","svg","widget","DiagonalArea"];m.DiagonalArea.prototype={g:null,diagonal:null,area:null,before:null,after:null,addClass:function(a){this.g.classed().add(a)},update:function(a,b,c,d,f,e){var h=this.diagonal.diagonal([b,a,d,c]),a=this.diagonal.diagonal([d+e,c,b+f,a]),b=h+"L"+a.substr(1)+"z";this.before.attr("d").string(h);this.after.attr("d").string(a);
this.area.attr("d").string(b)},__class__:m.DiagonalArea};m.ElbowArea=function(a,b,c){this.g=a.append("svg:g").attr("class").string("elbow");this.area=this.g.append("svg:path").attr("class").string("elbow-fill"+(null==b?"":" "+b));this.outer=this.g.append("svg:path").attr("class").string("elbow-stroke outer"+(null==c?"":" "+c));this.inner=this.g.append("svg:path").attr("class").string("elbow-stroke inner"+(null==c?"":" "+c))};m.ElbowArea.__name__=["rg","svg","widget","ElbowArea"];m.ElbowArea.prototype=
{g:null,area:null,outer:null,inner:null,addClass:function(a){this.g.classed().add(a)},update:function(a,b,c,d,f,e,h,k){null==k&&(k=10);null==h&&(h=0);null==e&&(e=16);null==f&&(f=3);if(0!=b){var i="",l="",j=0>b?Math.max(e,b):Math.min(e,b);switch(a[1]){case 0:i="M"+(h+c+f)+","+(d+f+k)+"L"+(h+c+f)+","+(d+f)+"A"+Math.abs(f)+","+Math.abs(f)+" 0 0,0 "+(h+c)+","+d+"L"+c+","+d;l="M"+c+","+(d-b)+"L"+(h+c)+","+(d-b)+"A"+Math.abs(j)+","+Math.abs(j)+" 0 0,1 "+(h+c+j)+","+(d-b+j)+"L"+(h+c+j)+","+(d+k+f);break;
case 3:this.update(m.Orientation.RightBottom,-b,c,d,-f,-e,-h,-k);return}a=l+"L"+i.substr(1)+"z";this.inner.attr("d").string(i);this.outer.attr("d").string(l);this.area.attr("d").string(a)}},__class__:m.ElbowArea};m.Orientation={__ename__:["rg","svg","widget","Orientation"],__constructs__:"RightBottom,LeftBottom,RightTop,LeftTop,BottomRight,BottomLeft,TopRight,TopLeft".split(",")};m.Orientation.RightBottom=["RightBottom",0];m.Orientation.RightBottom.toString=v;m.Orientation.RightBottom.__enum__=m.Orientation;
m.Orientation.LeftBottom=["LeftBottom",1];m.Orientation.LeftBottom.toString=v;m.Orientation.LeftBottom.__enum__=m.Orientation;m.Orientation.RightTop=["RightTop",2];m.Orientation.RightTop.toString=v;m.Orientation.RightTop.__enum__=m.Orientation;m.Orientation.LeftTop=["LeftTop",3];m.Orientation.LeftTop.toString=v;m.Orientation.LeftTop.__enum__=m.Orientation;m.Orientation.BottomRight=["BottomRight",4];m.Orientation.BottomRight.toString=v;m.Orientation.BottomRight.__enum__=m.Orientation;m.Orientation.BottomLeft=
["BottomLeft",5];m.Orientation.BottomLeft.toString=v;m.Orientation.BottomLeft.__enum__=m.Orientation;m.Orientation.TopRight=["TopRight",6];m.Orientation.TopRight.toString=v;m.Orientation.TopRight.__enum__=m.Orientation;m.Orientation.TopLeft=["TopLeft",7];m.Orientation.TopLeft.toString=v;m.Orientation.TopLeft.__enum__=m.Orientation;m.GridAnchor={__ename__:["rg","svg","widget","GridAnchor"],__constructs__:"TopLeft,Top,TopRight,Left,Center,Right,BottomLeft,Bottom,BottomRight".split(",")};m.GridAnchor.TopLeft=
["TopLeft",0];m.GridAnchor.TopLeft.toString=v;m.GridAnchor.TopLeft.__enum__=m.GridAnchor;m.GridAnchor.Top=["Top",1];m.GridAnchor.Top.toString=v;m.GridAnchor.Top.__enum__=m.GridAnchor;m.GridAnchor.TopRight=["TopRight",2];m.GridAnchor.TopRight.toString=v;m.GridAnchor.TopRight.__enum__=m.GridAnchor;m.GridAnchor.Left=["Left",3];m.GridAnchor.Left.toString=v;m.GridAnchor.Left.__enum__=m.GridAnchor;m.GridAnchor.Center=["Center",4];m.GridAnchor.Center.toString=v;m.GridAnchor.Center.__enum__=m.GridAnchor;
m.GridAnchor.Right=["Right",5];m.GridAnchor.Right.toString=v;m.GridAnchor.Right.__enum__=m.GridAnchor;m.GridAnchor.BottomLeft=["BottomLeft",6];m.GridAnchor.BottomLeft.toString=v;m.GridAnchor.BottomLeft.__enum__=m.GridAnchor;m.GridAnchor.Bottom=["Bottom",7];m.GridAnchor.Bottom.toString=v;m.GridAnchor.Bottom.__enum__=m.GridAnchor;m.GridAnchor.BottomRight=["BottomRight",8];m.GridAnchor.BottomRight.toString=v;m.GridAnchor.BottomRight.__enum__=m.GridAnchor;m.GridAnchors=function(){};m.GridAnchors.__name__=
["rg","svg","widget","GridAnchors"];m.GridAnchors.parse=function(a){switch(a.toLowerCase()){case "topleft":a=m.GridAnchor.TopLeft;break;case "top":a=m.GridAnchor.Top;break;case "topright":a=m.GridAnchor.TopRight;break;case "left":a=m.GridAnchor.Left;break;case "center":a=m.GridAnchor.Center;break;case "right":a=m.GridAnchor.Right;break;case "bottomleft":a=m.GridAnchor.BottomLeft;break;case "bottom":a=m.GridAnchor.Bottom;break;case "bottomright":a=m.GridAnchor.BottomRight;break;default:a=m.GridAnchor.Center}return a};
m.GridAnchors.prototype={__class__:m.GridAnchors};m.HookConnector=function(a,b){this.g=a.append("svg:g").attr("class").string("hook");this.line=this.g.append("svg:path").attr("class").string("hook-stroke line"+(null==b?"":" "+b))};m.HookConnector.__name__=["rg","svg","widget","HookConnector"];m.HookConnector.lineTo=function(a,b){return"L"+a+","+b};m.HookConnector.quarterTo=function(a,b,c){return"A"+Math.abs(c)+","+Math.abs(c)+" 0 0,"+(0>c?0:1)+" "+a+","+b};m.HookConnector.prototype={g:null,line:null,
addClass:function(a){this.g.classed().add(a)},update:function(a,b,c,d,f,e,h){a=this.createPath(a,b,c,d,f,e,h,5,5);this.line.attr("d").string(a)},createPath:function(a,b,c,d,f,e,h,k,i){var l;l="M"+a+","+b+m.HookConnector.lineTo(a+e-k,b);l+=m.HookConnector.quarterTo(a+e,b+i,k);l+=m.HookConnector.lineTo(a+e,f-i);l+=m.HookConnector.quarterTo(a+e-k,f,k);l+=m.HookConnector.lineTo(c-h+k,f);l+=m.HookConnector.quarterTo(c-h,f-i,k);l+=m.HookConnector.lineTo(c-h,d+i);l+=m.HookConnector.quarterTo(c-h+k,d,k);
return l+=m.HookConnector.lineTo(c,d)},__class__:m.HookConnector};m.HookConnectorArea=function(a,b,c){this.g=a.append("svg:g").attr("class").string("hook-area");this.area=this.g.append("svg:path").attr("class").string("hook-area-fill"+(null==b?"":" "+b));this.upper=this.g.append("svg:path").attr("class").string("hook-area-stroke upper"+(null==c?"":" "+c));this.lower=this.g.append("svg:path").attr("class").string("hook-area-stroke lower"+(null==c?"":" "+c))};m.HookConnectorArea.__name__=["rg","svg",
"widget","HookConnectorArea"];m.HookConnectorArea.lineTo=function(a,b){return"L"+a+","+b};m.HookConnectorArea.quarterTo=function(a,b,c){return"A"+Math.abs(c)+","+Math.abs(c)+" 0 0,"+(0>c?0:1)+" "+a+","+b};m.HookConnectorArea.prototype={g:null,area:null,upper:null,lower:null,addClass:function(a){this.g.classed().add(a)},update:function(a,b,c,d,f,e,h,k){var i=Math.min(5,f),l=this.createPath(a,b,c,d,b>e?e:e+f,h+f,k+f,f,f),a=this.createPath(c,d+f,a,b+f,b>e?e-f:e,-k,-h,-i,i);this.upper.attr("d").string(l);
this.lower.attr("d").string(a);this.area.attr("d").string(l+"L"+a.substr(1)+"z")},createPath:function(a,b,c,d,f,e,h,k,i){var l;l="M"+a+","+b+m.HookConnectorArea.lineTo(a+e-k,b);l+=m.HookConnectorArea.quarterTo(a+e,b+i,k);l+=m.HookConnectorArea.lineTo(a+e,f-i);l+=m.HookConnectorArea.quarterTo(a+e-k,f,k);l+=m.HookConnectorArea.lineTo(c-h+k,f);l+=m.HookConnectorArea.quarterTo(c-h,f-i,k);l+=m.HookConnectorArea.lineTo(c-h,d+i);l+=m.HookConnectorArea.quarterTo(c-h+k,d,k);return l+=m.HookConnectorArea.lineTo(c,
d)},__class__:m.HookConnectorArea};m.Label=function(a,b,c,d){null==b&&(b=!0);this.shadow=c;this.outline=d;this.g=a.append("svg:g").attr("class").string("label");if(c)this.gshadow=this.g.append("svg:g").attr("transform").string("translate(0,0)"),this.gshadowrot=this.gshadow.append("svg:g"),this.tshadow=this.gshadowrot.append("svg:text").attr("class").string("shadow"+(d?"":" nooutline"));this.gtext=this.g.append("svg:g");if(d)this.toutline=this.gtext.append("svg:text").attr("class").string("outline"+
(c?"":" noshadow"));a=y.addIf(y.addIf(["text"],!d,"nooutline"),!c,"noshadow");this.ttext=this.gtext.append("svg:text").attr("class").string(a.join(" "));this.dontFlip=b;d?this.setShadowOffset(1,1.25):this.setShadowOffset(0.5,0.5);this.angle=this.y=this.x=0;this.setOrientation(m.LabelOrientation.FixedAngle(0));this.setAnchor(m.GridAnchor.Center);this.visible=!0};m.Label.__name__=["rg","svg","widget","Label"];m.Label.prototype={text:null,orientation:null,anchor:null,x:null,y:null,angle:null,dontFlip:null,
shadowOffsetX:null,shadowOffsetY:null,shadow:null,outline:null,visible:null,g:null,gshadow:null,gtext:null,gshadowrot:null,ttext:null,toutline:null,tshadow:null,show:function(){if(!this.visible)this.visible=!0,this._toggleVisibility()},hide:function(){if(this.visible)this.visible=!1,this._toggleVisibility()},_toggleVisibility:function(){this.g.style("opacity")["float"](this.visible?1:0)},addClass:function(a){this.g.classed().add(a)},getSize:function(){try{return this.g.node().getBBox()}catch(a){return{width:0,
height:0}}},place:function(a,b,c){this.x=Math.isNaN(a)?0:a;this.y=Math.isNaN(b)?0:b;this.angle=c%360;0>this.angle&&(this.angle+=360);this.g.attr("transform").string("translate("+this.x+","+this.y+")");a=this.orientation;switch(a[1]){case 0:c=a[2];this.gtext.attr("transform").string("rotate("+c+")");break;case 1:this.dontFlip&&90<this.angle&&270>this.angle&&(c+=180);this.gtext.attr("transform").string("rotate("+c+")");break;case 2:this.dontFlip&&180<this.angle&&(c-=180),this.gtext.attr("transform").string("rotate("+
(-90+c)+")")}this.shadow&&this.gshadowrot.attr("transform").string(this.gtext.attr("transform").get());this.reanchor()},setShadowOffset:function(a,b){this.shadowOffsetX=a;this.shadowOffsetY=b;this.shadow&&this.gshadow.attr("transform").string("translate("+this.shadowOffsetX+","+this.shadowOffsetY+")")},setText:function(a){this.text=a;this.outline&&this.toutline.text().string(a);this.ttext.text().string(a);this.shadow&&this.tshadow.text().string(a);this.reanchor();return a},setOrientation:function(a){this.orientation=
a;this.place(this.x,this.y,this.angle);return a},setAnchor:function(a){this.anchor=a;this.reanchor();return a},getBB:function(){var a=this.ttext.node(),b=this.ttext.style("font-size").getFloat();if(null==b||0>=b)try{b=a.getExtentOfChar("A").height}catch(c){b=G.selectNode(a).style("height").getFloat()}var d;try{d=a.getComputedTextLength()}catch(f){d=G.selectNode(a).style("width").getFloat()}return{width:d,height:b}},reanchor:function(){if(null!=this.anchor){var a=this.getBB(),b,c,d=this.anchor;if(this.dontFlip)switch(this.orientation[1]){case 1:90<
this.angle&&270>this.angle&&(d=function(){var a;switch(d[1]){case 0:a=m.GridAnchor.BottomRight;break;case 1:a=m.GridAnchor.Bottom;break;case 2:a=m.GridAnchor.BottomLeft;break;case 3:a=m.GridAnchor.Right;break;case 4:a=m.GridAnchor.Center;break;case 5:a=m.GridAnchor.Left;break;case 6:a=m.GridAnchor.TopRight;break;case 7:a=m.GridAnchor.Top;break;case 8:a=m.GridAnchor.TopLeft}return a}(this));break;case 2:180<this.angle&&(d=function(){var a;switch(d[1]){case 0:a=m.GridAnchor.BottomRight;break;case 1:a=
m.GridAnchor.Bottom;break;case 2:a=m.GridAnchor.BottomLeft;break;case 3:a=m.GridAnchor.Right;break;case 4:a=m.GridAnchor.Center;break;case 5:a=m.GridAnchor.Left;break;case 6:a=m.GridAnchor.TopRight;break;case 7:a=m.GridAnchor.Top;break;case 8:a=m.GridAnchor.TopLeft}return a}(this))}switch(d[1]){case 0:b=0;c=a.height;break;case 1:b=-a.width/2;c=a.height;break;case 2:b=-a.width;c=a.height;break;case 3:b=0;c=a.height/2;break;case 4:b=-a.width/2;c=a.height/2;break;case 5:b=-a.width;c=a.height/2;break;
case 6:c=b=0;break;case 7:b=-a.width/2;c=0;break;case 8:b=-a.width,c=0}if(this.outline)this.toutline.attr("x")["float"](b+0.5).attr("y")["float"](c-1.5);this.ttext.attr("x")["float"](b+0.5).attr("y")["float"](c-1.5);if(this.shadow)this.tshadow.attr("x")["float"](b+0.5).attr("y")["float"](c-1.5)}},destroy:function(){this.g.remove()},__class__:m.Label,__properties__:{set_anchor:"setAnchor",set_orientation:"setOrientation",set_text:"setText"}};m.LabelOrientation={__ename__:["rg","svg","widget","LabelOrientation"],
__constructs__:["FixedAngle","Aligned","Orthogonal"]};m.LabelOrientation.FixedAngle=function(a){a=["FixedAngle",0,a];a.__enum__=m.LabelOrientation;a.toString=v;return a};m.LabelOrientation.Aligned=["Aligned",1];m.LabelOrientation.Aligned.toString=v;m.LabelOrientation.Aligned.__enum__=m.LabelOrientation;m.LabelOrientation.Orthogonal=["Orthogonal",2];m.LabelOrientation.Orthogonal.toString=v;m.LabelOrientation.Orthogonal.__enum__=m.LabelOrientation;m.LabelOrientations=function(){};m.LabelOrientations.__name__=
["rg","svg","widget","LabelOrientations"];m.LabelOrientations.parse=function(a){switch(a.toLowerCase()){case "ortho":case "orthogonal":a=m.LabelOrientation.Orthogonal;break;default:a=m.LabelOrientation.Aligned}return a};m.LabelOrientations.prototype={__class__:m.LabelOrientations};m.Map=function(a,b){var c=this;this.g=a.append("svg:g").attr("class").string("map");this.projection=b;this.map=new ba;this.ready=!1;this.onReady=new Rb;this.onReady.addOnce(function(){c.ready=!0})};m.Map.__name__=["rg",
"svg","widget","Map"];m.Map.loadJsonp=function(a,b){yb.get(a,b,null,null,null)};m.Map.loadJsonAjax=function(a,b){var c=new Yc(a);c.onData=function(a){a=W.Json.decode(a);b(a)};c.onError=function(b){throw new x.Error("unable to load JSON file '{0}': {1}",[a,b],null,{fileName:"Map.hx",lineNumber:97,className:"rg.svg.widget.Map",methodName:"loadJsonAjax"});};c.request(!1)};m.Map.prototype={className:null,map:null,onReady:null,click:null,labelDataPoint:null,labelDataPointOver:null,radius:null,colorMode:null,
ready:null,mapping:null,projection:null,g:null,load:function(a,b,c,d){switch(b){case "geojson":this.loadGeoJson(a,c,d);break;default:new x.Error("unsupported geographic format '{0}'",null,b,{fileName:"Map.hx",lineNumber:60,className:"rg.svg.widget.Map",methodName:"load"})}},loadGeoJson:function(a,b,c){var d=this,f=c?m.Map.loadJsonp:m.Map.loadJsonAjax;null==b?f(a,this.draw.$bind(this)):f(b,function(b){d.mapping=b;f(a,d.draw.$bind(d))})},draw:function(a){var b=this,c=null!=this.mapping?function(a){return j.hasField(b.mapping,
a)?j.field(b.mapping,a):a}:function(a){return a},d=new p.PathGeoJson;d.setProjection(this.projection);switch(a.type){case "FeatureCollection":for(var f=0,e=a.features.length;f<e;){var h=f++,h=a.features[h],k=d.centroid(h.geometry),i="Point"==h.geometry.type?this.g.append("svg:circle").attr("cx")["float"](k[0]).attr("cy")["float"](k[1]).attr("r")["float"](5):this.g.append("svg:path").attr("d").string(d.path(h.geometry)),l={};l["#centroid"]=k;l["#data"]=h.properties;null!=h.id&&this.map.set(c(h.id),
{svg:i,dp:l});if(null!=this.labelDataPointOver)i.onNode("mouseover",function(a,b){return function(c,d){return a(b,c,d)}}(this.onMouseOver.$bind(this),l));if(null!=this.click)i.onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(this.onClick.$bind(this),l))}break;case "MultiPoint":case "MultiLineString":case "MultiPolygon":case "GeometryCollection":throw new x.Error("the type '{0}' is not implemented yet",[a.type],null,{fileName:"Map.hx",lineNumber:168,className:"rg.svg.widget.Map",
methodName:"draw"});default:this.g.append("svg:path").attr("d").string(d.path(a))}this.onReady.dispatch()},onMouseOver:function(a,b){this.handlerDataPointOver(b,a,this.labelDataPointOver)},onClick:function(a){this.handlerClick(a,this.click)},handlerDataPointOver:null,handlerClick:null,setClassName:function(a){this.g.attr("class").string("map"+(null==a?"":" "+a));return a},__class__:m.Map,__properties__:{set_className:"setClassName"}};m.Sensible=function(){};m.Sensible.__name__=["rg","svg","widget",
"Sensible"];m.Sensible.sensibleZone=function(a,b,c,d,f){if(!(null==c&&null==d)){var e=a.append("svg:rect").attr("class").string("sensible").attr("x")["float"](0).attr("y")["float"](0).attr("width")["float"](b.frame.width).attr("height")["float"](b.frame.height).attr("fill").string("#000").style("fill-opacity")["float"](0);if(null!=d)e.onNode("mousemove",function(){var b=m.Sensible.findDataNodeNearMouse(a,f);0<b.length?(d(b[0]),null!=c&&e.classed().add("pointer")):null!=c&&e.classed().remove("pointer")});
if(null!=c){if(null==d)e.onNode("mousemove",function(){0<m.Sensible.findDataNodeNearMouse(a,f).length?e.classed().add("pointer"):e.classed().remove("pointer")});e.onNode("click",function(){var b=m.Sensible.findDataNodeNearMouse(a,f);0<b.length&&c(b[0])})}}};m.Sensible.findDataNodeNearMouse=function(a,b){var c=G.event;return m.Sensible.findDataNodesNear({x:c.clientX,y:c.clientY},a,b)};m.Sensible.findDataNodesNear=function(a,b,c){var b=b.selectAll(".rgdata"),d=[],f=c*c;b.eachNode(function(b){var c=
b.getBoundingClientRect(),e=a.x-(c.left+c.width/2),c=a.y-(c.top+c.height/2),e=e*e+c*c;e>f||d.push({node:b,dist:e})});d.sort(function(a,b){return C.compare(a.dist,b.dist)});return d.map(function(a){return a.node})};m.Sensible.prototype={__class__:m.Sensible};xb=void 0;ic=void 0;N=void 0;ga=void 0;jd=void 0;kd=void 0;xa=void 0;pa=void 0;J=void 0;jc=void 0;yb=void 0;zb=void 0;jd=function(a){this.test=zb.decrypt(a)};jd.__name__=["rg","util","Auth"];jd.prototype={test:null,authorize:function(a){return this.test==
a},authorizeMany:function(a){for(var b=!1,c=0;c<a.length;){var d=a[c];++c;if(this.authorize(d)){b=!0;break}}return b},__class__:jd};kd=function(a){this.handler=a;this.actions=[];this.pos=0;this.executor=this.execute.$bind(this)};kd.__name__=["rg","util","ChainedExecutor"];kd.prototype={handler:null,actions:null,pos:null,addAction:function(a){this.actions.push(a)},execute:function(a){if(this.pos==this.actions.length)this.pos=0,this.handler(a);else this.actions[this.pos++](a,this.execute.$bind(this))},
executor:null,__class__:kd};pa=function(){};pa.__name__=["rg","util","DataPoints"];pa.partition=function(a,b,c){null==c&&(c="default");for(var d=new Fb.HashList,f,e=0;e<a.length;){var h=a[e];++e;f=j.field(h,b);f=null==f?c:S.string(f);var k=d.get(f);null==k&&(k=[],d.set(f,k));k.push(h)}return d.array()};pa.filterByIndependents=function(a,b){for(var c=0;c<b.length;){var d=[b[c]];++c;var f=[d[0].axis.range(d[0].min(),d[0].max())],a=y.filter(a,function(a,b){return function(c){c=j.field(c,b[0].type);return null==
c?!1:y.exists(a[0],c)}}(f,d))}return a};pa.filterByDependents=function(a,b){for(var c=0;c<b.length;){var d=[b[c]];++c;a=y.filter(a,function(a){return function(b){return null==j.field(b,a[0].type)?!1:!0}}(d))}return a};pa.value=function(a,b){return j.field(a,b)};pa.valueAlt=function(a,b,c){var d;return null==(d=j.field(a,b))?c:d};pa.values=function(a,b){return y.filter(a.map(function(a){return j.field(a,b)}),function(a){return null!=a})};pa.id=function(a,b){for(var c=ma.clone(a),d=0;d<b.length;){var e=
b[d];++d;j.deleteField(c,e)}return $b.encode(S.string(c))};pa.prototype={__class__:pa};zb=function(){};zb.__name__=["rg","util","Decrypt"];zb.decrypt=function(a){var b=new aa.RSAEncrypt(zb.modulus,zb.publicExponent),a=Hb.Base64.decode(a);try{return b.verify(a).toString()}catch(c){return null}};zb.prototype={__class__:zb};ic=function(){};ic.__name__=["rg","util","Js"];ic.findScript=function(a){var b=D.Lib.document.getElementsByTagName("SCRIPT");if("string"==typeof a)for(var c=0,d=b.length;c<d;){var e=
c++,e=b[e],g=e.getAttribute("src");if(null!=g&&0<=g.indexOf(a))return e}else{c=0;for(d=b.length;c<d;)if(e=c++,e=b[e],g=e.getAttribute("src"),null!=g&&g.match(a))return e}return null};ic.prototype={__class__:ic};yb=function(){};yb.__name__=["rg","util","Jsonp"];yb.get=function(a,b,c,d,e){var g=yb.get_api;g(a,{success:b,failure:c},d,e)};yb.request_api=function(a,b,c,d,e,g){null==e&&(e={});b=xb.addQueryParameters(b,e);null==g&&(g={});var h=d.success,k=null==d.failure?function(){}:d.failure,i="ReportGridChartsJsonpCallback"+
(214748363*Math.random()|0),l=D.Lib.document.head;null==l&&(l=D.Lib.document.getElementsByTagName("head")[0]);D.Lib.window[i]=function(a,b){200==b.status.code?h(a):k(b.status.code,b.status.reason);l.removeChild(D.Lib.document.getElementById(i));D.Lib.window[i]=void 0;try{delete window[i]}catch(c){}};d={};d.method=a;if(0<j.fields(g).length)d.headers=W.Json.encode(g);d.callback=i;if(null!=c)d.content=W.Json.encode(c);a=xb.addQueryParameters(b,d);b=D.Lib.document.createElement("SCRIPT");b.setAttribute("type",
"text/javascript");b.setAttribute("src",a);b.setAttribute("id",i);l.appendChild(b)};yb.get_api=function(a,b,c,d){yb.request_api("GET",a,null,b,c,d)};yb.prototype={__class__:yb};N=function(){};N.__name__=["rg","util","Periodicity"];N.defaultRange=function(a){var b;switch(a){case "eternity":case "single":b=[0,0];break;case "minute":b=N.parsePair("6 hours ago","now");break;case "hour":b=N.parsePair("2 days ago","now");break;case "day":b=N.parsePair("14 days ago","today");break;case "month":b=N.parsePair("6 months ago",
"today");break;case "year":b=N.parsePair("6 years ago","today")}return b};N.unitsBetween=function(a,b,c){var d;switch(c){case "eternity":case "single":d=1;break;case "minute":d=Math.floor((b-a)/6E4);break;case "hour":d=Math.floor((b-a)/36E5);break;case "day":d=Math.floor((b-a)/864E5);break;case "week":d=Math.floor((b-a)/6048E5);break;case "month":c=Date.fromTime(a);d=Date.fromTime(b);b=c.getFullYear();a=d.getFullYear();c=c.getMonth();d=d.getMonth();d=12*(a-b)+(d-c);break;case "year":d=Math.floor(N.unitsBetween(a,
b,"month")/12)}return d};N.units=function(a,b){var c=N.unitsBetween(0,a,b),d;switch(b){case "hour":d=1;break;default:d=0}return c+d};N.range=function(a,b,c){var d=1E3;switch(c){case "eternity":case "single":return[0];case "minute":d=6E4;break;case "hour":d=36E5;break;case "day":d=864E5;break;case "week":d=6048E5;break;case "month":for(var c=N.dateUtc(a),d=N.dateUtc(b),b=c.getFullYear(),a=d.getFullYear(),c=c.getMonth(),d=d.getMonth(),e=[];b<a||b==a&&c<=d;)e.push((new Date(b,c,1,0,0,0)).getTime()),
c++,11<c&&(c=0,b++);return e;case "year":return e=I.range(N.dateUtc(a).getFullYear(),N.dateUtc(b).getFullYear()+1,1).map(function(a){return(new Date(a,0,1,0,0,0)).getTime()})}return C.range(a,b+d,d)};N.format=function(a,b){switch(a){case "eternity":return"all time";case "single":return"period";case "minute":return n.FormatDate.timeShort(Date.fromTime(b));case "hour":return n.FormatDate.hourShort(Date.fromTime(b));case "day":case "week":return n.FormatDate.dateShort(Date.fromTime(b));case "month":return n.FormatDate.yearMonth(Date.fromTime(b));
case "year":return n.FormatDate.year(Date.fromTime(b));default:return a+": "+b}};N.smartFormat=function(a,b){switch(a){case "eternity":case "single":return"all time";case "minute":return N.firstInSeries("hour",b)?n.FormatDate.timeShort(Date.fromTime(b)):n.FormatDate.format("%i",Date.fromTime(b));case "hour":return N.firstInSeries("day",b)?n.FormatDate.format("%b %e",N.dateUtc(b)):n.FormatDate.hourShort(Date.fromTime(b));case "day":return N.firstInSeries("month",b)?n.FormatDate.format("%b %e",N.dateUtc(b)):
n.FormatDate.format("%e",N.dateUtc(b));case "week":var c=N.dateUtc(b);return 7>=c.getDate()?n.FormatDate.format("%b %e",c):n.FormatDate.format("%e",c);case "month":return N.firstInSeries("year",b)?n.FormatDate.year(N.dateUtc(b)):n.FormatDate.format("%b",N.dateUtc(b));case "year":return n.FormatDate.year(N.dateUtc(b));default:return a+": "+Date.fromTime(b)}};N.firstInSeries=function(a,b){return function(c){switch(a){case "eternity":case "single":c=0==b;break;case "minute":c=0==b%6E4;break;case "hour":c=
0==b%36E5;break;case "day":c=function(){var a=Date.fromTime(b);return 0==a.getHours()&&0==a.getMinutes()&&0==a.getSeconds()}(c);break;case "week":c=0==Date.fromTime(b).getDay();break;case "month":c=1==Date.fromTime(b).getDate();break;case "year":c=function(){var a=Date.fromTime(b);return 1==a.getDate()&&0==a.getMonth()}(c);break;default:c=!1}return c}(this)};N.parsePair=function(a,b){return[q.DateParser.parse(a).getTime(),q.DateParser.parse(b).getTime()]};N.timezoneOffset=function(a){return a.getTimezoneOffset()};
N.dateUtc=function(a){var b=Date.fromTime(a).getTimezoneOffset();0>b&&(b=0);return Date.fromTime(a+6E4*b)};N.isValidGroupBy=function(a){return y.exists(N.validGroupValues,a)};N.prototype={__class__:N};xa=function(){};xa.__name__=["rg","util","Properties"];xa.isTime=function(a){return 0<=a.indexOf("time:")};xa.periodicity=function(a){return a.substr(a.indexOf("time:")+5)};xa.humanize=function(a){return ga.humanize(a)};xa.formatValue=function(a,b){var c=j.field(b,a);if(null==c)return c;if(0<=a.indexOf("time:")){var d=
a.substr(a.indexOf("time:")+5);return N.format(d,sa.snap(c,d))}return ga.humanize(c)};xa.prototype={__class__:xa};jc=function(){};jc.__name__=["rg","util","RG"];jc.getTokenId=function(){return ReportGrid.$?F.rtrim(F.ltrim(ReportGrid.$.Config.tokenId,'"'),'"'):null};jc.prototype={__class__:jc};J=function(){};J.__name__=["rg","util","RGColors"];J.parse=function(a,b){try{var c=e.Colors.parse(a);if(null!=c)return c}catch(d){}return e.Colors.parse(b)};J.applyLightness=function(a,b,c){null==c&&(c=1/Math.abs(b));
return 0<=b?e.Hsl.lighter(a,(1-c)*(1+b)):e.Hsl.darker(a,(1-c)*(1-b))};J.extractColor=function(a){return a.__rgcolor__};J.storeColor=function(a,b){a.__rgcolor__=b};J.storeColorForSelection=function(a,b,c){null==b&&(b="fill");a.eachNode(function(a){var e=null==c?G.selectNode(ea.current).style(b).get():c;J.storeColor(a,e)})};J.prototype={__class__:J};ga=function(){};ga.__name__=["rg","util","RGStrings"];ga.humanize=function(a){if(i.is(a,Sb))return I.format(a);if(i.is(a,X))return C.format(a);a=i.string(a);
if(ga.range.match(a)){var a=ga.range.matched(1),b=ga.range.matched(2),a=null!=a?I.canParse(a)?I.format(I.parse(a)):C.format(C.parse(a)):"",b=null!=b?I.canParse(b)?I.format(I.parse(b)):C.format(C.parse(b)):"";return ga.hstring(ga.range.matchedLeft())+a+"-"+b+ga.hstring(ga.range.matchedRight())}return ga.hstring(a)};ga.hstring=function(a){return F.ucwords(F.humanize(a))};ga.prototype={__class__:ga};xb=function(){};xb.__name__=["rg","util","Urls"];xb.addQueryParameters=function(a,b){for(var c=0>a.indexOf("?")?
"?":"&",d=[],e=0,g=j.fields(b);e<g.length;){var h=g[e];++e;var k=i.string(j.field(b,h));d.push(h+"="+E.urlEncode(k))}return 0==d.length?a:a+c+d.join("&")};xb.parseQueryParameters=function(a){var b=a.indexOf("?");if(0>b)return{};for(var a=a.substr(b+1).split("&"),b={},c=0;c<a.length;){var d=a[c];++c;var e=d.split("="),d=e[0],e=null==e[1]?null:E.urlDecode(e[1]);b[d]=e}return b};xb.prototype={__class__:xb};Lb=function(a){this.container=a};zc=void 0;Ac=void 0;Y=void 0;Bc=void 0;Cc=void 0;Dc=void 0;Ec=
void 0;Fc=void 0;Gc=void 0;bb=void 0;Hc=void 0;Ic=void 0;ua=void 0;Ca=void 0;lb=void 0;Lb.__name__=["rg","visualization","Visualization"];Lb.prototype={independentVariables:null,dependentVariables:null,variables:null,container:null,ready:null,hasRendered:null,setVariables:function(a,b,c){var d=this;this.variables=a;this.independentVariables=b;this.dependentVariables=c;this.hasRendered=!1;this.ready=new Rb;this.ready.addOnce(function(){d.hasRendered=!0})},init:function(){throw new x.AbstractMethod({fileName:"Visualization.hx",
lineNumber:43,className:"rg.visualization.Visualization",methodName:"init"});},feedData:function(){},destroy:function(){},addReadyOnce:function(a){this.ready.addOnce(a);this.hasRendered&&a()},addReady:function(a){this.ready.add(a);this.hasRendered&&a()},__class__:Lb};ua=function(a){Lb.call(this,a.container);this.layout=a};ua.__name__=["rg","visualization","VisualizationSvg"];ua.__super__=Lb;ua.prototype=w(Lb.prototype,{baseChart:null,layout:null,__class__:ua});Ca=function(a){ua.call(this,a)};Ca.__name__=
["rg","visualization","VisualizationCartesian"];Ca.__super__=ua;Ca.prototype=w(ua.prototype,{info:null,chart:null,xlabel:null,xrule:null,ylabels:null,yrules:null,title:null,xvariable:null,yvariables:null,init:function(){this.initAxes();this.initYAxes();this.initXAxis();this.initTitle();this.initPadding();this.initChart();this.initCartesianChart()},initAxes:function(){throw new x.AbstractMethod({fileName:"VisualizationCartesian.hx",lineNumber:46,className:"rg.visualization.VisualizationCartesian",
methodName:"initAxes"});},initPadding:function(){this.layout.adjustPadding()},initYAxes:function(){this.ylabels=[];this.yrules=[];for(var a=0,b=this.yvariables.length;a<b;){var c=a++,d=this.createTickmarks(c+1,this.yvariables[c].type,"y"+c),e=this.createRules(c+1,this.yvariables[c].type,ta.Horizontal);null!=d&&this.ylabels.push({id:c,tickmarks:d});null!=e&&this.yrules.push({id:c,rules:e})}},initXAxis:function(){this.xlabel=this.createTickmarks(0,this.xvariable.type,"x");this.xrule=this.createRules(0,
this.xvariable.type,ta.Vertical)},initChart:function(){throw new x.AbstractMethod({fileName:"VisualizationCartesian.hx",lineNumber:88,className:"rg.visualization.VisualizationCartesian",methodName:"initChart"});},initCartesianChart:function(){this.chart.animated=this.info.animation.animated;this.chart.animationDuration=this.info.animation.duration;this.chart.animationEase=this.info.animation.ease;this.chart.click=this.info.click;this.chart.labelDataPoint=this.info.label.datapoint;this.chart.labelDataPointOver=
this.info.label.datapointover;this.chart.init()},initTitle:function(){if(null!=this.info.label.title){var a=this.layout.getContext("title");if(null!=a)this.title=new wa.Title(a.panel,null,a.anchor)}},feedData:function(a){if(0!=a.length){null!=this.title&&null!=this.info.label.title&&(this.title.setText(this.info.label.title(this.variables,a)),this.layout.suggestSize("title",this.title.idealHeight()));a=this.transformData(a);this.chart.setVariables(this.variables,this.independentVariables,this.dependentVariables,
a);for(var b=0,c=this.ylabels.length;b<c;){var d=b++,d=this.ylabels[d],e=this.yvariables[d.id];d.tickmarks.update(e.axis,e.min(),e.max());e=Math.round(d.tickmarks.desiredSize);this.layout.suggestSize("y"+d.id,e)}b=0;for(c=this.yrules.length;b<c;)d=b++,d=this.yrules[d],e=this.yvariables[d.id],d.rules.update(e.axis,e.min(),e.max());if(null!=this.xlabel)e=this.xvariable,this.xlabel.update(e.axis,e.min(),e.max()),e=Math.round(this.xlabel.desiredSize),this.layout.suggestSize("x",e);if(null!=this.xrule)e=
this.xvariable,this.xrule.update(e.axis,e.min(),e.max());this.chart.data(a)}},transformData:function(){throw new x.AbstractMethod({fileName:"VisualizationCartesian.hx",lineNumber:163,className:"rg.visualization.VisualizationCartesian",methodName:"transformData"});},destroy:function(){this.chart.destroy()},setTickmarksDefaults:function(){},createTickmarks:function(a,b,c){var d=this,e=this.info.displayMinorTick(b),g=this.info.displayMajorTick(b),h=this.info.displayLabelTick(b),k=this.info.displayAnchorLineTick(b),
i=null!=this.info.label.axis?this.info.label.axis(b):null,l=null,j;if(e||g||h||k){j=this.layout.getContext(c);if(null==j)return null;l=new wa.TickmarksOrtho(j.panel,j.anchor);this.setTickmarksDefaults(l,a,b,c);if(h){if(null!=this.info.label.tickmark)l.tickLabel=function(a){return d.info.label.tickmark(a,b)}}else l.displayLabel=!1;l.displayMinor=e;l.displayMajor=g;l.lengthMinor=this.info.lengthTickMinor;l.lengthMajor=this.info.lengthTickMajor;l.paddingMinor=this.info.paddingTickMinor;l.paddingMajor=
this.info.paddingTickMajor;l.paddingLabel=this.info.paddingLabel;a=this.info.labelAnchor(b);if(null!=a)l.labelAnchor=m.GridAnchors.parse(a);a=this.info.labelOrientation(b);if(null!=a)l.labelOrientation=m.LabelOrientations.parse(a);if(null!=(a=this.info.labelAngle(b)))l.labelAngle=a;l.displayAnchorLine=k}if(null!=i&&null!=(j=this.layout.getContext(c+"title")))k=(new wa.Title(j.panel,i,j.anchor,null,"axis-title")).idealHeight(),this.layout.suggestSize(c+"title",k);null!=l&&l.init();return l},createRules:function(a,
b,c){var a=this.info.displayMinorRule(b),d=this.info.displayMajorRule(b),e=this.info.displayAnchorLineRule(b);null!=this.info.label.axis&&this.info.label.axis(b);b=null;if(a||d){b=this.layout.getPanel("main");if(null==b)return null;b=new wa.RulesOrtho(b,c);b.displayMinor=a;b.displayMajor=d;b.displayAnchorLine=e;b.init()}return b},__class__:Ca});Bc=function(a){Ca.call(this,a)};Bc.__name__=["rg","visualization","VisualizationBarChart"];Bc.__super__=Ca;Bc.prototype=w(Ca.prototype,{infoBar:null,initAxes:function(){this.infoBar.horizontal?
(this.xvariable=this.dependentVariables.map(function(a){return a})[0],this.yvariables=[this.independentVariables[0]]):(this.yvariables=this.dependentVariables.map(function(a){return a}),this.xvariable=this.independentVariables[0])},initChart:function(){var a=this,b=new o.BarChart(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.stacked=this.infoBar.stacked;var c=this.infoBar.effect;switch(c[1]){case 0:b.displayGradient=!1;break;case 1:c=
c[2],b.displayGradient=!0,b.gradientLightness=c}b.padding=this.infoBar.barPadding;b.paddingAxis=this.infoBar.barPaddingAxis;b.paddingDataPoint=this.infoBar.barPaddingDataPoint;b.horizontal=this.infoBar.horizontal;this.chart=b},transformData:function(a){var b=[],c=this.independentVariables[0],d=c.axis.range(c.min(),c.max());if(0<=c.type.indexOf("time:"))for(var e=xa.periodicity(c.type),g=0;g<d.length;){var h=[d[g]];++g;for(var k=[],i=0,l=this.dependentVariables.length;i<l;){var m=i++,m=pa.filterByDependents(a,
[this.dependentVariables[m]]);k.push(y.filter(m,function(a){return function(b){return sa.snap(j.field(b,c.type),e)==a[0]}}(h)))}b.push(k)}else for(g=0;g<d.length;){h=[d[g]];++g;k=[];i=0;for(l=this.dependentVariables.length;i<l;)m=i++,m=pa.filterByDependents(a,[this.dependentVariables[m]]),k.push(y.filter(m,function(a){return function(b){return j.field(b,c.type)==a[0]}}(h)));b.push(k)}if(null!=this.infoBar.segment.on){var n=this.infoBar.segment.on,o=new Fb.Set;a.forEach(function(a){o.add(j.field(a,
n))});l=0;for(g=d.length;l<g;){m=l++;a=0;for(i=this.dependentVariables.length;a<i;){for(var h=a++,k=b[m][h],p=[],q=0,r=o.iterator();r.hasNext();){var s=r.next();if(s==j.field(k[q],n))p.push(k[q++]);else{var v={};v[n]=s;v[c.type]=d[m];v[this.dependentVariables[h].type]=0;p.push(v)}}b[m][h]=p}}}return b},__class__:Bc});Cc=function(a){ua.call(this,a)};Cc.__name__=["rg","visualization","VisualizationFunnelChart"];Cc.__super__=ua;Cc.prototype=w(ua.prototype,{info:null,title:null,chart:null,init:function(){var a=
this,b=this.layout.getPanel(this.layout.mainPanelName);this.baseChart=this.chart=new o.FunnelChart(b);this.chart.ready.add(function(){a.ready.dispatch()});if(null!=this.info.label.datapoint)this.chart.labelDataPoint=this.info.label.datapoint;if(null!=this.info.label.datapoint)this.chart.labelDataPointOver=this.info.label.datapointover;if(null!=this.info.label.arrow)this.chart.labelArrow=this.info.label.arrow;if(null!=this.info.click)this.chart.click=this.info.click;this.chart.padding=this.info.padding;
this.chart.flatness=this.info.flatness;b=this.info.effect;switch(b[1]){case 1:b=b[2];this.chart.displayGradient=!0;this.chart.gradientLightness=b;break;case 0:this.chart.displayGradient=!1}this.chart.arrowSize=this.info.arrowSize;if(null!=this.info.label.title&&(b=this.layout.getContext("title"),null!=b))this.title=new wa.Title(b.panel,null,b.anchor)},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);a=pa.filterByIndependents(pa.filterByDependents(a,this.dependentVariables),
this.independentVariables);null!=this.info.sortDataPoint&&a.sort(this.info.sortDataPoint);null!=this.title&&(null!=this.info.label.title?(this.title.setText(this.info.label.title(this.variables,a)),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));null!=this.info.sortDataPoint&&a.sort(this.info.sortDataPoint);this.chart.init();this.chart.data(a)},destroy:function(){this.chart.destroy();null!=this.title&&this.title.destroy();ua.prototype.destroy.call(this)},
__class__:Cc});Dc=function(a){ua.call(this,a)};Dc.__name__=["rg","visualization","VisualizationGeo"];Dc.__super__=ua;Dc.prototype=w(ua.prototype,{info:null,title:null,chart:null,init:function(){var a=this;if(null!=this.info.label.title){var b=this.layout.getContext("title");if(null==b)return;this.title=new wa.Title(b.panel,null,b.anchor)}b=this.layout.getPanel(this.layout.mainPanelName);this.baseChart=this.chart=new o.Geo(b);this.chart.ready.add(function(){a.ready.dispatch()});for(var b=new od,c=
0,d=this.info.map;c<d.length;){var e=d[c];++c;var g=b.create(e),g=new m.Map(this.chart.mapcontainer,g);g.setClassName(e.classname);g.labelDataPoint=null==e.label?this.info.label.datapoint:e.label.datapoint;g.labelDataPointOver=null==e.label?this.info.label.datapointover:e.label.datapointover;g.click=e.click;g.radius=e.radius;g.colorMode=e.colorScaleMode;g.handlerClick=(ia=this.chart,ia.handlerClick.$bind(ia));g.handlerDataPointOver=(ia=this.chart,ia.handlerDataPointOver.$bind(ia));g.mapping=e.mapping;
var h=e.mappingurl;if(null!=h&&(!E.startsWith(h,"http://")||!E.startsWith(h,"https://")))h=ab.BASE_URL_GEOJSON+h+".json"+(e.usejsonp?".js":"");g.load(e.url,e.type,h,e.usejsonp);this.chart.addMap(g,e.property)}},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables,a);null!=this.title&&(null!=this.info.label.title?(this.title.setText(this.info.label.title(this.variables,a)),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",
0));this.chart.init();this.chart.data(a)},destroy:function(){this.chart.destroy();null!=this.title&&this.title.destroy();ua.prototype.destroy.call(this)},__class__:Dc});Ec=function(a){Ca.call(this,a)};Ec.__name__=["rg","visualization","VisualizationHeatGrid"];Ec.__super__=Ca;Ec.prototype=w(Ca.prototype,{infoHeatGrid:null,initAxes:function(){this.xvariable=this.independentVariables[0];this.yvariables=[this.independentVariables[1]]},initChart:function(){var a=this,b=new o.HeatGrid(this.layout.getPanel(this.layout.mainPanelName));
this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.useContour=this.infoHeatGrid.contour;b.setColorMode(this.infoHeatGrid.colorScaleMode);this.chart=b},transformData:function(a){return a},setTickmarksDefaults:function(a,b){if(0==b)a.labelAnchor=m.GridAnchor.Left,a.labelAngle=180},__class__:Ec});lb=function(a){Lb.call(this,a);a.classed().add("rg")};lb.__name__=["rg","visualization","VisualizationHtml"];lb.__super__=Lb;lb.prototype=w(Lb.prototype,{__class__:lb});Ac=function(a){lb.call(this,
a)};Ac.__name__=["rg","visualization","VisualizationLeaderboard"];Ac.__super__=lb;Ac.prototype=w(lb.prototype,{info:null,chart:null,init:function(){var a=this;this.chart=new Ta.Leadeboard(this.container);this.chart.ready.add(function(){a.ready.dispatch()});if(null!=this.info.label.datapoint)this.chart.labelDataPoint=this.info.label.datapoint;if(null!=this.info.label.datapointover)this.chart.labelDataPointOver=this.info.label.datapointover;if(null!=this.info.label.rank)this.chart.labelRank=this.info.label.rank;
if(null!=this.info.label.value)this.chart.labelValue=this.info.label.value;this.chart.animated=this.info.animation.animated;this.chart.animationDuration=this.info.animation.duration;this.chart.animationDelay=this.info.animation.delay;this.chart.animationEase=this.info.animation.ease;this.chart.useMax=this.info.usemax;this.chart.displayBar=this.info.displaybar;this.chart.colorScale=this.info.colorscale;if(null!=this.info.click)this.chart.click=this.info.click;if(null!=this.info.sortDataPoint)this.chart.sortDataPoint=
this.info.sortDataPoint;this.chart.init()},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);this.chart.data(a)},__class__:Ac});Fc=function(a){Ca.call(this,a)};Fc.__name__=["rg","visualization","VisualizationLineChart"];Fc.__super__=Ca;Fc.prototype=w(Ca.prototype,{infoLine:null,initAxes:function(){this.xvariable=this.variables[0];this.yvariables=this.variables.slice(1)},initChart:function(){var a=this,b=new o.LineChart(this.layout.getPanel(this.layout.mainPanelName));
this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.symbol=this.infoLine.symbol;b.symbolStyle=this.infoLine.symbolStyle;b.lineInterpolator=this.infoLine.interpolation;b.lineEffect=this.infoLine.effect;b.sensibleRadius=this.infoLine.sensibleradius;if(null==this.independentVariables[0].scaleDistribution)this.independentVariables[0].scaleDistribution=za.ScaleFill;if(null!=this.infoLine.y0property)b.y0property=this.infoLine.y0property;else if(this.infoLine.displayarea)b.y0property="";this.chart=
b},transformData:function(a){for(var b=[],c=new lc(this.infoLine.segment.on,this.infoLine.segment.transform,this.infoLine.segment.scale),d=0,e=this.dependentVariables.length;d<e;){var g=this.dependentVariables[d++],g=pa.filterByDependents(a,[g]);b.push(c.segment(g))}return b},__class__:Fc});Gc=function(a){ua.call(this,a)};Gc.__name__=["rg","visualization","VisualizationPieChart"];Gc.__super__=ua;Gc.prototype=w(ua.prototype,{chart:null,title:null,info:null,init:function(){var a=this,b=this.layout.getPanel(this.layout.mainPanelName);
this.baseChart=this.chart=new o.PieChart(b);this.chart.ready.add(function(){a.ready.dispatch()});this.chart.innerRadius=this.info.innerradius;this.chart.outerRadius=this.info.outerradius;this.chart.overRadius=this.info.overradius;this.chart.tooltipRadius=this.info.tooltipradius;b=this.info.effect;switch(b[1]){case 1:b=b[2];this.chart.displayGradient=!0;this.chart.gradientLightness=b;break;case 0:this.chart.displayGradient=!1}this.chart.labelDataPoint=this.info.label.datapoint;this.chart.labelDataPointOver=
this.info.label.datapointover;this.chart.labelRadius=this.info.labelradius;this.chart.labelOrientation=this.info.labelorientation;this.chart.labelDontFlip=this.info.dontfliplabel;this.chart.animated=this.info.animation.animated;this.chart.animationDuration=this.info.animation.duration;this.chart.animationEase=this.info.animation.ease;this.chart.animationDelay=this.info.animation.delay;if(null!=this.info.click)this.chart.mouseClick=this.info.click;if(null!=this.info.label.title&&(b=this.layout.getContext("title"),
null!=b))this.title=new wa.Title(b.panel,null,b.anchor)},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);null!=this.title&&(null!=this.info.label.title?(this.title.setText(this.info.label.title(this.variables,a)),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));null!=this.info.sortDataPoint&&a.sort(this.info.sortDataPoint);this.chart.init();this.chart.data(a)},destroy:function(){this.chart.destroy();null!=
this.title&&this.title.destroy();ua.prototype.destroy.call(this)},__class__:Gc});zc=function(a){lb.call(this,a)};zc.__name__=["rg","visualization","VisualizationPivotTable"];zc.__super__=lb;zc.prototype=w(lb.prototype,{info:null,chart:null,init:function(){var a=this;this.chart=new Ta.PivotTable(this.container);this.chart.ready.add(function(){a.ready.dispatch()});this.chart.displayColumnTotal=this.info.displayColumnTotal;this.chart.displayHeatMap=this.info.displayHeatmap;this.chart.displayRowTotal=
this.info.displayRowTotal;this.chart.colorStart=this.info.heatmapColorStart;this.chart.colorEnd=this.info.heatmapColorEnd;this.chart.cellclass=this.info.cellclass;this.chart.valueclass=this.info.valueclass;this.chart.headerclass=this.info.headerclass;this.chart.totalclass=this.info.totalclass;if(null!=this.info.click)this.chart.click=this.info.click;if(null!=this.info.label.datapoint)this.chart.labelDataPoint=this.info.label.datapoint;if(null!=this.info.label.datapointover)this.chart.labelDataPointOver=
this.info.label.datapointover;if(null!=this.info.label.axis)this.chart.labelAxis=this.info.label.axis;if(null!=this.info.label.axisvalue)this.chart.labelAxisValue=this.info.label.axisvalue;if(null!=this.info.label.total)this.chart.labelTotal=this.info.label.total;if(null!=this.info.label.totalover)this.chart.labelTotalOver=this.info.label.totalover;this.chart.incolumns=I.min(this.info.columnAxes,this.independentVariables.length);this.chart.init()},feedData:function(a){this.chart.setVariables(this.independentVariables,
this.dependentVariables);this.chart.data(a)},destroy:function(){this.chart.destroy()},__class__:zc});bb=function(a){ua.call(this,a)};bb.__name__=["rg","visualization","VisualizationSankey"];bb.defaultIdf=function(a){return null==a?function(a){return a.id}:a};bb.defaultNodef=function(a){if(null==a){var b=0;return function(a){return{id:"#"+ ++b,weight:a.weight,entry:0,exit:0}}}return a};bb.defaultEdgesf=function(a,b){return null==b?function(b){for(var d=[],e=a(b),g=0,h=j.fields(b.parents);g<h.length;){var k=
h[g];++g;d.push({head:e,tail:k,weight:j.field(b.parents,k)})}return d}:b};bb.__super__=ua;bb.prototype=w(ua.prototype,{info:null,title:null,chart:null,init:function(){var a=this;if(null!=this.info.label.title){var b=this.layout.getContext("title");if(null==b)return;this.title=new wa.Title(b.panel,null,b.anchor)}b=this.layout.getPanel(this.layout.mainPanelName);this.baseChart=this.chart=new o.Sankey(b);this.chart.ready.add(function(){a.ready.dispatch()})},feedData:function(a){this.chart.setVariables(this.independentVariables,
this.dependentVariables,a);null!=this.title&&(null!=this.info.label.title?(this.title.setText(this.info.label.title(this.variables,a)),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));a=null!=this.info.layoutmap?this.layoutDataWithMap(a,this.info.layoutmap):this.layoutData(a,this.info.layoutmethod);if(null!=this.info.layerWidth)this.chart.layerWidth=this.info.layerWidth;if(null!=this.info.nodeSpacing)this.chart.nodeSpacing=this.info.nodeSpacing;if(null!=
this.info.dummySpacing)this.chart.dummySpacing=this.info.dummySpacing;if(null!=this.info.extraWidth)this.chart.extraWidth=this.info.extraWidth;if(null!=this.info.backEdgeSpacing)this.chart.backEdgeSpacing=this.info.backEdgeSpacing;if(null!=this.info.extraHeight)this.chart.extraHeight=this.info.extraHeight;if(null!=this.info.extraRadius)this.chart.extraRadius=this.info.extraRadius;if(null!=this.info.imageWidth)this.chart.imageWidth=this.info.imageWidth;if(null!=this.info.imageHeight)this.chart.imageHeight=
this.info.imageHeight;if(null!=this.info.imageSpacing)this.chart.imageSpacing=this.info.imageSpacing;if(null!=this.info.labelNodeSpacing)this.chart.labelNodeSpacing=this.info.labelNodeSpacing;this.chart.stackbackedges=this.info.stackbackedges;this.chart.thinbackedges=this.info.thinbackedges;this.chart.labelDataPoint=this.info.label.datapoint;this.chart.labelDataPointOver=this.info.label.datapointover;this.chart.labelNode=this.info.label.node;this.chart.labelEdge=this.info.label.edge;this.chart.labelEdgeOver=
this.info.label.edgeover;this.chart.imagePath=this.info.imagePath;this.chart.click=this.info.click;this.chart.clickEdge=this.info.clickEdge;this.chart.nodeClass=this.info.nodeclass;this.chart.edgeClass=this.info.edgeclass;this.chart.displayEntry=this.info.displayentry;this.chart.displayExit=this.info.displayexit;this.chart.init();this.chart.data(a)},layoutDataWithMap:function(a,b,c,d,e){var g=this.createGraph(a,c,d,e);b.layers.map(function(a){return a.map(function(a){var b=g.nodes.getById(a);null==
b&&(b=g.nodes.create({id:a,weight:0,entry:0,exit:0,dp:{id:a}}));return b.id})});a=0;for(c=b.dummies;a<c.length;){d=c[a];++a;for(var h=g.nodes.getById(d[0]),e=g.nodes.getById(d[d.length-1]),k=[h],h=h.connectedBy(e),i=null==h?0:h.weight,l=1,j=d.length-1;l<j;){var m=l++;k.push(g.nodes.create({id:d[m],weight:i,entry:0,exit:0,dp:null}))}k.push(e);l=0;for(j=k.length-1;l<j;)m=l++,g.edges.create(k[m],k[m+1],i);null!=h&&h.graph.edges._remove(h)}b=b.layers.map(function(a){return a.map(function(a){var b=g.nodes.getById(a);
null==b&&(b=g.nodes.create({id:a,weight:0,entry:0,exit:0,dp:{id:a}}));return b.id})});return new s.GraphLayout(g,b)},createGraph:function(a,b,c,d){b=bb.defaultIdf(b);bb.defaultEdgesf(b,d);for(var c=this.defaultWeightf(c),d=new s.Graph(b),e=this.extractNodes(a),a=this.extractEdges(a),g=0;g<e.length;){var h=e[g];++g;d.nodes.create({dp:h,id:b(h),weight:c(h),entry:0,exit:0})}for(g=0;g<a.length;){b=a[g];++g;var e=d.nodes.getById(b.head),k=d.nodes.getById(b.tail);if(null==e){var h={id:b.head},i=c(b);h[this.dependentVariables[0].type]=
i;e=d.nodes.create({dp:h,id:b.head,weight:i,entry:0,exit:0})}null==k&&(h={id:b.tail},i=c(b),h[this.dependentVariables[0].type]=i,k=d.nodes.create({dp:h,id:b.tail,weight:i,entry:0,exit:0}));d.edges.create(k,e,c(b))}for(c=d.nodes.collection.iterator();c.hasNext();){a=c.next();g=a.negativeWeight();h=a.positiveWeight();if(0==a.data.weight)a.data.weight=g;a.data.entry=Math.max(0,a.data.weight-g);a.data.exit=Math.max(0,a.data.weight-h)}return d},extractNodes:function(a){var b=y.filter(a,function(a){return null!=
a.id});if(0==b.length){var c=this.dependentVariables[0].type,d=new ba,e=function(a,b,c){if(null!=a){var e=d.get(a);null==e&&(e={node:{id:a},positive:0,negative:0},d.set(a,e));b?e.positive+=c:e.negative+=c}};y.filter(a,function(a){return j.hasField(a,"head")||j.hasField(a,"tail")}).forEach(function(a){var b=j.field(a,c);e(a.tail,!0,b);e(a.head,!1,b)});b=M.array(d.iterator()).map(function(a){var b=a.node;b[c]=Math.max(a.positive,a.negative);return b})}return b},extractEdges:function(a){return y.filter(a,
function(a){return null!=a.head&&null!=a.tail})},layoutData:function(a,b,c,d,e,g){a=this.createGraph(a,c,e,g);d=bb.defaultNodef(d);switch(b){case "weightbalance":return this.weightBalance(a,d);default:return this.sugiyama(a,d)}},weightBalance:function(a,b){var c=new s.GraphLayout(a,(new s.HeaviestNodeLayer).lay(a)),c=(new s.EdgeSplitter).split(c,[],b);return c=s.GreedySwitchDecrosser.best().decross(c)},sugiyama:function(a,b){return(new s.SugiyamaMethod).resolve(a,b)},defaultWeightf:function(a){if(null==
a){var b=this.dependentVariables[0].type;return function(a){a=j.field(a,b);return null!=a?a:0}}return a},destroy:function(){this.chart.destroy();null!=this.title&&this.title.destroy();ua.prototype.destroy.call(this)},__class__:bb});Hc=function(a){Ca.call(this,a)};Hc.__name__=["rg","visualization","VisualizationScatterGraph"];Hc.__super__=Ca;Hc.prototype=w(Ca.prototype,{infoScatter:null,initAxes:function(){this.xvariable=this.independentVariables[0];this.yvariables=this.dependentVariables.map(function(a){return a})},
initChart:function(){var a=this,b=new o.ScatterGraph(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.symbol=this.infoScatter.symbol;b.symbolStyle=this.infoScatter.symbolStyle;if(null==this.independentVariables[0].scaleDistribution)this.independentVariables[0].scaleDistribution=za.ScaleFill;this.chart=b},transformData:function(a){var b=[];new lc(this.infoScatter.segment.on,this.infoScatter.segment.transform,this.infoScatter.segment.scale);
for(var c=0,d=this.dependentVariables;c<d.length;){var e=d[c];++c;b.push(pa.filterByDependents(a,[e]))}return b},__class__:Hc});Ic=function(a){Ca.call(this,a)};Ic.__name__=["rg","visualization","VisualizationStreamGraph"];Ic.__super__=Ca;Ic.prototype=w(Ca.prototype,{infoStream:null,initAxes:function(){this.xvariable=this.independentVariables[0];this.yvariables=this.dependentVariables.map(function(a){return a})},initChart:function(){var a=this,b=new o.StreamGraph(this.layout.getPanel(this.layout.mainPanelName));
this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.interpolator=this.infoStream.interpolation;var c=this.infoStream.effect;switch(c[1]){case 0:b.gradientStyle=0;break;case 2:c=c[2];b.gradientStyle=1;b.gradientLightness=c;break;case 1:c=c[2],b.gradientStyle=2,b.gradientLightness=c}this.chart=b},transformData:function(a){return(new lc(this.infoStream.segment.on,this.infoStream.segment.transform,this.infoStream.segment.scale)).segment(a)},__class__:Ic});Y=function(){};Y.__name__=["rg","visualization",
"Visualizations"];Y.layoutDefault=null;Y.layoutType=null;Y.layoutArgs=null;Y.instantiateLayout=function(a,b,c,d){return A.createInstance(Y.layoutType.get(a),[b,c,d])};Y.prototype={__class__:Y};Fb={HashList:function(){this.length=0;this.__keys=[];this.__hash=new ba}};Fb.HashList.__name__=["thx","collection","HashList"];Fb.HashList.prototype={length:null,set:function(a,b){this.__hash.exists(a)||(this.__keys.push(a),this.length++);this.__hash.set(a,b)},get:function(a){return this.__hash.get(a)},array:function(){for(var a=
[],b=0,c=this.__keys;b<c.length;){var d=c[b];++b;a.push(this.__hash.get(d))}return a},__keys:null,__hash:null,__class__:Fb.HashList};Fb.Set=function(){this._v=[];this.length=0};Fb.Set.__name__=["thx","collection","Set"];Fb.Set.prototype={length:null,_v:null,add:function(a){this._v.remove(a);this._v.push(a);this.length=this._v.length},iterator:function(){return this._v.iterator()},__class__:Fb.Set};e.Cmyk=function(a,b,c,d){e.Rgb.call(this,I.interpolate(C.normalize(1-a-d),0,255,null),I.interpolate(C.normalize(1-
b-d),0,255,null),I.interpolate(C.normalize(1-c-d),0,255,null));this.cyan=C.normalize(a);this.magenta=C.normalize(b);this.yellow=C.normalize(c);this.black=C.normalize(d)};e.Cmyk.__name__=["thx","color","Cmyk"];e.Cmyk.__super__=e.Rgb;e.Cmyk.prototype=w(e.Rgb.prototype,{black:null,cyan:null,magenta:null,yellow:null,__class__:e.Cmyk});e.Colors=function(){};e.Colors.__name__=["thx","color","Colors"];e.Colors.parse=function(a){if(!e.Colors._reParse.match(a=E.trim(a.toLowerCase()))){var b=e.NamedColors.byName.get(a);
return null==b?"transparent"==a?e.Rgb.fromInt(16777215):null:b}a=e.Colors._reParse.matched(1);if(!F.empty(a))switch(b=e.Colors._reParse.matched(2).split(","),a){case "rgb":case "rgba":return new e.Rgb(e.Colors._c(b[0]),e.Colors._c(b[1]),e.Colors._c(b[2]));case "hsl":return new e.Hsl(e.Colors._d(b[0]),e.Colors._p(b[1]),e.Colors._p(b[2]));case "cmyk":return new e.Cmyk(e.Colors._p(b[0]),e.Colors._p(b[1]),e.Colors._p(b[2]),e.Colors._p(b[3]))}a=e.Colors._reParse.matched(3);if(3==a.length)a=a.split("").map(function(a){return a+
a}).join("");else if(6!=a.length)return null;return e.Rgb.fromInt(i.parseInt("0x"+a))};e.Colors._c=function(a){return i.parseInt(E.trim(a))};e.Colors._d=function(a){a=E.trim(a);"deg"==a.substr(-3)?a=a.substr(0,-3):"\u00ba"==a.substr(-1)&&(a=a.substr(0,-1));return i.parseFloat(a)};e.Colors._p=function(a){a=E.trim(a);return"%"==a.substr(-1)?i.parseFloat(a.substr(0,-1))/100:i.parseFloat(a)};e.Colors.prototype={__class__:e.Colors};e.Grey=function(a){this.grey=C.normalize(a);a=I.interpolate(this.grey,
0,255,null);e.Rgb.call(this,a,a,a)};e.Grey.__name__=["thx","color","Grey"];e.Grey.toGrey=function(a,b){if(null==b)b=e.PerceivedLuminance.Perceived;switch(b[1]){case 0:return new e.Grey(0.2126*(a.red/255)+0.7152*(a.green/255)+0.0722*(a.blue/255));case 1:return new e.Grey(0.299*(a.red/255)+0.587*(a.green/255)+0.114*(a.blue/255));case 2:return new e.Grey(Math.sqrt(0.241*Math.pow(a.red/255,2)+0.691*Math.pow(a.green/255,2)+0.068*Math.pow(a.blue/255,2)))}};e.Grey.__super__=e.Rgb;e.Grey.prototype=w(e.Rgb.prototype,
{grey:null,__class__:e.Grey});e.PerceivedLuminance={__ename__:["thx","color","PerceivedLuminance"],__constructs__:["Standard","Perceived","PerceivedAccurate"]};e.PerceivedLuminance.Standard=["Standard",0];e.PerceivedLuminance.Standard.toString=v;e.PerceivedLuminance.Standard.__enum__=e.PerceivedLuminance;e.PerceivedLuminance.Perceived=["Perceived",1];e.PerceivedLuminance.Perceived.toString=v;e.PerceivedLuminance.Perceived.__enum__=e.PerceivedLuminance;e.PerceivedLuminance.PerceivedAccurate=["PerceivedAccurate",
2];e.PerceivedLuminance.PerceivedAccurate.toString=v;e.PerceivedLuminance.PerceivedAccurate.__enum__=e.PerceivedLuminance;e.NamedColors=function(){};e.NamedColors.__name__=["thx","color","NamedColors"];e.NamedColors.aliceblue=null;e.NamedColors.antiquewhite=null;e.NamedColors.aqua=null;e.NamedColors.aquamarine=null;e.NamedColors.azure=null;e.NamedColors.beige=null;e.NamedColors.bisque=null;e.NamedColors.black=null;e.NamedColors.blanchedalmond=null;e.NamedColors.blue=null;e.NamedColors.blueviolet=
null;e.NamedColors.brown=null;e.NamedColors.burlywood=null;e.NamedColors.cadetblue=null;e.NamedColors.chartreuse=null;e.NamedColors.chocolate=null;e.NamedColors.coral=null;e.NamedColors.cornflowerblue=null;e.NamedColors.cornsilk=null;e.NamedColors.crimson=null;e.NamedColors.cyan=null;e.NamedColors.darkblue=null;e.NamedColors.darkcyan=null;e.NamedColors.darkgoldenrod=null;e.NamedColors.darkgray=null;e.NamedColors.darkgreen=null;e.NamedColors.darkgrey=null;e.NamedColors.darkkhaki=null;e.NamedColors.darkmagenta=
null;e.NamedColors.darkolivegreen=null;e.NamedColors.darkorange=null;e.NamedColors.darkorchid=null;e.NamedColors.darkred=null;e.NamedColors.darksalmon=null;e.NamedColors.darkseagreen=null;e.NamedColors.darkslateblue=null;e.NamedColors.darkslategray=null;e.NamedColors.darkslategrey=null;e.NamedColors.darkturquoise=null;e.NamedColors.darkviolet=null;e.NamedColors.deeppink=null;e.NamedColors.deepskyblue=null;e.NamedColors.dimgray=null;e.NamedColors.dimgrey=null;e.NamedColors.dodgerblue=null;e.NamedColors.firebrick=
null;e.NamedColors.floralwhite=null;e.NamedColors.forestgreen=null;e.NamedColors.fuchsia=null;e.NamedColors.gainsboro=null;e.NamedColors.ghostwhite=null;e.NamedColors.gold=null;e.NamedColors.goldenrod=null;e.NamedColors.gray=null;e.NamedColors.green=null;e.NamedColors.greenyellow=null;e.NamedColors.grey=null;e.NamedColors.honeydew=null;e.NamedColors.hotpink=null;e.NamedColors.indianred=null;e.NamedColors.indigo=null;e.NamedColors.ivory=null;e.NamedColors.khaki=null;e.NamedColors.lavender=null;e.NamedColors.lavenderblush=
null;e.NamedColors.lawngreen=null;e.NamedColors.lemonchiffon=null;e.NamedColors.lightblue=null;e.NamedColors.lightcoral=null;e.NamedColors.lightcyan=null;e.NamedColors.lightgoldenrodyellow=null;e.NamedColors.lightgray=null;e.NamedColors.lightgreen=null;e.NamedColors.lightgrey=null;e.NamedColors.lightpink=null;e.NamedColors.lightsalmon=null;e.NamedColors.lightseagreen=null;e.NamedColors.lightskyblue=null;e.NamedColors.lightslategray=null;e.NamedColors.lightslategrey=null;e.NamedColors.lightsteelblue=
null;e.NamedColors.lightyellow=null;e.NamedColors.lime=null;e.NamedColors.limegreen=null;e.NamedColors.linen=null;e.NamedColors.magenta=null;e.NamedColors.maroon=null;e.NamedColors.mediumaquamarine=null;e.NamedColors.mediumblue=null;e.NamedColors.mediumorchid=null;e.NamedColors.mediumpurple=null;e.NamedColors.mediumseagreen=null;e.NamedColors.mediumslateblue=null;e.NamedColors.mediumspringgreen=null;e.NamedColors.mediumturquoise=null;e.NamedColors.mediumvioletred=null;e.NamedColors.midnightblue=null;
e.NamedColors.mintcream=null;e.NamedColors.mistyrose=null;e.NamedColors.moccasin=null;e.NamedColors.navajowhite=null;e.NamedColors.navy=null;e.NamedColors.oldlace=null;e.NamedColors.olive=null;e.NamedColors.olivedrab=null;e.NamedColors.orange=null;e.NamedColors.orangered=null;e.NamedColors.orchid=null;e.NamedColors.palegoldenrod=null;e.NamedColors.palegreen=null;e.NamedColors.paleturquoise=null;e.NamedColors.palevioletred=null;e.NamedColors.papayawhip=null;e.NamedColors.peachpuff=null;e.NamedColors.peru=
null;e.NamedColors.pink=null;e.NamedColors.plum=null;e.NamedColors.powderblue=null;e.NamedColors.purple=null;e.NamedColors.red=null;e.NamedColors.rosybrown=null;e.NamedColors.royalblue=null;e.NamedColors.saddlebrown=null;e.NamedColors.salmon=null;e.NamedColors.sandybrown=null;e.NamedColors.seagreen=null;e.NamedColors.seashell=null;e.NamedColors.sienna=null;e.NamedColors.silver=null;e.NamedColors.skyblue=null;e.NamedColors.slateblue=null;e.NamedColors.slategray=null;e.NamedColors.slategrey=null;e.NamedColors.snow=
null;e.NamedColors.springgreen=null;e.NamedColors.steelblue=null;e.NamedColors.tan=null;e.NamedColors.teal=null;e.NamedColors.thistle=null;e.NamedColors.tomato=null;e.NamedColors.turquoise=null;e.NamedColors.violet=null;e.NamedColors.wheat=null;e.NamedColors.white=null;e.NamedColors.whitesmoke=null;e.NamedColors.yellow=null;e.NamedColors.yellowgreen=null;e.NamedColors.byName=null;e.NamedColors.prototype={__class__:e.NamedColors};n={Info:function(){}};n.Info.__name__=["thx","culture","Info"];n.Info.prototype=
{name:null,"native":null,english:null,iso2:null,iso3:null,pluralRule:null,__class__:n.Info};n.Culture=function(){};n.Culture.__name__=["thx","culture","Culture"];n.Culture.__properties__={set_defaultCulture:"setDefaultCulture",get_defaultCulture:"getDefaultCulture",get_cultures:"getCultures"};n.Culture.cultures=null;n.Culture.getCultures=function(){if(null==n.Culture.cultures)n.Culture.cultures=new ba;return n.Culture.cultures};n.Culture._defaultCulture=null;n.Culture.defaultCulture=null;n.Culture.getDefaultCulture=
function(){return null==n.Culture._defaultCulture?Ga.EnUS.getCulture():n.Culture._defaultCulture};n.Culture.setDefaultCulture=function(a){return n.Culture._defaultCulture=a};n.Culture.add=function(a){if(null==n.Culture._defaultCulture)n.Culture._defaultCulture=a;var b=a.name.toLowerCase();n.Culture.getCultures().exists(b)||n.Culture.getCultures().set(b,a)};n.Culture.__super__=n.Info;n.Culture.prototype=w(n.Info.prototype,{language:null,date:null,englishCurrency:null,nativeCurrency:null,currencySymbol:null,
currencyIso:null,englishRegion:null,nativeRegion:null,isMetric:null,digits:null,signNeg:null,signPos:null,symbolNaN:null,symbolPercent:null,symbolPermille:null,symbolNegInf:null,symbolPosInf:null,number:null,currency:null,percent:null,__class__:n.Culture});n.FormatDate=function(){};n.FormatDate.__name__=["thx","culture","FormatDate"];n.FormatDate.format=function(a,b,c,d){null==d&&(d=!0);null==c&&(c=n.Culture.getDefaultCulture());for(var e=0,g=a.length,h=new Ob,k=c.date;e<g;){var i=a.charAt(e);if("%"!=
i)h.b[h.b.length]=null==i?"null":i;else switch(e++,i=a.charAt(e),i){case "a":h.add(k.abbrDays[b.getDay()]);break;case "A":h.add(k.days[b.getDay()]);break;case "b":case "h":h.add(k.abbrMonths[b.getMonth()]);break;case "B":h.add(k.months[b.getMonth()]);break;case "c":h.add(n.FormatDate.dateTime(b,c));break;case "C":h.add(n.FormatNumber.digits(""+Math.floor(b.getFullYear()/100),c));break;case "d":h.add(n.FormatNumber.digits(E.lpad(""+b.getDate(),"0",2),c));break;case "D":h.add(n.FormatDate.format("%m/%d/%y",
b,c));break;case "e":h.add(n.FormatNumber.digits(d?E.lpad(""+b.getDate()," ",2):""+b.getDate(),c));break;case "f":h.add(n.FormatNumber.digits(d?E.lpad(""+(b.getMonth()+1)," ",2):""+(b.getMonth()+1),c));break;case "G":throw"Not Implemented Yet";case "g":throw"Not Implemented Yet";case "H":h.add(n.FormatNumber.digits(E.lpad(""+b.getHours(),"0",2),c));break;case "i":h.add(n.FormatNumber.digits(d?E.lpad(""+b.getMinutes()," ",2):""+b.getMinutes(),c));break;case "I":h.add(n.FormatNumber.digits(E.lpad(""+
n.FormatDate.getMHours(b),"0",2),c));break;case "j":throw"Not Implemented Yet";case "k":h.add(n.FormatNumber.digits(d?E.lpad(""+b.getHours()," ",2):""+b.getHours(),c));break;case "l":h.add(n.FormatNumber.digits(d?E.lpad(""+n.FormatDate.getMHours(b)," ",2):""+n.FormatDate.getMHours(b),c));break;case "m":h.add(n.FormatNumber.digits(E.lpad(""+(b.getMonth()+1),"0",2),c));break;case "M":h.add(n.FormatNumber.digits(E.lpad(""+b.getMinutes(),"0",2),c));break;case "n":h.b[h.b.length]="\n";break;case "p":h.add(11<
b.getHours()?k.pm:k.am);break;case "P":h.add((11<b.getHours()?k.pm:k.am).toLowerCase());break;case "q":h.add(n.FormatNumber.digits(d?E.lpad(""+b.getSeconds()," ",2):""+b.getSeconds(),c));break;case "r":h.add(n.FormatDate.format("%I:%M:%S %p",b,c));break;case "R":h.add(n.FormatDate.format("%H:%M",b,c));break;case "s":h.add(""+(b.getTime()/1E3|0));break;case "S":h.add(n.FormatNumber.digits(E.lpad(""+b.getSeconds(),"0",2),c));break;case "t":h.b[h.b.length]="\t";break;case "T":h.add(n.FormatDate.format("%H:%M:%S",
b,c));break;case "u":i=b.getDay();h.add(n.FormatNumber.digits(0==i?"7":""+i,c));break;case "U":throw"Not Implemented Yet";case "V":throw"Not Implemented Yet";case "w":h.add(n.FormatNumber.digits(""+b.getDay(),c));break;case "W":throw"Not Implemented Yet";case "x":h.add(n.FormatDate.date(b,c));break;case "X":h.add(n.FormatDate.time(b,c));break;case "y":h.add(n.FormatNumber.digits((""+b.getFullYear()).substr(-2),c));break;case "Y":h.add(n.FormatNumber.digits(""+b.getFullYear(),c));break;case "z":h.b[h.b.length]=
"+0000";break;case "Z":h.b[h.b.length]="GMT";break;case "%":h.b[h.b.length]="%";break;default:h.add("%"+i)}e++}return h.b.join("")};n.FormatDate.getMHours=function(a){a=a.getHours();return 12<a?a-12:a};n.FormatDate.yearMonth=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatDate.format(b.date.patternYearMonth,a,b,!1)};n.FormatDate.monthDay=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatDate.format(b.date.patternMonthDay,a,b,!1)};n.FormatDate.date=function(a,
b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatDate.format(b.date.patternDate,a,b,!1)};n.FormatDate.dateShort=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatDate.format(b.date.patternDateShort,a,b,!1)};n.FormatDate.dateRfc=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatDate.format(b.date.patternDateRfc,a,b,!1)};n.FormatDate.dateTime=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatDate.format(b.date.patternDateTime,
a,b,!1)};n.FormatDate.universal=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatDate.format(b.date.patternUniversal,a,b,!1)};n.FormatDate.sortable=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatDate.format(b.date.patternSortable,a,b,!1)};n.FormatDate.time=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatDate.format(b.date.patternTime,a,b,!1)};n.FormatDate.timeShort=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatDate.format(b.date.patternTimeShort,
a,b,!1)};n.FormatDate.hourShort=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return null==b.date.am?n.FormatDate.format("%H",a,b,!1):n.FormatDate.format("%l %p",a,b,!1)};n.FormatDate.year=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatNumber.digits(""+a.getFullYear(),b)};n.FormatDate.month=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatNumber.digits(""+(a.getMonth()+1),b)};n.FormatDate.monthName=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());
return b.date.abbrMonths[a.getMonth()]};n.FormatDate.monthNameShort=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return b.date.months[a.getMonth()]};n.FormatDate.weekDay=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatNumber.digits(""+(a.getDay()+b.date.firstWeekDay),b)};n.FormatDate.weekDayName=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return b.date.abbrDays[a.getDay()]};n.FormatDate.weekDayNameShort=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());
return b.date.days[a.getDay()]};n.FormatDate.prototype={__class__:n.FormatDate};n.FormatNumber=function(){};n.FormatNumber.__name__=["thx","culture","FormatNumber"];n.FormatNumber.decimal=function(a,b,c){null==c&&(c=n.Culture.getDefaultCulture());return n.FormatNumber.crunch(a,b,c.percent,c.number.patternNegative,c.number.patternPositive,c,null,null)};n.FormatNumber.percent=function(a,b,c){null==c&&(c=n.Culture.getDefaultCulture());return n.FormatNumber.crunch(a,b,c.percent,c.percent.patternNegative,
c.percent.patternPositive,c,"%",c.symbolPercent)};n.FormatNumber.permille=function(a,b,c){null==c&&(c=n.Culture.getDefaultCulture());return n.FormatNumber.crunch(a,b,c.percent,c.percent.patternNegative,c.percent.patternPositive,c,"%",c.symbolPermille)};n.FormatNumber.currency=function(a,b,c,d){null==d&&(d=n.Culture.getDefaultCulture());return n.FormatNumber.crunch(a,c,d.currency,d.currency.patternNegative,d.currency.patternPositive,d,"$",null==b?d.currencySymbol:b)};n.FormatNumber["int"]=function(a,
b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatNumber.decimal(a,0,b)};n.FormatNumber.digits=function(a,b){null==b&&(b=n.Culture.getDefaultCulture());return n.FormatNumber.processDigits(a,b.digits)};n.FormatNumber.crunch=function(a,b,c,d,e,g,h,k){if(Math.isNaN(a))return g.symbolNaN;if(!Math.isFinite(a))return a==Math.NEGATIVE_INFINITY?g.symbolNegInf:g.symbolPosInf;b=n.FormatNumber.value(a,c,null==b?c.decimals:0>b?0:b,g.digits);return null!=h?E.replace(E.replace(0>a?d:e,"n",b),h,k):E.replace(0>
a?d:e,"n",b)};n.FormatNumber.processDigits=function(a,b){if(null==b)return a;for(var c=[],d=0,e=a.length;d<e;){var g=d++;c.push(b[i.parseInt(a.substr(g,1))])}return c.join("")};n.FormatNumber.value=function(a,b,c,d){var e=""+Math.abs(a),g=e.indexOf("E");if(0<g){var a=i.parseInt(e.substr(g+1)),h=!0;0>a&&(h=!1,a=-a);e=E.replace(e.substr(0,g),".","");e=h?E.rpad(e,"0",a+1):"0"+E.rpad(".","0",a)+e}a=e.split(".");h=a[0];e=[];for(g=0;!(0==h.length);){var k=b.groups[g];if(h.length<=k){e.unshift(n.FormatNumber.processDigits(h,
d));break}e.unshift(n.FormatNumber.processDigits(h.substr(-k),d));h=h.substr(0,-k);g<b.groups.length-1&&g++}h=e.join(b.groupsSeparator);return 0<c?(c=1==a.length?E.lpad("","0",c):a[1].length>c?a[1].substr(0,c):E.rpad(a[1],"0",c),h+b.decimalsSeparator+n.FormatNumber.processDigits(c,d)):h};n.FormatNumber.prototype={__class__:n.FormatNumber};n.FormatParams=function(){};n.FormatParams.__name__=["thx","culture","FormatParams"];n.FormatParams.cleanQuotes=function(a){if(1>=a.length)return a;var b=a.substr(0,
1);return('"'==b||"'"==b)&&a.substr(-1)==b?a.substr(1,a.length-2):a};n.FormatParams.params=function(a,b,c){if(null!=b&&null!=a)return[a].concat(b);if((null==b||0==b.length)&&null==a)return[c];return null==b||0==b.length?(a=a.split(":"),[a[0]].concat(1==a.length?[]:a[1].split(",").map(function(a,b){return 0==b?a:n.FormatParams.cleanQuotes(a)}))):b};n.FormatParams.prototype={__class__:n.FormatParams};n.Language=function(){};n.Language.__name__=["thx","culture","Language"];n.Language.__properties__=
{get_languages:"getLanguages"};n.Language.languages=null;n.Language.getLanguages=function(){if(null==n.Language.languages)n.Language.languages=new ba;return n.Language.languages};n.Language.add=function(a){n.Language.getLanguages().exists(a.iso2)||n.Language.getLanguages().set(a.iso2,a)};n.Language.__super__=n.Info;n.Language.prototype=w(n.Info.prototype,{__class__:n.Language});n.core={};n.core.DateTimeInfo=function(a,b,c,d,e,g,h,k,i,l,j,m,n,o,p,q,r,s,v,w){this.months=a;this.abbrMonths=b;this.days=
c;this.abbrDays=d;this.shortDays=e;this.am=g;this.pm=h;this.separatorDate=k;this.separatorTime=i;this.firstWeekDay=l;this.patternYearMonth=j;this.patternMonthDay=m;this.patternDate=n;this.patternDateShort=o;this.patternDateRfc=p;this.patternDateTime=q;this.patternUniversal=r;this.patternSortable=s;this.patternTime=v;this.patternTimeShort=w};n.core.DateTimeInfo.__name__=["thx","culture","core","DateTimeInfo"];n.core.DateTimeInfo.prototype={months:null,abbrMonths:null,days:null,abbrDays:null,shortDays:null,
am:null,pm:null,separatorDate:null,separatorTime:null,firstWeekDay:null,patternYearMonth:null,patternMonthDay:null,patternDate:null,patternDateShort:null,patternDateRfc:null,patternDateTime:null,patternUniversal:null,patternSortable:null,patternTime:null,patternTimeShort:null,__class__:n.core.DateTimeInfo};n.core.NumberInfo=function(a,b,c,d,e,g){this.decimals=a;this.decimalsSeparator=b;this.groups=c;this.groupsSeparator=d;this.patternNegative=e;this.patternPositive=g};n.core.NumberInfo.__name__=["thx",
"culture","core","NumberInfo"];n.core.NumberInfo.prototype={decimals:null,decimalsSeparator:null,groups:null,groupsSeparator:null,patternNegative:null,patternPositive:null,__class__:n.core.NumberInfo};Va={En:function(){this.name="en";this.english="English";this["native"]="English";this.iso2="en";this.iso3="eng";this.pluralRule=1;n.Language.add(this)}};Va.En.__name__=["thx","languages","En"];Va.En.__properties__={get_language:"getLanguage"};Va.En.language=null;Va.En.getLanguage=function(){if(null==
Va.En.language)Va.En.language=new Va.En;return Va.En.language};Va.En.__super__=n.Language;Va.En.prototype=w(n.Language.prototype,{__class__:Va.En});Ga={EnUS:function(){this.language=Va.En.getLanguage();this.name="en-US";this.english="English (United States)";this["native"]="English (United States)";this.date=new n.core.DateTimeInfo("January,February,March,April,May,June,July,August,September,October,November,December,".split(","),"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,".split(","),"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),"Su,Mo,Tu,We,Th,Fr,Sa".split(","),"AM","PM","/",":",0,"%B, %Y","%B %d","%A, %B %d, %Y","%f/%e/%Y","%a, %d %b %Y %H:%M:%S GMT","%A, %B %d, %Y %l:%M:%S %p","%Y-%m-%d %H:%M:%SZ","%Y-%m-%dT%H:%M:%S","%l:%M:%S %p","%l:%M %p");this.symbolNaN="NaN";this.symbolPercent="%";this.symbolPermille="\u2030";this.signNeg="-";this.signPos="+";this.symbolNegInf="-Infinity";this.symbolPosInf="Infinity";this.number=new n.core.NumberInfo(2,".",[3],",","-n","n");this.currency=new n.core.NumberInfo(2,
".",[3],",","($n)","$n");this.percent=new n.core.NumberInfo(2,".",[3],",","-n %","n %");this.pluralRule=1;this.nativeCurrency=this.englishCurrency="US Dollar";this.currencySymbol="$";this.currencyIso="USD";this.nativeRegion=this.englishRegion="United States";this.iso2="US";this.iso3="USA";this.isMetric=!1;n.Culture.add(this)}};Ga.EnUS.__name__=["thx","cultures","EnUS"];Ga.EnUS.__properties__={get_culture:"getCulture"};Ga.EnUS.culture=null;Ga.EnUS.getCulture=function(){if(null==Ga.EnUS.culture)Ga.EnUS.culture=
new Ga.EnUS;return Ga.EnUS.culture};Ga.EnUS.__super__=n.Culture;Ga.EnUS.prototype=w(n.Culture.prototype,{__class__:Ga.EnUS});La={IDataHandler:function(){}};La.IDataHandler.__name__=["thx","data","IDataHandler"];La.IDataHandler.prototype={start:null,end:null,objectStart:null,objectFieldStart:null,objectFieldEnd:null,objectEnd:null,arrayStart:null,arrayItemStart:null,arrayItemEnd:null,arrayEnd:null,valueDate:null,valueString:null,valueInt:null,valueFloat:null,valueNull:null,valueBool:null,comment:null,
__class__:La.IDataHandler};La.ValueEncoder=function(a){this.handler=a};La.ValueEncoder.__name__=["thx","data","ValueEncoder"];La.ValueEncoder.prototype={handler:null,encode:function(a){this.handler.start();this.encodeValue(a);this.handler.end()},encodeValue:function(a){var b=A["typeof"](a);switch(b[1]){case 0:this.handler.valueNull();break;case 1:this.handler.valueInt(a);break;case 2:this.handler.valueFloat(a);break;case 3:this.handler.valueBool(a);break;case 4:this.encodeObject(a);break;case 5:throw new x.Error("unable to encode TFunction type",
null,null,{fileName:"ValueEncoder.hx",lineNumber:39,className:"thx.data.ValueEncoder",methodName:"encodeValue"});case 6:b=b[2];if(i.is(a,String))this.handler.valueString(a);else if(i.is(a,Array))this.encodeArray(a);else if(i.is(a,Date))this.handler.valueDate(a);else if(i.is(a,ba))this.encodeHash(a);else if(i.is(a,Hd))this.encodeList(a);else throw new x.Error("unable to encode class '{0}'",null,A.getClassName(b),{fileName:"ValueEncoder.hx",lineNumber:53,className:"thx.data.ValueEncoder",methodName:"encodeValue"});
break;case 7:throw new x.Error("unable to encode TEnum type '{0}'",null,A.getEnumName(b[2]),{fileName:"ValueEncoder.hx",lineNumber:55,className:"thx.data.ValueEncoder",methodName:"encodeValue"});case 8:throw new x.Error("unable to encode TUnknown type",null,null,{fileName:"ValueEncoder.hx",lineNumber:57,className:"thx.data.ValueEncoder",methodName:"encodeValue"});}},encodeObject:function(a){this.handler.objectStart();for(var b=0,c=j.fields(a);b<c.length;){var d=c[b];++b;this.handler.objectFieldStart(d);
this.encodeValue(j.field(a,d));this.handler.objectFieldEnd()}this.handler.objectEnd()},encodeHash:function(a){this.handler.objectStart();for(var b=a.keys();b.hasNext();){var c=b.next();this.handler.objectFieldStart(c);this.encodeValue(a.get(c));this.handler.objectFieldEnd()}this.handler.objectEnd()},encodeList:function(a){this.handler.arrayStart();for(a=a.iterator();a.hasNext();){var b=a.next();this.handler.arrayItemStart();this.encodeValue(b);this.handler.arrayItemEnd()}this.handler.arrayEnd()},
encodeArray:function(a){this.handler.arrayStart();for(var b=0;b<a.length;){var c=a[b];++b;this.handler.arrayItemStart();this.encodeValue(c);this.handler.arrayItemEnd()}this.handler.arrayEnd()},__class__:La.ValueEncoder};La.ValueHandler=function(){};La.ValueHandler.__name__=["thx","data","ValueHandler"];La.ValueHandler.__interfaces__=[La.IDataHandler];La.ValueHandler.prototype={value:null,_stack:null,_names:null,start:function(){this._stack=[];this._names=[]},end:function(){this.value=this._stack.pop()},
objectStart:function(){this._stack.push({})},objectEnd:function(){},objectFieldStart:function(a){this._names.push(a)},objectFieldEnd:function(){var a=this._stack.pop();y.last(this._stack)[this._names.pop()]=a},arrayStart:function(){this._stack.push([])},arrayEnd:function(){},arrayItemStart:function(){},arrayItemEnd:function(){var a=this._stack.pop();y.last(this._stack).push(a)},valueDate:function(a){this._stack.push(a)},valueString:function(a){this._stack.push(a)},valueInt:function(a){this._stack.push(a)},
valueFloat:function(a){this._stack.push(a)},valueNull:function(){this._stack.push(null)},valueBool:function(a){this._stack.push(a)},comment:function(){},__class__:La.ValueHandler};q={DateParser:function(){}};q.DateParser.__name__=["thx","date","DateParser"];q.DateParser.parse=function(a,b){var c=q.DateParser.parseTime(a),d;null==b&&(b=Date.now());null!=c.matched&&(a=E.replace(a,c.matched,""));var e=0,g=0,h=0,k=null!=c.matched;if(q.DateParser.dateexp.match(a))if(k=!0,a=E.replace(a,q.DateParser.dateexp.matched(0),
""),null!=(d=q.DateParser.dateexp.matched(1)))h=i.parseInt(q.DateParser.dateexp.matched(2)),g=q.DateParser.months.indexOf(d.toLowerCase()),e=null!=(d=q.DateParser.dateexp.matched(3))?q.DateParser.fixyear(i.parseInt(d)):b.getFullYear();else if(null!=(d=q.DateParser.dateexp.matched(4)))h=i.parseInt(q.DateParser.dateexp.matched(5)),g=q.DateParser.shortmonths.indexOf(d.toLowerCase()),e=null!=(d=q.DateParser.dateexp.matched(6))?q.DateParser.fixyear(i.parseInt(d)):b.getFullYear();else if(null!=(d=q.DateParser.dateexp.matched(8)))g=
q.DateParser.months.indexOf(d.toLowerCase()),h=null!=(d=q.DateParser.dateexp.matched(7))?i.parseInt(d):1,e=null!=(d=q.DateParser.dateexp.matched(9))?q.DateParser.fixyear(i.parseInt(d)):b.getFullYear();else if(null!=(d=q.DateParser.dateexp.matched(11)))g=q.DateParser.shortmonths.indexOf(d.toLowerCase()),h=null!=(d=q.DateParser.dateexp.matched(10))?i.parseInt(d):1,e=null!=(d=q.DateParser.dateexp.matched(12))?q.DateParser.fixyear(i.parseInt(d)):b.getFullYear();else if(null!=(d=q.DateParser.dateexp.matched(14)))g=
q.DateParser.months.indexOf(d.toLowerCase()),h=null!=(d=q.DateParser.dateexp.matched(13))?i.parseInt(d):1,e=null!=(d=q.DateParser.dateexp.matched(15))?q.DateParser.fixyear(i.parseInt(d)):b.getFullYear();else if(null!=(d=q.DateParser.dateexp.matched(17)))g=q.DateParser.shortmonths.indexOf(d.toLowerCase()),h=null!=(d=q.DateParser.dateexp.matched(16))?i.parseInt(d):1,e=null!=(d=q.DateParser.dateexp.matched(18))?q.DateParser.fixyear(i.parseInt(d)):b.getFullYear();else if(null!=(d=q.DateParser.dateexp.matched(19)))h=
i.parseInt(q.DateParser.dateexp.matched(20)),g=i.parseInt(d)-1,e=null!=(d=q.DateParser.dateexp.matched(21))?q.DateParser.fixyear(i.parseInt(d)):b.getFullYear();else if(null!=(d=q.DateParser.dateexp.matched(23)))h=i.parseInt(q.DateParser.dateexp.matched(22)),g=i.parseInt(d)-1,e=null!=(d=q.DateParser.dateexp.matched(24))?q.DateParser.fixyear(i.parseInt(d)):b.getFullYear();else if(null!=(d=q.DateParser.dateexp.matched(25)))e=q.DateParser.fixyear(i.parseInt(d)),h=i.parseInt(q.DateParser.dateexp.matched(27)),
g=i.parseInt(q.DateParser.dateexp.matched(26))-1;else{if(null!=(d=q.DateParser.dateexp.matched(28)))e=b.getFullYear(),h=i.parseInt(d),g=b.getMonth()}else if(q.DateParser.absdateexp.match(a)){k=!0;a=E.replace(a,q.DateParser.absdateexp.matched(0),"");e=b.getFullYear();g=b.getMonth();h=b.getDate();if(null!=(d=q.DateParser.absdateexp.matched(1)))switch(d.toLowerCase()){case "now":case "this second":if(null==c.matched)c.hour=b.getHours(),c.minute=b.getMinutes(),c.second=b.getSeconds();break;case "tomorrow":h+=
1;break;case "yesterday":h-=1}else if(null!=(d=q.DateParser.absdateexp.matched(3)))var j=q.DateParser.absdateexp.matched(2),l=q.DateParser.months.indexOf(d.toLowerCase()),e=l==g?e+(q.DateParser.last(j)?-1:q.DateParser.next(j)?1:0):l>g?e+(q.DateParser.last(j)?-1:0):e+(q.DateParser.next(j)?1:0),g=l,h=1;else if(null!=(d=q.DateParser.absdateexp.matched(5)))var j=q.DateParser.absdateexp.matched(4),l=q.DateParser.days.indexOf(d.toLowerCase()),m=b.getDay(),h=l==m?h+(q.DateParser.last(j)?-7:q.DateParser.next(j)?
7:0):l>m?h+(l-m+(q.DateParser.last(j)?-7:0)):h+(l-m+(q.DateParser.next(j)?7:0));else if(null!=(d=q.DateParser.absdateexp.matched(7)))j=q.DateParser.absdateexp.matched(6),l=q.DateParser.shortmonths.indexOf(d.toLowerCase()),e=l==g?e+(q.DateParser.last(j)?-1:q.DateParser.next(j)?1:0):l>g?e+(q.DateParser.last(j)?-1:0):e+(q.DateParser.next(j)?1:0),g=l,h=1;else if(null!=(d=q.DateParser.absdateexp.matched(9)))j=q.DateParser.absdateexp.matched(8),l=q.DateParser.shortdays.indexOf(d.toLowerCase()),m=b.getDay(),
h=l==m?h+(q.DateParser.last(j)?-7:q.DateParser.next(j)?7:0):l>m?h+(l-m+(q.DateParser.last(j)?-7:0)):h+(l-m+(q.DateParser.next(j)?7:0));if(null==c.matched)c.matched="x"}else e=b.getFullYear(),g=b.getMonth(),h=b.getDate();for(;q.DateParser.relexp.match(a);){k=!0;a=E.replace(a,q.DateParser.relexp.matched(0),"");j=q.DateParser.relexp.matched(1);if(null!=j)l=null!=(d=q.DateParser.relexp.matched(2))?i.parseInt(d):1,m=q.DateParser.relexp.matched(3);else{m=q.DateParser.relexp.matched(5);if(null==m)break;
l=null!=(d=q.DateParser.relexp.matched(4))?i.parseInt(d):1;j=null!=(d=q.DateParser.relexp.matched(6))?d:"after"}j=j.toLowerCase();switch(j){case "minus":case "-":case "before":case "ago":l=-l}switch(j){case "ago":case "in":if(null==c.matched)c.hour=b.getHours(),c.minute=b.getMinutes(),c.second=b.getSeconds(),c.matched="x"}switch(m.toLowerCase()){case "second":case "seconds":c.second+=l;break;case "minute":case "minutes":c.minute+=l;break;case "hour":case "hours":c.hour+=l;break;case "day":case "days":h+=
l;break;case "week":case "weeks":h+=7*l;break;case "month":case "months":g+=l;break;case "year":case "years":e+=l}}if(!k)throw new x.Error("no date information found in the string '{0}'",null,a,{fileName:"DateParser.hx",lineNumber:339,className:"thx.date.DateParser",methodName:"parse"});return Date.fromTime((new Date(e,g,h,c.hour,c.minute,c.second)).getTime()+c.millis)};q.DateParser.parseTime=function(a){var b={hour:0,minute:0,second:0,millis:0,matched:null};if(!q.DateParser.timeexp.match(a))return b;
b.matched=q.DateParser.timeexp.matched(0);var c;if(null!=(c=q.DateParser.timeexp.matched(1)))b.hour=i.parseInt(c)+q.DateParser.plusPm(q.DateParser.timeexp.matched(3)),b.minute=i.parseInt(q.DateParser.timeexp.matched(2));else if(null!=(c=q.DateParser.timeexp.matched(4))){b.hour=i.parseInt(c);b.minute=i.parseInt(q.DateParser.timeexp.matched(5));if(null!=(c=q.DateParser.timeexp.matched(6)))b.second=i.parseInt(c);if(null!=(c=q.DateParser.timeexp.matched(7)))b.millis=i.parseFloat(c)/1E3}else if(null!=
(c=q.DateParser.timeexp.matched(8)))b.hour=i.parseInt(c)+q.DateParser.plusPm(q.DateParser.timeexp.matched(10)),b.minute=i.parseInt(q.DateParser.timeexp.matched(9));else if(null!=(c=q.DateParser.timeexp.matched(11)))b.hour=i.parseInt(c)+q.DateParser.plusPm(q.DateParser.timeexp.matched(12));else if(null!=(c=q.DateParser.timeexp.matched(13)))switch(c.toLowerCase()){case "evening":b.hour=17;break;case "morning":b.hour=8;break;case "afternoon":b.hour=14;break;case "sunsrise":case "dawn":b.hour=6;break;
case "sunset":case "dusk":b.hour=19;break;case "noon":case "midday":case "mid-day":b.hour=12;break;case "mid-night":case "midnight":b.hour=23,b.minute=59,b.second=59,b.millis=0.999}else throw new x.Error("failed to parse time for '{0}'",null,a,{fileName:"DateParser.hx",lineNumber:406,className:"thx.date.DateParser",methodName:"parseTime"});return b};q.DateParser.fixyear=function(a){return 70>a?2E3+a:100>a?1900+a:a};q.DateParser.last=function(a){return null==a?!1:"last"==a.toLowerCase()};q.DateParser.next=
function(a){return null==a?!0:"next"==a.toLowerCase()};q.DateParser.plusPm=function(a){if(null==a)a=0;else switch(a.toLowerCase()){case "pm":case "evening":case "afternoon":a=12;break;default:a=0}return a};q.DateParser.prototype={__class__:q.DateParser};sc={Message:function(a,b,c){this.message=a;this.params=null==b?[]:b;null!=c&&this.params.push(c)}};sc.Message.__name__=["thx","util","Message"];sc.Message.prototype={message:null,params:null,toString:function(){return F.format(this.message,this.params)},
__class__:sc.Message};x={Error:function(a,b,c,d){sc.Message.call(this,a,b,c);this.pos=d}};x.Error.__name__=["thx","error","Error"];x.Error.__super__=sc.Message;x.Error.prototype=w(sc.Message.prototype,{pos:null,toString:function(){try{return F.format(this.message,this.params)}catch(a){return""}},__class__:x.Error});x.AbstractMethod=function(a){x.Error.call(this,"method {0}.{1}() is abstract",[a.className,a.methodName],a,{fileName:"AbstractMethod.hx",lineNumber:14,className:"thx.error.AbstractMethod",
methodName:"new"})};x.AbstractMethod.__name__=["thx","error","AbstractMethod"];x.AbstractMethod.__super__=x.Error;x.AbstractMethod.prototype=w(x.Error.prototype,{__class__:x.AbstractMethod});x.NotImplemented=function(a){x.Error.call(this,"method {0}.{1}() needs to be implemented",[a.className,a.methodName],a,{fileName:"NotImplemented.hx",lineNumber:13,className:"thx.error.NotImplemented",methodName:"new"})};x.NotImplemented.__name__=["thx","error","NotImplemented"];x.NotImplemented.__super__=x.Error;
x.NotImplemented.prototype=w(x.Error.prototype,{__class__:x.NotImplemented});x.NullArgument=function(a,b,c){null==b&&(b="invalid null or empty argument '{0}' for method {1}.{2}()");x.Error.call(this,b,[a,c.className,c.methodName],c,{fileName:"NullArgument.hx",lineNumber:16,className:"thx.error.NullArgument",methodName:"new"})};x.NullArgument.__name__=["thx","error","NullArgument"];x.NullArgument.__super__=x.Error;x.NullArgument.prototype=w(x.Error.prototype,{__class__:x.NullArgument});P={IProjection:function(){}};
P.IProjection.__name__=["thx","geo","IProjection"];P.IProjection.prototype={project:null,invert:null,__class__:P.IProjection};P.Albers=function(){this._origin=[-98,38];this._parallels=[29.5,45.5];this._scale=1E3;this._translate=[480,250];this.reload()};P.Albers.__name__=["thx","geo","Albers"];P.Albers.__interfaces__=[P.IProjection];P.Albers.prototype={origin:null,parallels:null,translate:null,scale:null,lng0:null,n:null,C:null,p0:null,_origin:null,_parallels:null,_translate:null,_scale:null,project:function(a){var b=
this.n*(0.017453292519943295*a[0]-this.lng0),a=Math.sqrt(this.C-2*this.n*Math.sin(0.017453292519943295*a[1]))/this.n;return[this.getScale()*a*Math.sin(b)+this.getTranslate()[0],this.getScale()*(a*Math.cos(b)-this.p0)+this.getTranslate()[1]]},invert:function(a){var b=(a[0]-this.getTranslate()[0])/this.getScale(),c=this.p0+(a[1]-this.getTranslate()[1])/this.getScale(),a=Math.atan2(b,c),b=Math.sqrt(b*b+c*c);return[(this.lng0+a/this.n)/0.017453292519943295,Math.asin((this.C-b*b*this.n*this.n)/(2*this.n))/
0.017453292519943295]},getOrigin:function(){return this._origin.copy()},setOrigin:function(a){this._origin=[a[0],a[1]];this.reload();return a},getParallels:function(){return this._parallels.copy()},setParallels:function(a){this._parallels=[a[0],a[1]];this.reload();return a},getTranslate:function(){return this._translate.copy()},setTranslate:function(a){this._translate=[a[0],a[1]];return a},reload:function(){var a=0.017453292519943295*this.getParallels()[0],b=0.017453292519943295*this.getParallels()[1],
c=0.017453292519943295*this.getOrigin()[1],d=Math.sin(a),a=Math.cos(a);this.lng0=0.017453292519943295*this.getOrigin()[0];this.n=0.5*(d+Math.sin(b));this.C=a*a+2*this.n*d;this.p0=Math.sqrt(this.C-2*this.n*Math.sin(c))/this.n;return this},setScale:function(a){return this._scale=a},getScale:function(){return this._scale},__class__:P.Albers,__properties__:{set_scale:"setScale",get_scale:"getScale",set_translate:"setTranslate",get_translate:"getTranslate",set_parallels:"setParallels",get_parallels:"getParallels",
set_origin:"setOrigin",get_origin:"getOrigin"}};P.AlbersUsa=function(){this.lower48=new P.Albers;this.alaska=new P.Albers;this.alaska.setOrigin([-160,60]);this.alaska.setParallels([55,65]);this.hawaii=new P.Albers;this.hawaii.setOrigin([-160,20]);this.hawaii.setParallels([8,18]);this.puertoRico=new P.Albers;this.puertoRico.setOrigin([-60,10]);this.puertoRico.setParallels([8,18]);this.setScale(this.lower48.getScale())};P.AlbersUsa.__name__=["thx","geo","AlbersUsa"];P.AlbersUsa.__interfaces__=[P.IProjection];
P.AlbersUsa.prototype={translate:null,scale:null,lower48:null,alaska:null,hawaii:null,puertoRico:null,project:function(a){var b=a[0],c=a[1];return(50<c?this.alaska:-140>b?this.hawaii:21>c?this.puertoRico:this.lower48).project(a)},invert:function(){throw new x.NotImplemented({fileName:"AlbersUsa.hx",lineNumber:67,className:"thx.geo.AlbersUsa",methodName:"invert"});},setScale:function(a){this.lower48.setScale(a);this.alaska.setScale(0.6*a);this.hawaii.setScale(a);this.puertoRico.setScale(1.5*a);this.setTranslate(this.lower48.getTranslate());
return a},getScale:function(){return this.lower48.getScale()},setTranslate:function(a){var b=this.lower48.getScale()/1E3,c=a[0],d=a[1];this.lower48.setTranslate(a);this.alaska.setTranslate([c-400*b,d+170*b]);this.hawaii.setTranslate([c-190*b,d+200*b]);this.puertoRico.setTranslate([c+580*b,d+430*b]);return a},getTranslate:function(){return this.lower48.getTranslate()},__class__:P.AlbersUsa,__properties__:{set_scale:"setScale",get_scale:"getScale",set_translate:"setTranslate",get_translate:"getTranslate"}};
P.Azimuthal=function(){this.setMode(P.ProjectionMode.Orthographic);this.setScale(200);this.setTranslate([480,250]);this.setOrigin([0,0])};P.Azimuthal.__name__=["thx","geo","Azimuthal"];P.Azimuthal.__interfaces__=[P.IProjection];P.Azimuthal.prototype={mode:null,origin:null,scale:null,translate:null,x0:null,y0:null,cy0:null,sy0:null,project:function(a){var b=0.017453292519943295*a[0]-this.x0,c=0.017453292519943295*a[1],a=Math.cos(b),b=Math.sin(b),d=Math.cos(c),c=Math.sin(c),e;switch(this.getMode()[1]){case 0:e=
1;break;case 1:e=1/(1+this.sy0*c+this.cy0*d*a)}a=e*(this.sy0*d*a-this.cy0*c);return[this.getScale()*e*d*b+this.getTranslate()[0],this.getScale()*a+this.getTranslate()[1]]},invert:function(a){var b=(a[0]-this.getTranslate()[0])/this.getScale(),a=(a[1]-this.getTranslate()[1])/this.getScale(),c=Math.sqrt(b*b+a*a),d,e;switch(this.getMode()[1]){case 0:e=Math.asin(c);break;case 1:e=Math.atan(c)}d=e;e=Math.sin(d);d=Math.cos(d);return[(this.x0+Math.atan2(b*e,c*this.cy0*d+a*this.sy0*e))/0.017453292519943295,
Math.asin(d*this.sy0-a*e*this.cy0/c)/0.017453292519943295]},getOrigin:function(){return this.origin.copy()},setOrigin:function(a){this.origin=[a[0],a[1]];this.x0=0.017453292519943295*a[0];this.y0=0.017453292519943295*a[1];this.cy0=Math.cos(this.y0);this.sy0=Math.sin(this.y0);return a},getTranslate:function(){return this.translate.copy()},setTranslate:function(a){this.translate=[a[0],a[1]];return a},setScale:function(a){return this.scale=a},getScale:function(){return this.scale},setMode:function(a){return this.mode=
a},getMode:function(){return this.mode},__class__:P.Azimuthal,__properties__:{set_translate:"setTranslate",get_translate:"getTranslate",set_scale:"setScale",get_scale:"getScale",set_origin:"setOrigin",get_origin:"getOrigin",set_mode:"setMode",get_mode:"getMode"}};P.ProjectionMode={__ename__:["thx","geo","ProjectionMode"],__constructs__:["Orthographic","Stereographic"]};P.ProjectionMode.Orthographic=["Orthographic",0];P.ProjectionMode.Orthographic.toString=v;P.ProjectionMode.Orthographic.__enum__=
P.ProjectionMode;P.ProjectionMode.Stereographic=["Stereographic",1];P.ProjectionMode.Stereographic.toString=v;P.ProjectionMode.Stereographic.__enum__=P.ProjectionMode;P.Mercator=function(){this.setScale(500);this.setTranslate([480,250])};P.Mercator.__name__=["thx","geo","Mercator"];P.Mercator.__interfaces__=[P.IProjection];P.Mercator.prototype={scale:null,translate:null,project:function(a){var b=a[0]/360,a=-(Math.log(Math.tan(Math.PI/4+0.017453292519943295*a[1]/2))/0.017453292519943295)/360;return[this.getScale()*
b+this.getTranslate()[0],this.getScale()*Math.max(-0.5,Math.min(0.5,a))+this.getTranslate()[1]]},invert:function(a){var b=(a[0]-this.getTranslate()[0])/this.getScale(),a=(a[1]-this.getTranslate()[1])/this.getScale();return[360*b,2*Math.atan(Math.exp(-6.283185307179586*a))/0.017453292519943295-90]},setScale:function(a){return this.scale=a},getScale:function(){return this.scale},getTranslate:function(){return this.translate.copy()},setTranslate:function(a){this.translate=[a[0],a[1]];return a},__class__:P.Mercator,
__properties__:{set_translate:"setTranslate",get_translate:"getTranslate",set_scale:"setScale",get_scale:"getScale"}};K={Polygon:function(a){this.coordinates=a}};K.Polygon.__name__=["thx","geom","Polygon"];K.Polygon.prototype={coordinates:null,area:function(){for(var a=this.coordinates.length,b=this.coordinates[a-1][0]*this.coordinates[0][1],c=this.coordinates[a-1][1]*this.coordinates[0][0],d=1;d<a;)var e=d++,b=b+this.coordinates[e-1][0]*this.coordinates[e][1],c=c+this.coordinates[e-1][1]*this.coordinates[e][0];
return 0.5*(c-b)},centroid:function(a){var b,c,d,e=0,g=0;null==a&&(a=1/(6*this.area()));for(var h=0,k=this.coordinates.length-1;h<k;)c=h++,b=this.coordinates[c],c=this.coordinates[c+1],d=b[0]*c[1]-c[0]*b[1],e+=(b[0]+c[0])*d,g+=(b[1]+c[1])*d;return[e*a,g*a]},__class__:K.Polygon};K.layout={};K.layout.Pie=function(){this._startAngle=function(){return 0};this._endAngle=function(){return 6.283185307179586};this._sort=null;this._value=function(a){return Number(a)}};K.layout.Pie.__name__=["thx","geom","layout",
"Pie"];K.layout.Pie.prototype={_startAngle:null,_endAngle:null,_sort:null,_value:null,pie:function(a,b){var c=this._startAngle(a,b),d=this._endAngle(a,b)-c,e=I.range(a.length);if(null!=this._sort){var g=this._sort;e.sort(function(b,c){return g(a[b],a[c])})}var h=a.map(this._value),d=d/h.reduce(function(a,b){return a+b},0);Math.isFinite(d)||(d=0);var k,i=e.map(function(a,b){k=h[b];return{value:k,startAngle:c,endAngle:c+=k*d}});return a.map(function(a,b){return i[e[b]]})},__class__:K.layout.Pie};K.layout.Stack=
function(){this._order=K.layout.StackOrder.DefaultOrder;this._offset=K.layout.StackOffset.ZeroOffset};K.layout.Stack.__name__=["thx","geom","layout","Stack"];K.layout.Stack.getStackOrder=function(a,b){switch(a[1]){case 0:return I.range(b.length);case 1:var c=b.length,d=b.map(K.layout.Stack.stackMaxIndex),e=b.map(K.layout.Stack.stackReduceSum),g=I.range(c),h=0,k=0,i=[],j=[];g.sort(function(a,b){return d[a]-d[b]});for(var m=0;m<c;){var n=m++,n=g[n];h<k?(h+=e[n],i.push(n)):(k+=e[n],j.push(n))}j.reverse();
return j.concat(i);case 2:return g=I.range(b.length),g.reverse(),g}};K.layout.Stack.getStackOffset=function(a,b,c){switch(a[1]){case 0:for(var a=c.length,d=c[0].length,e=[],g=0,h,k=0;k<d;){for(var i=k++,j=h=0;j<a;){var m=j++;h+=c[m][i].y}h>g&&(g=h);e.push(h)}m=b[0];for(k=0;k<d;)i=k++,c[m][i].y0=(g-e[i])/2;break;case 1:var a=c.length,g=c[0],d=g.length,n,o=b[0],p,q,r,s,v;c[o][0].y0=h=v=0;for(k=1;k<d;){i=k++;for(j=p=0;j<a;)m=j++,p+=c[m][i].y;q=0;s=g[i].x-g[i-1].x;for(j=0;j<a;){m=j++;n=b[m];r=(c[n][i].y-
c[n][i-1].y)/(2*s);for(var w=0;w<m;){var x=w++;r+=(c[e=b[x]][i].y-c[e][i-1].y)/s}q+=r*c[n][i].y}c[o][i].y0=h-=0!=p?q/p*s:0;h<v&&(v=h)}for(k=0;k<d;)i=k++,c[o][i].y0-=v;break;case 2:d=c[0].length;o=b[0];for(k=0;k<d;)i=k++,c[o][i].y0=0}};K.layout.Stack.stackMaxIndex=function(a){for(var b=0,c=a[0].y,d,e=a.length,g=1;g<e;){var h=g++;if((d=a[h].y)>c)b=h,c=d}return b};K.layout.Stack.stackReduceSum=function(a){return a.reduce(K.layout.Stack.stackSum,0)};K.layout.Stack.stackSum=function(a,b){return a+b.y};
K.layout.Stack.prototype={_order:null,_offset:null,stack:function(a){for(var b=a.length,c=a[0].length,d=[],e=0;e<b;){var g=e++,h=[];d.push(h);for(var k=0;k<c;){var i=k++,j=a[g][i];h[i]={x:j.x,y:j.y,y0:0}}}h=K.layout.Stack.getStackOrder(this._order,d);K.layout.Stack.getStackOffset(this._offset,h,d);for(e=0;e<c;){i=e++;a=d[h[0]][i].y0;for(k=1;k<b;)g=k++,d[h[g]][i].y0=a+=d[h[g-1]][i].y}return d},order:function(a){this._order=a;return this},offset:function(a){this._offset=a;return this},__class__:K.layout.Stack};
K.layout.StackOrder={__ename__:["thx","geom","layout","StackOrder"],__constructs__:["DefaultOrder","InsideOut","ReverseOrder"]};K.layout.StackOrder.DefaultOrder=["DefaultOrder",0];K.layout.StackOrder.DefaultOrder.toString=v;K.layout.StackOrder.DefaultOrder.__enum__=K.layout.StackOrder;K.layout.StackOrder.InsideOut=["InsideOut",1];K.layout.StackOrder.InsideOut.toString=v;K.layout.StackOrder.InsideOut.__enum__=K.layout.StackOrder;K.layout.StackOrder.ReverseOrder=["ReverseOrder",2];K.layout.StackOrder.ReverseOrder.toString=
v;K.layout.StackOrder.ReverseOrder.__enum__=K.layout.StackOrder;K.layout.StackOffset={__ename__:["thx","geom","layout","StackOffset"],__constructs__:["Silhouette","Wiggle","ZeroOffset"]};K.layout.StackOffset.Silhouette=["Silhouette",0];K.layout.StackOffset.Silhouette.toString=v;K.layout.StackOffset.Silhouette.__enum__=K.layout.StackOffset;K.layout.StackOffset.Wiggle=["Wiggle",1];K.layout.StackOffset.Wiggle.toString=v;K.layout.StackOffset.Wiggle.__enum__=K.layout.StackOffset;K.layout.StackOffset.ZeroOffset=
["ZeroOffset",2];K.layout.StackOffset.ZeroOffset.toString=v;K.layout.StackOffset.ZeroOffset.__enum__=K.layout.StackOffset;s={EdgeSplitter:function(){}};s.EdgeSplitter.__name__=["thx","graph","EdgeSplitter"];s.EdgeSplitter.prototype={split:function(a,b,c,d){var e=a.layers(),g,h;null==d&&(d=function(){});for(var k=a.graph.nodes.collection.iterator();k.hasNext();){var i=k.next();g=a.cell(i);for(i=i.graph.edges.positives(i);i.hasNext();){var j=i.next();h=a.cell(j.head);if(g.layer!=h.layer&&g.layer!=h.layer-
1&&g.layer!=h.layer+1){var m=[g.layer<h.layer?1:-1];h=I.abs(h.layer-g.layer)-1;b.push(j.split(h,c,function(a){return function(b,c,h){e[g.layer+(1+h)*a[0]].push(b.head.id);d(b,c,h)}}(m)))}}}return new s.GraphLayout(a.graph,e)},__class__:s.EdgeSplitter};s.GraphElement=function(a,b,c){this.id=b;this.data=c;this.graph=a};s.GraphElement.__name__=["thx","graph","GraphElement"];s.GraphElement.friendDestroy=function(a){return a};s.GraphElement.prototype={graph:null,id:null,data:null,destroy:function(){this.graph=
null;this.id=-1},__class__:s.GraphElement};s.GEdge=function(a,b,c,d,e,g){s.GraphElement.call(this,a,b,g);this.tail=c;this.head=d;this.weight=e};s.GEdge.__name__=["thx","graph","GEdge"];s.GEdge.create=function(a,b,c,d,e,g){return new s.GEdge(a,b,c,d,e,g)};s.GEdge.__super__=s.GraphElement;s.GEdge.prototype=w(s.GraphElement.prototype,{tail:null,head:null,weight:null,destroy:function(){s.GraphElement.prototype.destroy.call(this);this.head=this.tail=null},split:function(a,b,c){null==a&&(a=1);if(1>a)throw new x.Error("the split times parameter must be an integer value greater than zero",
null,null,{fileName:"GEdge.hx",lineNumber:34,className:"thx.graph.GEdge",methodName:"split"});null==c&&(c=function(){});null==b&&(b=function(){return null});for(var d=this,e=[],g,h,k=d.graph,i=0;i<a;){var j=i++;g=k.nodes.create(b(d));h=k.edges.create(d.tail,g,d.weight,d.data);g=k.edges.create(g,d.head,d.weight,d.data);k.edges.remove(d);c(h,g,j);d=g;k=d.graph;e.push(h)}e.push(d);return e},invert:function(){var a=this.graph.edges.create(this.head,this.tail,this.weight,this.data);this.graph.edges._remove(this);
return a},remove:function(){this.graph.edges._remove(this)},friendRemove:function(){return this.graph.edges},__class__:s.GEdge});s.GNode=function(a,b,c){s.GraphElement.call(this,a,b,c)};s.GNode.__name__=["thx","graph","GNode"];s.GNode.create=function(a,b,c){return new s.GNode(a,b,c)};s.GNode.__super__=s.GraphElement;s.GNode.prototype=w(s.GraphElement.prototype,{destroy:function(){s.GraphElement.prototype.destroy.call(this)},connectedBy:function(a){if(a.graph!=this.graph)throw new x.Error("the node is not part of this graph",
null,null,{fileName:"GNode.hx",lineNumber:41,className:"thx.graph.GNode",methodName:"connectedBy"});var b=M.firstf(this.graph.edges.positives(this),function(b){return b.head.id==a.id});return null!=b?b:M.firstf(this.graph.edges.negatives(this),function(b){return b.tail.id==a.id})},positiveWeight:function(){return this._weight(this.graph.edges.positives(this))},negativeWeight:function(){return this._weight(this.graph.edges.negatives(this))},_weight:function(a){for(var b=0;a.hasNext();)var c=a.next(),
b=b+c.weight;return b},isSource:function(){return this.graph.edges.positives(this).hasNext()&&!this.graph.edges.negatives(this).hasNext()},isSink:function(){return this.graph.edges.negatives(this).hasNext()&&!this.graph.edges.positives(this).hasNext()},isIsolated:function(){return!this.graph.edges.edges(this).hasNext()},predecessorBy:function(a){return M.firstf(this.graph.edges.positives(this),function(b){return b.head.id==a.id})},edges:function(){return this.graph.edges.edges(this)},positives:function(){return this.graph.edges.positives(this)},
negatives:function(){return this.graph.edges.negatives(this)},sortPositives:function(a){this.graph.edges.sortPositives(this,a)},sortNegatives:function(a){this.graph.edges.sortNegatives(this,a)},positiveCount:function(){return this.graph.edges.positiveCount(this)},negativeCount:function(){return this.graph.edges.negativeCount(this)},remove:function(){this.graph.nodes._remove(this)},friendRemove:function(){return this.graph.nodes},friendEdges:function(){return this.graph.edges},__class__:s.GNode});
s.Graph=function(a,b){this.nodes=s.GraphNodes.newInstance(this,a);this.edges=s.GraphEdges.newInstance(this,b)};s.Graph.__name__=["thx","graph","Graph"];s.Graph.friendNodes=function(a){return a};s.Graph.friendEdges=function(a){return a};s.Graph.prototype={nodes:null,edges:null,empty:function(){return 0==M.count(this.nodes.iterator())},clone:function(){var a=new s.Graph;a.nodes=this.nodes.copyTo(a);a.edges=this.edges.copyTo(a);return a},findSinks:function(){return M.filter(this.nodes.iterator(),function(a){return a.isSink()})},
findSink:function(){return M.firstf(this.nodes.iterator(),function(a){return a.isSink()})},findSource:function(){return M.firstf(this.nodes.iterator(),function(a){return a.isSource()})},findIsolateds:function(){return M.filter(this.nodes.iterator(),function(a){return a.isIsolated()})},__class__:s.Graph};s.GraphCollection=function(a,b){var c=this;this.nextid=0;this.graph=a;this.idf=b;this.collection=new bc;this._map=new ba;if(null!=b){var d=this.collectionCreate.$bind(this);this.collectionCreate=function(a){c._map.set(b(a.data),
a);d(a)};var e=this.collectionRemove.$bind(this);this.collectionRemove=function(a){c._map.remove(b(a.data));e(a)}}this.onRemove=new fd;this.onCreate=new fd};s.GraphCollection.__name__=["thx","graph","GraphCollection"];s.GraphCollection.prototype={onRemove:null,onCreate:null,graph:null,collection:null,nextid:null,idf:null,_map:null,length:null,getById:function(a){return this._map.get(a)},get:function(a){return this.collection.get(a)},get_length:function(){return $c.count(this.collection)},collectionCreate:function(a){this.onCreate.dispatch(a);
this.collection.set(a.id,a)},collectionRemove:function(a){this.collection.remove(a.id);this.onRemove.dispatch(a)},iterator:function(){return this.collection.iterator()},toString:function(){return M.map(this.collection.iterator(),function(a){return i.string(a)}).join(", ")},__class__:s.GraphCollection,__properties__:{get_length:"get_length"}};s.GraphEdges=function(a,b){s.GraphCollection.call(this,a,b);this.edgesp=new bc;this.edgesn=new bc};s.GraphEdges.__name__=["thx","graph","GraphEdges"];s.GraphEdges.newInstance=
function(a,b){return new s.GraphEdges(a,b)};s.GraphEdges.__super__=s.GraphCollection;s.GraphEdges.prototype=w(s.GraphCollection.prototype,{edgesp:null,edgesn:null,copyTo:function(a){for(var b=new s.GraphEdges(a),a=a.nodes,c,d,e=this.collection.iterator();e.hasNext();){var g=e.next();c=a.get(g.tail.id);d=a.get(g.head.id);b._create(g.id,c,d,g.weight,g.data)}b.nextid=this.nextid;return b},create:function(a,b,c,d){null==c&&(c=1);if(a.graph!=b.graph||a.graph!=this.graph)throw new x.Error("can't create an edge between nodes on different graphs",
null,null,{fileName:"GraphEdges.hx",lineNumber:39,className:"thx.graph.GraphEdges",methodName:"create"});return this._create(++this.nextid,a,b,c,d)},_create:function(a,b,c,d,e){d=s.GEdge.create(this.graph,a,b,c,d,e);this.collectionCreate(d);this.connections(b.id,this.edgesp).push(a);this.connections(c.id,this.edgesn).push(a);return d},remove:function(a){if(a.graph!=this.graph)throw new x.Error("remove: the edge is not part of this graph",null,null,{fileName:"GraphEdges.hx",lineNumber:55,className:"thx.graph.GraphEdges",
methodName:"remove"});this._remove(a)},_remove:function(a){this.collectionRemove(a);this.removeConnection(a.id,a.tail.id,this.edgesp);this.removeConnection(a.id,a.head.id,this.edgesn);a.destroy()},unlink:function(a){if(a.graph!=this.graph)throw new x.Error("unlink: the node is not part of this graph",null,null,{fileName:"GraphEdges.hx",lineNumber:70,className:"thx.graph.GraphEdges",methodName:"unlink"});this._unlink(a,this.edgesp);this._unlink(a,this.edgesn)},positives:function(a){return this._edges(a.id,
this.edgesp).iterator()},negatives:function(a){return this._edges(a.id,this.edgesn).iterator()},sortPositives:function(a,b){this._sort(a,b,this.edgesp)},sortNegatives:function(a,b){this._sort(a,b,this.edgesn)},_sort:function(a,b,c){var d=this,a=c.get(a.id);null!=a&&a.sort(function(a,c){var e=d.graph.edges.get(a),k=d.graph.edges.get(c);return b(e,k)})},edges:function(a){return this._edges(a.id,this.edgesp).concat(this._edges(a.id,this.edgesn)).iterator()},positiveCount:function(a){return this._edgeids(a.id,
this.edgesp).length},negativeCount:function(a){return this._edgeids(a.id,this.edgesn).length},edgeCount:function(a){return this._edgeids(a.id,this.edgesp).length+this._edgeids(a.id,this.edgesn).length},_edgeids:function(a,b){var c=b.get(a);null==c&&(c=[]);return c},_edges:function(a,b){var c=this;return this._edgeids(a,b).map(function(a){return c.get(a)})},_unlink:function(a,b){var c=b.get(a.id);if(null!=c){for(var c=c.copy(),d=0;d<c.length;){var e=c[d];++d;e=this.get(e);null==e||null==e.graph||this._remove(e)}b.remove(a.id)}},
connections:function(a,b){var c=b.get(a);null==c&&b.set(a,c=[]);return c},removeConnection:function(a,b,c){var d=c.get(b);null!=d&&(d.remove(a),0==d.length&&c.remove(b))},toString:function(){return"GraphEdges ("+$c.count(this.collection)+"): "+s.GraphCollection.prototype.toString.call(this)},__class__:s.GraphEdges});s.GraphLayout=function(a,b){this.graph=a;this._layers=b.map(function(a){return a.copy()});this.friendCell=this._cell=new s.LayoutCell;this._updateMap();this.length=this._layers.length;
a.nodes.onRemove.add(this._nodeRemove.$bind(this))};s.GraphLayout.__name__=["thx","graph","GraphLayout"];s.GraphLayout.arrayCrossings=function(a,b,c){for(var d=new bc,e=0,g=0,h=c.length;g<h;){var k=g++;d.set(c[k],k)}if(1>=b.length||1>=c.length)return e;g=0;for(h=b.length;g<h;){k=g++;c=a.nodes.get(b[k]);for(c=c.graph.edges.positives(c);c.hasNext();){var i=c.next(),i=d.get(i.head.id);if(null!=i)for(var j=k+1,m=b.length;j<m;)for(var n=j++,n=a.nodes.get(b[n]),n=n.graph.edges.positives(n);n.hasNext();){var o=
n.next();d.get(o.head.id)<i&&e++}}}return e};s.GraphLayout.prototype={graph:null,length:null,_layers:null,_cell:null,_map:null,friendCell:null,_updateMap:function(){var a=this;this._map=new bc;this.each(function(b,c){a._map.set(c.id,[b.layer,b.position])})},clone:function(){return new s.GraphLayout(this.graph.clone(),this.layers())},each:function(a){for(var b=this._layers.length,c,d=0;d<b;){var e=d++;c=this._layers[e].length;for(var g=0;g<c;){var h=g++;this.friendCell.update(e,h,b,c);a(this._cell,
this.graph.nodes.get(this._layers[e][h]))}}},cell:function(a){if(a.graph!=this.graph)throw new x.Error("node doesn't belong to this graph",null,null,{fileName:"GraphLayout.hx",lineNumber:59,className:"thx.graph.GraphLayout",methodName:"cell"});a=this._map.get(a.id);return null==a?null:new s.LayoutCell(a[0],a[1],this._layers.length,this._layers[a[0]].length)},nodeAt:function(a,b){var c=this._layers[a];if(null==c)return null;c=c[b];return null==c?null:this.graph.nodes.get(c)},layer:function(a){var b=
this;return this._layers[a].map(function(a){return b.graph.nodes.get(a)})},layers:function(){for(var a=[],b=0,c=this._layers;b<c.length;){var d=c[b];++b;a.push(d.copy())}return a},crossings:function(){for(var a=0,b=0,c=this._layers.length-1;b<c;)var d=b++,a=a+s.GraphLayout.arrayCrossings(this.graph,this._layers[d],this._layers[d+1]);return a},_nodeRemove:function(a){a=this.cell(a);this._layers[a.layer].splice(a.position,1);0==this._layers[a.layer].length&&this._layers.splice(a.layer,1);this._updateMap()},
__class__:s.GraphLayout};s.LayoutCell=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.layer=a;this.layers=c;this.position=b;this.positions=d};s.LayoutCell.__name__=["thx","graph","LayoutCell"];s.LayoutCell.prototype={layer:null,position:null,layers:null,positions:null,update:function(a,b,c,d){this.layer=a;this.layers=c;this.position=b;this.positions=d},__class__:s.LayoutCell};s.GraphNodes=function(a,b){s.GraphCollection.call(this,a,b)};s.GraphNodes.__name__=["thx",
"graph","GraphNodes"];s.GraphNodes.newInstance=function(a,b){return new s.GraphNodes(a,b)};s.GraphNodes.__super__=s.GraphCollection;s.GraphNodes.prototype=w(s.GraphCollection.prototype,{copyTo:function(a){for(var a=new s.GraphNodes(a),b=this.collection.iterator();b.hasNext();){var c=b.next();a._create(c.id,c.data)}a.nextid=this.nextid;return a},create:function(a){return this._create(++this.nextid,a)},_create:function(a,b){var c=s.GNode.create(this.graph,a,b);this.collectionCreate(c);return c},_remove:function(a){this.graph.edges.unlink(a);
this.collectionRemove(a);a.destroy()},toString:function(){return"GraphNodes ("+$c.count(this.collection)+"): "+s.GraphCollection.prototype.toString.call(this)},__class__:s.GraphNodes});s.Graphs=function(){};s.Graphs.__name__=["thx","graph","Graphs"];s.Graphs.findMaxPositiveOverNegative=function(a){for(var b=null,c=0,a=a.iterator();a.hasNext();){var d=a.next(),e=d.edgesp.length-d.edgesn.length;if(null==b||c<e)b=d,c=e}return b};s.Graphs.prototype={__class__:s.Graphs};s.GreedyCyclePartitioner=function(){};
s.GreedyCyclePartitioner.__name__=["thx","graph","GreedyCyclePartitioner"];s.GreedyCyclePartitioner.findMaxPositiveOverNegative=function(a){for(var b=null,c=0,a=a.nodes.collection.iterator();a.hasNext();){var d=a.next(),e=d.graph.edges.positiveCount(d)-d.graph.edges.negativeCount(d);if(null==b||c<e)b=d,c=e}return b};s.GreedyCyclePartitioner.prototype={partition:function(a){for(var b=[],c=[],d=a.clone(),e;0!=M.count(d.nodes.iterator());){for(;null!=(e=d.findSink());){for(var g=e.graph.edges.negatives(e);g.hasNext();){var h=
g.next();c.unshift(a.edges.get(h.id));h.graph.edges._remove(h)}e.graph.nodes._remove(e)}e=0;for(h=d.findIsolateds();e<h.length;)g=h[e],++e,g.graph.nodes._remove(g);for(;null!=(e=d.findSource());){for(g=e.graph.edges.positives(e);g.hasNext();)h=g.next(),b.push(a.edges.get(h.id)),h.graph.edges._remove(h);e.graph.nodes._remove(e)}if(0!=M.count(d.nodes.iterator())){e=s.GreedyCyclePartitioner.findMaxPositiveOverNegative(d);for(g=e.graph.edges.negatives(e);g.hasNext();)h=g.next(),c.unshift(a.edges.get(h.id)),
h.graph.edges._remove(h);for(g=e.graph.edges.positives(e);g.hasNext();)h=g.next(),b.push(a.edges.get(h.id)),h.graph.edges._remove(h);e.graph.nodes._remove(e)}}return{left:b,right:c}},__class__:s.GreedyCyclePartitioner};s.GreedySwitchDecrosser=function(){};s.GreedySwitchDecrosser.__name__=["thx","graph","GreedySwitchDecrosser"];s.GreedySwitchDecrosser.combined=function(){return{decross:function(a){a=(new s.GreedySwitchDecrosser).decross(a);return(new s.GreedySwitch2Decrosser).decross(a)}}};s.GreedySwitchDecrosser.best=
function(){return{decross:function(a){a=[(new s.GreedySwitchDecrosser).decross(a),(new s.GreedySwitch2Decrosser).decross(a),s.GreedySwitchDecrosser.combined().decross(a)];return y.min(a,function(a){return a.crossings()})}}};s.GreedySwitchDecrosser.prototype={decross:function(a){var b=a.layers(),c=a.graph,d=a;if(1>=b.length)return new s.GraphLayout(a.graph,b);var e,g,h=b.length-1,k;do{a=b.map(function(a){return a.copy()});d=new s.GraphLayout(c,b);e=d.crossings();for(g=0;g<h;)k=g++,b=a[k],k=a[k+1],
this.decrossPair(c,b,k);g=(new s.GraphLayout(c,a)).crossings();b=a}while(e>g);return d},decrossPair:function(a,b,c){var d=s.GraphLayout.arrayCrossings(a,b,c),e=d,g;do for(var d=e,h=0,k=c.length-1;h<k;){var i=h++;this.swap(c,i);(g=s.GraphLayout.arrayCrossings(a,b,c))>=e?this.swap(c,i):e=g}while(e<d)},swap:function(a,b){var c=a[b];a[b]=a[b+1];a[b+1]=c},__class__:s.GreedySwitchDecrosser};s.GreedySwitch2Decrosser=function(){s.GreedySwitchDecrosser.call(this)};s.GreedySwitch2Decrosser.__name__=["thx",
"graph","GreedySwitch2Decrosser"];s.GreedySwitch2Decrosser.__super__=s.GreedySwitchDecrosser;s.GreedySwitch2Decrosser.prototype=w(s.GreedySwitchDecrosser.prototype,{decross:function(a){var b=a.layers(),c=a.graph,d=a;if(1>=b.length)return new s.GraphLayout(a.graph,b);var e,g,h=b.length-1,k;do{a=b.map(function(a){return a.copy()});d=new s.GraphLayout(c,b);e=d.crossings();for(var i=0;i<h;)k=i++,b=a[k-1],g=a[k],k=a[k+1],this.decrossTriplet(c,b,g,k);g=(new s.GraphLayout(c,a)).crossings();b=a}while(e>g);
return d},decrossTriplet:function(a,b,c,d){if(null==b)this.decrossPair(a,c,d);else if(null==d)this.decrossPair(a,b,c);else{var e=s.GraphLayout.arrayCrossings(a,b,c)+s.GraphLayout.arrayCrossings(a,c,d),g=e,h;do for(var e=g,k=0,i=c.length-1;k<i;){var j=k++;this.swap(c,j);(h=s.GraphLayout.arrayCrossings(a,b,c)+s.GraphLayout.arrayCrossings(a,c,d))>=g?this.swap(c,j):g=h}while(g<e)}},__class__:s.GreedySwitch2Decrosser});s.HeaviestNodeLayer=function(){};s.HeaviestNodeLayer.__name__=["thx","graph","HeaviestNodeLayer"];
s.HeaviestNodeLayer.prototype={lay:function(a){for(var b=[],c=y.order(M.array(M.array(a.nodes.iterator()).iterator()),function(a,b){return C.compare(b.positiveWeight(),a.positiveWeight())}),d=function(){var a=null;return a=function(d,e){if(c.remove(d)){var f=b[e];null==f&&(f=b[e]=[]);f.push(d.id);for(f=d.graph.edges.positives(d);f.hasNext();){var i=f.next();a(i.head,e+1)}}}}(this);0<c.length;)d(c[0],0);for(d=0;d<b.length;){var e=b[d];++d;y.order(M.array(e.iterator()),function(b,c){return C.compare(a.nodes.get(c).positiveWeight(),
a.nodes.get(b).positiveWeight())})}return b},__class__:s.HeaviestNodeLayer};s.LongestPathLayer=function(){};s.LongestPathLayer.__name__=["thx","graph","LongestPathLayer"];s.LongestPathLayer.distanceToASink=function(a,b){var c=function(){var a=null;return a=function(b,c){for(var e=c;b.hasNext();){var k=b.next();k.head.isSink()||(e=I.max(e,a(k.head.positives(),c+1)))}return e}}(this);return b.isIsolated()?0:c(b.graph.edges.positives(b),1)};s.LongestPathLayer.prototype={lay:function(a){for(var a=a.clone(),
b=[[]],c=0,d=a.findSinks();c<d.length;){var e=d[c];++c;b[0].push(e.id)}c=0;for(d=M.filter(a.nodes.iterator(),function(a){return!a.isSink()});c<d.length;){e=d[c];++c;var g=s.LongestPathLayer.distanceToASink(a,e),h=b[g];null==h&&(h=b[g]=[]);h.push(e.id)}b.reverse();return b},__class__:s.LongestPathLayer};s.OneCycleRemover=function(){};s.OneCycleRemover.__name__=["thx","graph","OneCycleRemover"];s.OneCycleRemover.prototype={remove:function(a){for(var b=[],c=a.nodes.collection.iterator();c.hasNext();){var d=
c.next(),a=d.predecessorBy(d);null!=a&&(b.push({node:d,weight:a.weight,data:a.data}),a.graph.edges._remove(a))}return b},__class__:s.OneCycleRemover};s.SugiyamaMethod=function(a,b,c,d){this.partitioner=null==a?new s.GreedyCyclePartitioner:a;this.layer=null==b?new s.LongestPathLayer:b;this.splitter=null==c?new s.EdgeSplitter:c;this.decrosser=null==d?s.GreedySwitchDecrosser.best():d};s.SugiyamaMethod.__name__=["thx","graph","SugiyamaMethod"];s.SugiyamaMethod.prototype={partitioner:null,layer:null,splitter:null,
decrosser:null,resolve:function(a,b,c){var d=(new s.OneCycleRemover).remove(a),e=(new s.TwoCycleRemover).remove(a),g=this.partitioner.partition(a),h=new ba;(g.left.length>g.right.length?g.right:g.left).forEach(function(a){h.set(a.tail.id+"-"+a.head.id,[a.invert()])});g=this.layer.lay(a);a=new s.GraphLayout(a,g);g=[];a=this.splitter.split(a,g,b,c);g.forEach(function(a){var b=a[a.length-1].head.id+"-"+a[0].tail.id;h.exists(b)&&h.set(b,a)});a=this.decrosser.decross(a);for(b=h.iterator();b.hasNext();)b.next().forEach(function(a){a.invert()});
for(b=0;b<e.length;)c=e[b],++b,a.graph.edges.create(c.tail,c.head,c.weight,c.data);for(b=0;b<d.length;)c=d[b],++b,a.graph.edges.create(c.node,c.node,c.weight,c.data);return a},__class__:s.SugiyamaMethod};s.TwoCycleRemover=function(){};s.TwoCycleRemover.__name__=["thx","graph","TwoCycleRemover"];s.TwoCycleRemover.prototype={remove:function(a){for(var b=[],a=a.nodes.collection.iterator();a.hasNext();)for(var c=a.next(),d=c.graph.edges.positives(c);d.hasNext();){var e=d.next().head.predecessorBy(c);
null!=e&&(b.push({tail:e.tail,head:e.head,weight:e.weight,data:e.data}),e.graph.edges._remove(e))}return b},__class__:s.TwoCycleRemover};W={Json:function(){}};W.Json.__name__=["thx","json","Json"];W.Json.nativeEncoder=null;W.Json.nativeDecoder=null;W.Json.encode=function(a){if(null!=W.Json.nativeEncoder)return W.Json.nativeEncoder(a);var b=new W.JsonEncoder;(new La.ValueEncoder(b)).encode(a);return b.encodedString};W.Json.decode=function(a){if(null!=W.Json.nativeDecoder)return W.Json.nativeDecoder(a);
var b=new La.ValueHandler;(new W.JsonDecoder(b)).decode(a);return b.value};W.Json.prototype={__class__:W.Json};W.JsonDecoder=function(a,b){null==b&&(b=4);this.handler=a;this.tabsize=b};W.JsonDecoder.__name__=["thx","json","JsonDecoder"];W.JsonDecoder.prototype={col:null,line:null,tabsize:null,src:null,"char":null,pos:null,handler:null,decode:function(a){this.line=this.col=0;this.src=a;this["char"]=null;this.pos=0;this.ignoreWhiteSpace();this.handler.start();try{this.parse()}catch(b){if(D.Boot.__instanceof(b,
W._JsonDecoder.StreamError))this.error("unexpected end of stream");else throw b;}this.ignoreWhiteSpace();this.pos<this.src.length&&this.error("the stream contains unrecognized characters at its end");this.handler.end()},ignoreWhiteSpace:function(){for(;this.pos<this.src.length;){var a=this.readChar();switch(a){case " ":this.col++;break;case "\n":this.col=0;this.line++;break;case "\r":break;case "\t":this.col+=this.tabsize;break;default:this["char"]=a;return}}},parse:function(){var a=this.readChar();
switch(a){case "{":return this.col++,this.ignoreWhiteSpace(),this.parseObject();case "[":return this.col++,this.ignoreWhiteSpace(),this.parseArray();case '"':return this["char"]=a,this.parseString();default:return this["char"]=a,this.parseValue()}},readChar:function(){if(null==this["char"]){if(this.pos==this.src.length)throw W._JsonDecoder.StreamError.Eof;return this.src.charAt(this.pos++)}var a=this["char"];this["char"]=null;return a},expect:function(a){return(null==this["char"]?this.src.substr(this.pos,
a.length):this["char"]+this.src.substr(this.pos,a.length-1))==a?(null==this["char"]?this.pos+=a.length:(this.pos+=a.length-1,this["char"]=null),!0):!1},parseObject:function(){var a=!0;for(this.handler.objectStart();;){this.ignoreWhiteSpace();if(this.expect("}"))break;else a?a=!1:this.expect(",")?this.ignoreWhiteSpace():this.error("expected ','");var b=this._parseString();this.ignoreWhiteSpace();this.expect(":")||this.error("expected ':'");this.ignoreWhiteSpace();this.handler.objectFieldStart(b);this.parse();
this.handler.objectFieldEnd()}this.handler.objectEnd()},parseArray:function(){this.ignoreWhiteSpace();var a=!0;for(this.handler.arrayStart();;){this.ignoreWhiteSpace();if(this.expect("]"))break;else a?a=!1:this.expect(",")?this.ignoreWhiteSpace():this.error("expected ','");this.handler.arrayItemStart();this.parse();this.handler.arrayItemEnd()}this.handler.arrayEnd()},parseValue:function(){this.expect("true")?this.handler.valueBool(!0):this.expect("false")?this.handler.valueBool(!1):this.expect("null")?
this.handler.valueNull():this.parseFloat()},parseString:function(){this.handler.valueString(this._parseString())},_parseString:function(){this.expect('"')||this.error("expected double quote");var a="",b=!1;try{for(;;){var c=this.readChar();this.col++;if(b){switch(c){case '"':a+='"';break;case "\\":a+="\\";break;case "/":a+="/";break;case "b":a+=String.fromCharCode(8);break;case "f":a+=String.fromCharCode(12);break;case "n":a+="\n";break;case "r":a+="\r";break;case "t":a+="\t";break;case "u":a+=String.fromCharCode(this.parseHexa());
break;default:this.error("unexpected char "+c)}b=!1}else switch(c){case "\\":b=!0;break;case '"':throw"__break__";default:a+=c}}}catch(d){if("__break__"!=d)throw d;}return a},parseHexa:function(){for(var a=[],b=0;4>b;){b++;var c=this.readChar(),d=c.toLowerCase().charCodeAt(0);48<=d&&57>=d||97<=d&&102>=d||this.error("invalid hexadecimal value "+c);a.push(c)}this.handler.valueInt(i.parseInt("0x"+a.join("")));return i.parseInt("0x"+a.join(""))},parseFloat:function(){var a="";this.expect("-")&&(a="-");
if(this.expect("0"))a+="0";else{var b=this.readChar(),c=b.charCodeAt(0);(49>c||57<c)&&this.error("expected digit between 1 and 9");a+=b;this.col++}try{a+=this.parseDigits()}catch(d){if(D.Boot.__instanceof(d,W._JsonDecoder.StreamError)){this.handler.valueInt(i.parseInt(a));return}throw d;}try{if(this.expect("."))a+="."+this.parseDigits(1);else{this.handler.valueInt(i.parseInt(a));return}if(this.expect("e")||this.expect("E"))a+="e",this.expect("+")||this.expect("-")&&(a+="-"),a+=this.parseDigits(1)}catch(e){if(D.Boot.__instanceof(e,
W._JsonDecoder.StreamError)){this.handler.valueFloat(i.parseFloat(a));return}throw e;}this.handler.valueFloat(i.parseFloat(a))},parseDigits:function(a){null==a&&(a=0);for(var b="";;){var c=null;try{c=this.readChar()}catch(d){if(D.Boot.__instanceof(d,W._JsonDecoder.StreamError))return b.length<a&&this.error("expected digit"),b;throw d;}var e=c.charCodeAt(0);if(48>e||57<e)return b.length<a&&this.error("expected digit"),this.col+=b.length,this["char"]=c,b;b+=c}return null},error:function(a){var b=this.pos==
this.src.length?"":"\nrest: "+(null!=this["char"]?this["char"]:"")+this.src.substr(this.pos)+"...";throw new x.Error("error at L {0} C {1}: {2}{3}",[this.line,this.col,a,b],null,{fileName:"JsonDecoder.hx",lineNumber:358,className:"thx.json.JsonDecoder",methodName:"error"});},__class__:W.JsonDecoder};W._JsonDecoder={};W._JsonDecoder.StreamError={__ename__:["thx","json","_JsonDecoder","StreamError"],__constructs__:["Eof"]};W._JsonDecoder.StreamError.Eof=["Eof",0];W._JsonDecoder.StreamError.Eof.toString=
v;W._JsonDecoder.StreamError.Eof.__enum__=W._JsonDecoder.StreamError;W.JsonEncoder=function(){};W.JsonEncoder.__name__=["thx","json","JsonEncoder"];W.JsonEncoder.__interfaces__=[La.IDataHandler];W.JsonEncoder.prototype={encodedString:null,buf:null,lvl:null,count:null,start:function(){this.lvl=0;this.buf=new Ob;this.encodedString=null;this.count=[]},end:function(){this.encodedString=this.buf.b.join("");this.buf=null},objectStart:function(){this.buf.add("{");this.count.push(0)},objectFieldStart:function(a){0<
this.count[this.count.length-1]++&&this.buf.add(",");this.buf.add(this.quote(a)+":")},objectFieldEnd:function(){},objectEnd:function(){this.buf.add("}");this.count.pop()},arrayStart:function(){this.buf.add("[");this.count.push(0)},arrayItemStart:function(){0<this.count[this.count.length-1]++&&this.buf.add(",")},arrayItemEnd:function(){},arrayEnd:function(){this.buf.add("]");this.count.pop()},valueDate:function(a){this.buf.add(a.getTime())},valueString:function(a){this.buf.add(this.quote(a))},valueInt:function(a){this.buf.add(a)},
valueFloat:function(a){this.buf.add(a)},valueNull:function(){this.buf.add("null")},valueBool:function(a){this.buf.add(a?"true":"false")},comment:function(){},quote:function(a){return'"'+(new Q(".","")).customReplace((new Q("(\n)","g")).replace((new Q('("|\\\\)',"g")).replace(a,"\\$1"),"\\n"),function(a){a=a.matched(0).charCodeAt(0);return 32<=a&&127>=a?String.fromCharCode(a):"\\u"+E.hex(a,4)})+'"'},__class__:W.JsonEncoder};B.Const=function(){};B.Const.__name__=["thx","math","Const"];B.Const.prototype=
{__class__:B.Const};B.Ease=function(){};B.Ease.__name__=["thx","math","Ease"];B.Ease.mode=function(a,b){if(null==b)b=B.Equations.cubic;if(null==a)a=B.EaseMode.EaseIn;switch(a[1]){case 0:return b;case 1:return function(a){return 1-b(1-a)};case 2:return function(a){return 0.5*(0.5>a?b(2*a):2-b(2-2*a))};case 3:return B.Ease.mode(B.EaseMode.EaseInEaseOut,B.Ease.mode(B.EaseMode.EaseOut,b))}};B.Ease.prototype={__class__:B.Ease};B.EaseMode={__ename__:["thx","math","EaseMode"],__constructs__:["EaseIn","EaseOut",
"EaseInEaseOut","EaseOutEaseIn"]};B.EaseMode.EaseIn=["EaseIn",0];B.EaseMode.EaseIn.toString=v;B.EaseMode.EaseIn.__enum__=B.EaseMode;B.EaseMode.EaseOut=["EaseOut",1];B.EaseMode.EaseOut.toString=v;B.EaseMode.EaseOut.__enum__=B.EaseMode;B.EaseMode.EaseInEaseOut=["EaseInEaseOut",2];B.EaseMode.EaseInEaseOut.toString=v;B.EaseMode.EaseInEaseOut.__enum__=B.EaseMode;B.EaseMode.EaseOutEaseIn=["EaseOutEaseIn",3];B.EaseMode.EaseOutEaseIn.toString=v;B.EaseMode.EaseOutEaseIn.__enum__=B.EaseMode;B.Random=function(a){null==
a&&(a=1);this.seed=a};B.Random.__name__=["thx","math","Random"];B.Random.prototype={seed:null,"int":function(){return(this.seed=16807*this.seed%2147483647)&1073741823},"float":function(){return((this.seed=16807*this.seed%2147483647)&1073741823)/1073741823},__class__:B.Random};B.scale={};B.scale.IScale=function(){};B.scale.IScale.__name__=["thx","math","scale","IScale"];B.scale.IScale.prototype={scale:null,getDomain:null,getRange:null,__class__:B.scale.IScale};B.scale.NumericScale=function(){};B.scale.NumericScale.__name__=
["thx","math","scale","NumericScale"];B.scale.NumericScale.__interfaces__=[B.scale.IScale];B.scale.NumericScale.prototype={_domain:null,_range:null,_output:null,scale:function(a){return this._output(a)},getDomain:function(){return this._domain},getRange:function(){return this._range},ticks:function(){throw new x.AbstractMethod({fileName:"NumericScale.hx",lineNumber:86,className:"thx.math.scale.NumericScale",methodName:"ticks"});},tickFormat:function(){throw new x.AbstractMethod({fileName:"NumericScale.hx",
lineNumber:91,className:"thx.math.scale.NumericScale",methodName:"tickFormat"});},__class__:B.scale.NumericScale};B.scale.Linear=function(){};B.scale.Linear.__name__=["thx","math","scale","Linear"];B.scale.Linear.__super__=B.scale.NumericScale;B.scale.Linear.prototype=w(B.scale.NumericScale.prototype,{m:null,tickRange:function(){var a=y.min(this._domain),b=y.max(this._domain),c=b-a,d=Math.pow(10,Math.floor(Math.log(c/this.m)/2.302585092994046)),c=this.m/(c/d);0.15>=c?d*=10:0.35>=c?d*=5:0.75>=c&&(d*=
2);return{start:Math.ceil(a/d)*d,stop:Math.floor(b/d)*d+0.5*d,step:d}},ticks:function(){var a=this.tickRange();return C.range(a.start,a.stop,a.step)},tickFormat:function(a){var b=Math.max(0,-Math.floor(Math.log(this.tickRange().step)/2.302585092994046+0.01));return C.format(a,"D:"+b)},__class__:B.scale.Linear});B.scale.LinearT=function(){};B.scale.LinearT.__name__=["thx","math","scale","LinearT"];B.scale.LinearT.__interfaces__=[B.scale.IScale];B.scale.LinearT.prototype={_domain:null,_range:null,_output:null,
scale:function(a){return this._output(a)},getDomain:function(){return this._domain},getRange:function(){return this._range},__class__:B.scale.LinearT};p={Arc:function(){this._r0=function(){return 0};this._r1=function(){return 1};this._a0=function(){return 0};this._a1=function(){return Math.PI}}};p.Arc.__name__=["thx","svg","Arc"];p.Arc.fromAngleObject=function(){return(new p.Arc).startAnglef(function(a){return a.startAngle}).endAnglef(function(a){return a.endAngle})};p.Arc.prototype={_r0:null,_r1:null,
_a0:null,_a1:null,innerRadius:function(a){return this.innerRadiusf(function(){return a})},innerRadiusf:function(a){this._r0=a;return this},outerRadius:function(a){return this.outerRadiusf(function(){return a})},outerRadiusf:function(a){this._r1=a;return this},startAnglef:function(a){this._a0=a;return this},endAnglef:function(a){this._a1=a;return this},shape:function(a,b){var c=this._a0(a,b)+p.LineInternals.arcOffset,d=this._a1(a,b)+p.LineInternals.arcOffset,e=d-c,g=e<Math.PI?"0":"1",h=Math.cos(c),
c=Math.sin(c),i=Math.cos(d),d=Math.sin(d),j=this._r0(a,b),l=this._r1(a,b);return e>=p.LineInternals.arcMax?0!=j?"M0,"+l+"A"+l+","+l+" 0 1,1 0,"+-l+"A"+l+","+l+" 0 1,1 0,"+l+"M0,"+j+"A"+j+","+j+" 0 1,1 0,"+-j+"A"+j+","+j+" 0 1,1 0,"+j+"Z":"M0,"+l+"A"+l+","+l+" 0 1,1 0,"+-l+"A"+l+","+l+" 0 1,1 0,"+l+"Z":0!=j?"M"+l*h+","+l*c+"A"+l+","+l+" 0 "+g+",1 "+l*i+","+l*d+"L"+j*i+","+j*d+"A"+j+","+j+" 0 "+g+",0 "+j*h+","+j*c+"Z":"M"+l*h+","+l*c+"A"+l+","+l+" 0 "+g+",1 "+l*i+","+l*d+"L0,0Z"},__class__:p.Arc};p.Area=
function(a,b,c,d){this._x=a;this._y0=b;this._y1=c;this._interpolator=d};p.Area.__name__=["thx","svg","Area"];p.Area.prototype={_x:null,_y0:null,_y1:null,_interpolator:null,shape:function(a){var b=p.LineInternals.linePoints(a,this._x,this._y0);b.reverse();return 1>a.length?null:"M"+p.LineInternals.interpolatePoints(p.LineInternals.linePoints(a,this._x,this._y1),this._interpolator)+"L"+p.LineInternals.interpolatePoints(b,this._interpolator)+"Z"},interpolator:function(a){this._interpolator=a;return this},
x:function(a){this._x=a;return this},y0:function(a){this._y0=a;return this},y1:function(a){this._y1=a;return this},__class__:p.Area};p.Diagonal=function(){this._projection=p.Diagonal.diagonalProjection};p.Diagonal.__name__=["thx","svg","Diagonal"];p.Diagonal.diagonalProjection=function(a){return a};p.Diagonal.forObject=function(){return(new p.Diagonal).sourcef(function(a){return[a.x0,a.y0]}).targetf(function(a){return[a.x1,a.y1]})};p.Diagonal.forArray=function(){return(new p.Diagonal).sourcef(function(a){return[a[0],
a[1]]}).targetf(function(a){return[a[2],a[3]]})};p.Diagonal.prototype={_source:null,_target:null,_projection:null,diagonal:function(a,b){var c=this._source(a,b),d=this._target(a,b),e=(c[1]+d[1])/2,c=[c,[c[0],e],[d[0],e],d].map(this._projection);return"M "+c[0][0]+" "+c[0][1]+" C "+c[1][0]+" "+c[1][1]+" "+c[2][0]+" "+c[2][1]+" "+c[3][0]+" "+c[3][1]},sourcef:function(a){this._source=a;return this},targetf:function(a){this._target=a;return this},projection:function(a){this._projection=a;return this},
__class__:p.Diagonal};p.Line=function(a,b,c){this._x=a;this._y=b;this._interpolator=c};p.Line.__name__=["thx","svg","Line"];p.Line.prototype={_x:null,_y:null,_interpolator:null,shape:function(a){return 1>a.length?null:"M"+p.LineInternals.interpolatePoints(p.LineInternals.linePoints(a,this._x,this._y),this._interpolator)},interpolator:function(a){this._interpolator=a;return this},__class__:p.Line};p.LineInternals=function(){};p.LineInternals.__name__=["thx","svg","LineInternals"];p.LineInternals.linePoints=
function(a,b,c){for(var d=[],e,g=0,h=a.length;g<h;){var i=g++;d.push([b(e=a[i],i),c(e,i)])}return d};p.LineInternals.interpolatePoints=function(a,b){if(null==b)b=p.LineInterpolator.Linear;var c=[],d=0,e=a.length,g=a[0],h=b;switch(h[1]){case 0:for(c.push(g[0]+","+g[1]);++d<e;)g=a[d],c.push("L"+g[0]+","+g[1]);break;case 1:for(c.push(g[0]+","+g[1]);++d<e-1;)g=a[d],h=a[d+1],c.push("H"+(g[0]+h[0])/2+"V"+g[1]);g=a[d];c.push("H"+g[0]+"V"+g[1]);break;case 2:for(c.push(g[0]+","+g[1]);++d<e;)g=a[d],c.push("V"+
g[1]+"H"+g[0]);break;case 3:for(c.push(g[0]+","+g[1]);++d<e;)g=a[d],c.push("H"+g[0]+"V"+g[1]);break;case 4:if(3>a.length)return p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear);var d=1,g=a[1],i=g[0],j=g[1],h=[i,i,i,g[0]],l=[j,j,j,g[1]];c.push(i+","+j);for(p.LineInternals._lineBasisBezier(c,h,l);++d<e;)g=a[d],h.shift(),h.push(g[0]),l.shift(),l.push(g[1]),p.LineInternals._lineBasisBezier(c,h,l);for(d=-1;2>++d;)h.shift(),h.push(g[0]),l.shift(),l.push(g[1]),p.LineInternals._lineBasisBezier(c,
h,l);break;case 5:if(4>a.length)return p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear);d=-1;h=[0];for(l=[0];3>++d;)g=a[d],h.push(g[0]),l.push(g[1]);c.push(p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier3,h)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier3,l));for(--d;++d<e;)g=a[d],h.shift(),h.push(g[0]),l.shift(),l.push(g[1]),p.LineInternals._lineBasisBezier(c,h,l);break;case 6:d=-1;i=e+4;h=[];for(l=[];4>++d;)g=a[d%e],h.push(g[0]),l.push(g[1]);c.push(p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier3,
h)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier3,l));for(--d;++d<i;)g=a[d%e],h.shift(),h.push(g[0]),l.shift(),l.push(g[1]),p.LineInternals._lineBasisBezier(c,h,l);break;case 7:return c=h[2],null==c&&(c=0.7),3>a.length?p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear):a[0][0]+","+a[0][1]+p.LineInternals._lineHermite(a,p.LineInternals._lineCardinalTangents(a,c));case 8:return c=h[2],4>a.length?p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear):a[1][0]+","+
a[1][1]+p.LineInternals._lineCardinalTangents(a,c);case 9:return c=h[2],null==c&&(c=0.7),3>a.length?p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear):a[0][0]+","+a[0][1]+p.LineInternals._lineHermite(a,p.LineInternals._lineCardinalTangents([a[a.length-2]].concat(a).concat([a[1]]),c));case 10:return 3>a.length?p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear):a[0]+p.LineInternals._lineHermite(a,p.LineInternals._lineMonotoneTangents(a))}return c.join("")};p.LineInternals._lineDot4=
function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};p.LineInternals._lineBasisBezier=function(a,b,c){a.push("C"+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier1,b)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier1,c)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier2,b)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier2,c)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier3,b)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier3,
c))};p.LineInternals._lineSlope=function(a,b){return(b[1]-a[1])/(b[0]-a[0])};p.LineInternals._lineFiniteDifferences=function(a){for(var b=0,c=a.length-1,d=[],e=a[1],g=d[0]=p.LineInternals._lineSlope(a[0],e);++b<c;)d[b]=g+(g=p.LineInternals._lineSlope(e,e=a[b+1]));d[b]=g;return d};p.LineInternals._lineMonotoneTangents=function(a){for(var b=[],c,d,e,g,h=p.LineInternals._lineFiniteDifferences(a),i=-1,j=a.length-1;++i<j;)c=p.LineInternals._lineSlope(a[i],a[i+1]),1.0E-6>Math.abs(c)?h[i]=h[i+1]=0:(d=h[i]/
c,e=h[i+1]/c,g=d*d+e*e,9<g&&(g=3*c/Math.sqrt(g),h[i]=g*d,h[i+1]=g*e));for(i=-1;++i<=j;)g=(a[I.min(j,i+1)][0]-a[I.max(0,i-1)][0])/(6*(1+h[i]*h[i])),b.push([Math.isFinite(g)?g:0,Math.isFinite(g*=h[i])?g:0]);return b};p.LineInternals._lineHermite=function(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear);var c=a.length!=b.length,d="",e=a[0],g=a[1],h=b[0],i=h,j=1;c&&(d+="Q"+(g[0]-2*h[0]/3)+","+(g[1]-2*h[1]/3)+","+g[0]+","+
g[1],e=a[1],j=2);if(1<b.length){i=b[1];g=a[j];j++;d+="C"+(e[0]+h[0])+","+(e[1]+h[1])+","+(g[0]-i[0])+","+(g[1]-i[1])+","+g[0]+","+g[1];e=2;for(h=b.length;e<h;)i=e++,g=a[j],i=b[i],d+="S"+(g[0]-i[0])+","+(g[1]-i[1])+","+g[0]+","+g[1],j++}c&&(c=a[j],d+="Q"+(g[0]+2*i[0]/3)+","+(g[1]+2*i[1]/3)+","+c[0]+","+c[1]);return d};p.LineInternals._lineCardinalTangents=function(a,b){for(var c=[],d=(1-b)/2,e=a[0],g=a[1],h=a[2],i=2,j=a.length;++i<j;)c.push([d*(h[0]-e[0]),d*(h[1]-e[1])]),e=g,g=h,h=a[i];c.push([d*(h[0]-
e[0]),d*(h[1]-e[1])]);return c};p.LineInternals.prototype={__class__:p.LineInternals};p.LineInterpolator={__ename__:["thx","svg","LineInterpolator"],__constructs__:"Linear,Step,StepBefore,StepAfter,Basis,BasisOpen,BasisClosed,Cardinal,CardinalOpen,CardinalClosed,Monotone".split(",")};p.LineInterpolator.Linear=["Linear",0];p.LineInterpolator.Linear.toString=v;p.LineInterpolator.Linear.__enum__=p.LineInterpolator;p.LineInterpolator.Step=["Step",1];p.LineInterpolator.Step.toString=v;p.LineInterpolator.Step.__enum__=
p.LineInterpolator;p.LineInterpolator.StepBefore=["StepBefore",2];p.LineInterpolator.StepBefore.toString=v;p.LineInterpolator.StepBefore.__enum__=p.LineInterpolator;p.LineInterpolator.StepAfter=["StepAfter",3];p.LineInterpolator.StepAfter.toString=v;p.LineInterpolator.StepAfter.__enum__=p.LineInterpolator;p.LineInterpolator.Basis=["Basis",4];p.LineInterpolator.Basis.toString=v;p.LineInterpolator.Basis.__enum__=p.LineInterpolator;p.LineInterpolator.BasisOpen=["BasisOpen",5];p.LineInterpolator.BasisOpen.toString=
v;p.LineInterpolator.BasisOpen.__enum__=p.LineInterpolator;p.LineInterpolator.BasisClosed=["BasisClosed",6];p.LineInterpolator.BasisClosed.toString=v;p.LineInterpolator.BasisClosed.__enum__=p.LineInterpolator;p.LineInterpolator.Cardinal=function(a){a=["Cardinal",7,a];a.__enum__=p.LineInterpolator;a.toString=v;return a};p.LineInterpolator.CardinalOpen=function(a){a=["CardinalOpen",8,a];a.__enum__=p.LineInterpolator;a.toString=v;return a};p.LineInterpolator.CardinalClosed=function(a){a=["CardinalClosed",
9,a];a.__enum__=p.LineInterpolator;a.toString=v;return a};p.LineInterpolator.Monotone=["Monotone",10];p.LineInterpolator.Monotone.toString=v;p.LineInterpolator.Monotone.__enum__=p.LineInterpolator;p.LineInterpolators=function(){};p.LineInterpolators.__name__=["thx","svg","LineInterpolators"];p.LineInterpolators.parse=function(a,b){null==b&&(b="-");var c;switch(a.split(b)[0].toLowerCase()){case "basis":c=p.LineInterpolator.Basis;break;case "basisopen":c=p.LineInterpolator.BasisOpen;break;case "basisclosed":c=
p.LineInterpolator.BasisClosed;break;case "cardinal":c=p.LineInterpolator.Cardinal(p.LineInterpolators.argument(a));break;case "cardinalopen":c=p.LineInterpolator.CardinalOpen(p.LineInterpolators.argument(a));break;case "cardinalclosed":c=p.LineInterpolator.CardinalClosed(p.LineInterpolators.argument(a));break;case "monotone":c=p.LineInterpolator.Monotone;break;case "step":c=p.LineInterpolator.Step;break;case "stepafter":c=p.LineInterpolator.StepAfter;break;case "stepbefore":c=p.LineInterpolator.StepBefore;
break;default:c=p.LineInterpolator.Linear}return c};p.LineInterpolators.argument=function(a){a=a.split("-")[1];return null==a?null:i.parseFloat(a)};p.LineInterpolators.prototype={__class__:p.LineInterpolators};p.PathGeoJson=function(){this.setPointRadius(4.5);this.setProjection(new P.AlbersUsa);this.pathTypes=new p.PathTypes(this);this.centroidTypes=new p.CentroidTypes(this);this.areaTypes=new p.AreaTypes(this)};p.PathGeoJson.__name__=["thx","svg","PathGeoJson"];p.PathGeoJson.circle=function(a){return"m0,"+
a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"};p.PathGeoJson.prototype={pointRadius:null,projection:null,pathCircle:null,pathTypes:null,centroidTypes:null,areaTypes:null,path:function(a){return this.pathTypes.path(a)},centroid:function(a){return this.centroidTypes.centroid(a)},setPointRadius:function(a){this.pointRadius=a;this.pathCircle=p.PathGeoJson.circle(a);return a},setProjection:function(a){return this.projection=a},__class__:p.PathGeoJson,__properties__:{set_projection:"setProjection",
set_pointRadius:"setPointRadius"}};p.PathTypes=function(a){this.geo=a};p.PathTypes.__name__=["thx","svg","PathTypes"];p.PathTypes.prototype={geo:null,path:function(a){var b=j.field(this,F.lcfirst(a.type));return null==b?"":b.apply(this,[a])},featureCollection:function(a){for(var b=[],a=a.features,c=0,d=a.length;c<d;){var e=c++;b.push(this.path(a[e].geometry))}return b.join("")},feature:function(a){return this.path(a.geometry)},point:function(a){return"M"+this.project(a.coordinates)+this.geo.pathCircle},
multiPoint:function(a){for(var b=[],a=a.coordinates,c=0,d=a.length;c<d;){var e=c++;b.push("M"+this.project(a[e])+this.geo.pathCircle)}return b.join("")},lineString:function(a){for(var b=["M"],a=a.coordinates,c=0,d=a.length;c<d;){var e=c++;b.push(this.project(a[e]))}return b.join("L")},multiLineString:function(a){for(var b=[],a=a.coordinates,c=0;c<a.length;){var d=a[c];++c;b.push("M");for(var e=0,g=d.length;e<g;){var h=e++;b.push(this.project(d[h]));b.push("L")}b.pop()}return b.join("")},polygon:function(a){for(var b=
[],a=a.coordinates,c=0;c<a.length;){var d=a[c];++c;b.push("M");for(var e=0,g=d.length;e<g;){var h=e++;b.push(this.project(d[h]));b.push("L")}b[b.length-1]="Z"}return b.join("")},multiPolygon:function(a){for(var b=[],a=a.coordinates,c=0;c<a.length;){var d=a[c];++c;for(var e=0;e<d.length;){var g=d[e];++e;b.push("M");for(var h=0;h<g.length;){var i=g[h];++h;b.push(this.project(i));b.push("L")}b[b.length-1]="Z"}}return b.join("")},geometryCollection:function(a){for(var b=[],c=0,a=a.geometries;c<a.length;){var d=
a[c];++c;b.push(this.path(d))}return b.join("")},project:function(a){return this.geo.projection.project(a).join(",")},__class__:p.PathTypes};p.AreaTypes=function(a){this.geo=a};p.AreaTypes.__name__=["thx","svg","AreaTypes"];p.AreaTypes.prototype={geo:null,area:function(a){var b=j.field(this,F.lcfirst(a.type));return null==b?0:b.apply(this,[a])},featureCollection:function(a){for(var b=0,c=0,a=a.features;c<a.length;){var d=a[c];++c;b+=this.area(d.geometry)}return b},feature:function(a){return this.area(a.geometry)},
point:function(){return 0},multiPoint:function(){return 0},lineString:function(){return 0},multiLineString:function(){return 0},polygon:function(a){return this.polygonArea(a.coordinates)},multiPolygon:function(a){for(var b=0,a=a.coordinates,c=0;c<a.length;){var d=a[c];++c;b+=this.polygonArea(d)}return b},geometryCollection:function(a){for(var b=0,c=0,a=a.geometries;c<a.length;){var d=a[c];++c;b+=this.area(d)}return b},polygonArea:function(a){for(var b=this.parea(a[0]),c=1,d=a.length;c<d;)var e=c++,
b=b-this.parea(a[e]);return b},parea:function(a){return Math.abs((new K.Polygon(a.map(this.project.$bind(this)))).area())},project:function(a){return this.geo.projection.project(a)},__class__:p.AreaTypes};p.CentroidTypes=function(a){this.geo=a};p.CentroidTypes.__name__=["thx","svg","CentroidTypes"];p.CentroidTypes.prototype={geo:null,centroid:function(a){var b=j.field(this,F.lcfirst(a.type));return null==b?[0,0]:b.apply(this,[a])},point:function(a){return this.project(a.coordinates)},feature:function(a){return this.centroid(a.geometry)},
polygon:function(a){a=this.polygonCentroid(a.coordinates);return[a[0]/a[2],a[1]/a[2]]},multiPolygon:function(a){for(var b=0,c=0,d=0,e,a=a.coordinates,g=0;g<a.length;)e=a[g],++g,e=this.polygonCentroid(e),b+=e[0],c+=e[1],d+=e[2];return[b/d,c/d]},polygonCentroid:function(a){for(var b=new K.Polygon(a[0].map(this.project.$bind(this))),c=b.centroid(1),d=c[0],e=c[1],g=Math.abs(b.area()),h=1,i=a.length;h<i;)b=h++,b=new K.Polygon(a[b].map(this.project.$bind(this))),c=b.centroid(1),d-=c[0],e-=c[1],g-=Math.abs(b.area());
return[d,e,6*g]},project:function(a){return this.geo.projection.project(a)},__class__:p.CentroidTypes};p.Symbol=function(){};p.Symbol.__name__=["thx","svg","Symbol"];p.Symbol.triangleDown=function(a){var a=Math.sqrt(a/p.Symbol.sqrt3),b=a*p.Symbol.sqrt3/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"};p.Symbol.triangleUp=function(a){var a=Math.sqrt(a/p.Symbol.sqrt3),b=a*p.Symbol.sqrt3/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"};p.Symbol.square=function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+
a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"};p.Symbol.diamond=function(a){var a=Math.sqrt(a/(2*p.Symbol.tan30)),b=a*p.Symbol.tan30;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"};p.Symbol.cross=function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"};p.Symbol.circle=function(a){a=Math.sqrt(a/Math.PI);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"};p.Symbol.arrowUp=function(a){a=Math.sqrt(a/2);return"M"+
-a+",0h"+a/2+"v"+a+"h"+a+"v"+-a+"h"+a/2+"l"+-a+","+-a+"Z"};p.Symbol.arrowDown=function(a){a=Math.sqrt(a/2);return"M"+-a+",0h"+a/2+"v"+-a+"h"+a+"v"+a+"h"+a/2+"l"+-a+","+a+"Z"};p.Symbol.arrowDownWide=function(a){a=Math.sqrt(a/2.5);return"M"+-a+",0h"+a/4+"v"+-a+"h"+1.5*a+"v"+a+"h"+a/4+"l"+-a+","+a+"Z"};p.Symbol.arrowRight=function(a){a=Math.sqrt(a/2);return"M0,"+-a+"v"+a/2+"h"+-a+"v"+a+"h"+a+"v"+a/2+"l"+a+","+-a+"Z"};p.Symbol.arrowLeft=function(a){a=Math.sqrt(a/2);return"M0,"+-a+"v"+a/2+"h"+a+"v"+a+
"h"+-a+"v"+a/2+"l"+-a+","+-a+"Z"};p.Symbol.star=function(a){a=Math.sqrt(a/0.31027)/2;return"M0,"+-a+"L"+0.236*a+","+-0.325*a+" "+0.951*a+","+-0.309*a+" "+0.382*a+","+0.124*a+" "+0.588*a+","+0.809*a+" "+0*a+","+0.401*a+" "+-0.588*a+","+0.809*a+" "+-0.382*a+","+0.124*a+" "+-0.951*a+","+-0.309*a+" "+-0.236*a+","+-0.325*a+" Z"};p.Symbol.prototype={__class__:p.Symbol};Cd={ITranslation:function(){}};Cd.ITranslation.__name__=["thx","translation","ITranslation"];Cd.ITranslation.prototype={domain:null,singular:null,
plural:null,__class__:Cd.ITranslation,__properties__:{set_domain:"setDomain",get_domain:"getDomain"}};D.Boot.__res={};D.Boot.__init();if(!("indexOf"in Array.prototype))Array.prototype.indexOf=function(a,b){void 0===b&&(b=0);0>b&&(b+=this.length);0>b&&(b=0);for(var c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};if(!("lastIndexOf"in Array.prototype))Array.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);0>b&&(b+=this.length);b>this.length-1&&(b=this.length-1);for(b++;0<
b--;)if(b in this&&this[b]===a)return b;return-1};if(!("forEach"in Array.prototype))Array.prototype.forEach=function(a,b){for(var c=0,d=this.length;c<d;c++)c in this&&a.call(b,this[c],c,this)};if(!("map"in Array.prototype))Array.prototype.map=function(a,b){for(var c=Array(this.length),d=0,e=this.length;d<e;d++)d in this&&(c[d]=a.call(b,this[d],d,this));return c};if(!("filter"in Array.prototype))Array.prototype.filter=function(a,b){for(var c=[],d,e=0,g=this.length;e<g;e++)e in this&&a.call(b,d=this[e],
e,this)&&c.push(d);return c};if(!("every"in Array.prototype))Array.prototype.every=function(a,b){for(var c=0,d=this.length;c<d;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0};var Sd=new ac;qb.EMPTY=Sd.getBytes();var gd=Date;gd.now=function(){return new Date};gd.fromTime=function(a){var b=new Date;b.setTime(a);return b};gd.fromString=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;
case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};gd.prototype.toString=function(){var a=this.getMonth()+1,b=this.getDate(),c=this.getHours(),d=this.getMinutes(),e=this.getSeconds();return this.getFullYear()+"-"+(10>a?"0"+a:""+a)+"-"+(10>b?"0"+b:""+b)+" "+(10>c?"0"+c:""+c)+":"+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)};gd.prototype.__class__=
gd;gd.__name__=["Date"];Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=String;String.__name__=["String"];Array.prototype.__class__=Array;Array.__name__=["Array"];var Sb={__name__:["Int"]},Pd={__name__:["Dynamic"]},X=Number;X.__name__=["Float"];var T=Boolean;T.__ename__=["Bool"];var Qd={__name__:["Class"]},
Rd={},Kb=Ea.userAgent(),Ld=Ea.hasNavigator(),tb;Ea.host=!Ld?oa.UnknownServer:"undefined"!==typeof module&&module.exports?oa.NodeJs:(tb=new Q("MSIE(?:/| )(\\S*);","")).match(Kb)?oa.IE(tb.matched(1)):(tb=new Q("Firefox(?:/| )(\\S*)","")).match(Kb)?oa.Firefox(tb.matched(1)):(tb=new Q("Chrome(?:/| )(\\S*)","")).match(Kb)?oa.Chrome(tb.matched(1)):(tb=new Q("Version(?:/| )(\\S*) Safari(?:/| )(\\S*)","")).match(Kb)?oa.Safari(tb.matched(1)):(tb=new Q("Opera(?:/| )(\\S*)","")).match(Kb)?oa.Opera(tb.matched(1)):
oa.Unknown(Kb);Ea.os=!Ld?ja.UnknownOs:(tb=new Q("Windows NT\\s+(\\d+\\.\\d+)","")).match(Kb)?function(){var a;switch(tb.matched(1)){case "5.1":a="XP";break;case "5.2":a="2003/XP x64";break;case "6.0":a="Vista";break;case "6.1":a="7";break;case "6.2":a="8";break;default:a="unknown"}return ja.Windows(a)}(this):(new Q("Mac OS X","")).match(Kb)?ja.Mac:(new Q("(iPhone|iPad|iPod)","")).match(Kb)?ja.IOs:(new Q("Linux","")).match(Kb)?ja.Linux:(new Q("Android","")).match(Kb)?ja.Android:ja.UnknownOs;Ea.environment=
function(a){var b;switch(Ea.host[1]){case 0:b=va.Server;break;case 1:b=va.Server;break;case 2:case 6:case 3:b=va.Desktop;break;case 4:b=function(){var a;switch(Ea.os[1]){case 1:a=va.Mobile;break;default:a=va.Desktop}return a}(a);break;case 5:b=function(){var a;switch(Ea.os[1]){case 2:a=va.Mobile;break;default:a=va.Desktop}return a}(a);break;case 7:b=function(){var a;switch(Ea.os[1]){case 5:a=va.UnknownEnvironment;break;default:a=va.Desktop}return a}(a)}return b}(this);if("undefined"!=typeof document)D.Lib.document=
document;if("undefined"!=typeof window)D.Lib.window=window,D.Lib.window.onerror=function(a,b,c){var d=D.Lib.onerror;return null==d?!1:d(a,[b+":"+c])};var Md=Jb.getSizzle();Ed=Md;Ed.select=Md;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1E3/60)};var Td=D,Id;if(window.XMLHttpRequest)Id=XMLHttpRequest;else{var Nd;if(window.ActiveXObject)Nd=
function(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){throw"Unable to create XMLHttpRequest object.";}}};else throw"Unable to create XMLHttpRequest object.";Id=Nd}Td.XMLHttpRequest=Id;var Jd,Od=window.navigator.appName;Jd="Microsoft Internet Explorer"==Od?30:"Netscape"!=Od?26:28;switch(Jd){case 30:r.defaultAm=2;break;case 28:r.defaultAm=3;break;case 26:r.defaultAm=1;break;default:throw"bad dbits value";}r.DB=Jd;r.DM=(1<<r.DB)-
1;r.DV=1<<r.DB;r.BI_FP=52;r.FV=Math.pow(2,r.BI_FP);r.F1=r.BI_FP-r.DB;r.F2=2*r.DB-r.BI_FP;r.initBiRc();r.BI_RM="0123456789abcdefghijklmnopqrstuvwxyz";r.lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,
487,491,499,503,509];r.lplim=67108864/r.lowprimes[r.lowprimes.length-1]|0;var wc=window.ReportGrid?window.ReportGrid:window.ReportGrid={};wc.$=wc.$||{};wc.$.pk=wc.$.pk||{};wc.$.pk.rg_query_BaseQuery=wc.$.pk.rg_query_BaseQuery||Fa;wc.$.pk.rg_query_Query=wc.$.pk.rg_query_Query||gb;ha.SymbolCache.cache=new ha.SymbolCache;Y.layoutDefault=new ba;Y.layoutType=new ba;Y.layoutArgs=new ba;Y.layoutDefault.set("barchart","cartesian");Y.layoutDefault.set("funnelchart","simple");Y.layoutDefault.set("geo","simple");
Y.layoutDefault.set("heatgrid","cartesian");Y.layoutDefault.set("linechart","cartesian");Y.layoutDefault.set("piechart","simple");Y.layoutDefault.set("sankey","simple");Y.layoutDefault.set("scattergraph","cartesian");Y.layoutDefault.set("streamgraph","x");Y.layoutType.set("cartesian",Ja);Y.layoutType.set("simple",xc);Y.layoutType.set("x",ub);e.NamedColors.byName=new ba;e.NamedColors.byName.set("aliceblue",e.NamedColors.aliceblue=e.Rgb.fromInt(15792383));e.NamedColors.byName.set("alice blue",e.NamedColors.aliceblue);
e.NamedColors.byName.set("antiquewhite",e.NamedColors.antiquewhite=e.Rgb.fromInt(16444375));e.NamedColors.byName.set("antique white",e.NamedColors.antiquewhite);e.NamedColors.byName.set("aqua",e.NamedColors.aqua=e.Rgb.fromInt(65535));e.NamedColors.byName.set("aquamarine",e.NamedColors.aquamarine=e.Rgb.fromInt(8388564));e.NamedColors.byName.set("azure",e.NamedColors.azure=e.Rgb.fromInt(15794175));e.NamedColors.byName.set("beige",e.NamedColors.beige=e.Rgb.fromInt(16119260));e.NamedColors.byName.set("bisque",
e.NamedColors.bisque=e.Rgb.fromInt(16770244));e.NamedColors.byName.set("black",e.NamedColors.black=e.Rgb.fromInt(0));e.NamedColors.byName.set("blanchedalmond",e.NamedColors.blanchedalmond=e.Rgb.fromInt(16772045));e.NamedColors.byName.set("blanched almond",e.NamedColors.blanchedalmond);e.NamedColors.byName.set("blue",e.NamedColors.blue=e.Rgb.fromInt(255));e.NamedColors.byName.set("blueviolet",e.NamedColors.blueviolet=e.Rgb.fromInt(9055202));e.NamedColors.byName.set("blue violet",e.NamedColors.blueviolet);
e.NamedColors.byName.set("brown",e.NamedColors.brown=e.Rgb.fromInt(10824234));e.NamedColors.byName.set("burlywood",e.NamedColors.burlywood=e.Rgb.fromInt(14596231));e.NamedColors.byName.set("burly wood",e.NamedColors.burlywood);e.NamedColors.byName.set("cadetblue",e.NamedColors.cadetblue=e.Rgb.fromInt(6266528));e.NamedColors.byName.set("cadet blue",e.NamedColors.cadetblue);e.NamedColors.byName.set("chartreuse",e.NamedColors.chartreuse=e.Rgb.fromInt(8388352));e.NamedColors.byName.set("chart reuse",
e.NamedColors.chartreuse);e.NamedColors.byName.set("chocolate",e.NamedColors.chocolate=e.Rgb.fromInt(13789470));e.NamedColors.byName.set("coral",e.NamedColors.coral=e.Rgb.fromInt(16744272));e.NamedColors.byName.set("cornflowerblue",e.NamedColors.cornflowerblue=e.Rgb.fromInt(6591981));e.NamedColors.byName.set("corn flower blue",e.NamedColors.cornflowerblue);e.NamedColors.byName.set("cornsilk",e.NamedColors.cornsilk=e.Rgb.fromInt(16775388));e.NamedColors.byName.set("corn silk",e.NamedColors.cornsilk);
e.NamedColors.byName.set("crimson",e.NamedColors.crimson=e.Rgb.fromInt(14423100));e.NamedColors.byName.set("cyan",e.NamedColors.cyan=e.Rgb.fromInt(65535));e.NamedColors.byName.set("darkblue",e.NamedColors.darkblue=e.Rgb.fromInt(139));e.NamedColors.byName.set("dark blue",e.NamedColors.darkblue);e.NamedColors.byName.set("darkcyan",e.NamedColors.darkcyan=e.Rgb.fromInt(35723));e.NamedColors.byName.set("dark cyan",e.NamedColors.darkcyan);e.NamedColors.byName.set("darkgoldenrod",e.NamedColors.darkgoldenrod=
e.Rgb.fromInt(12092939));e.NamedColors.byName.set("dark golden rod",e.NamedColors.darkgoldenrod);e.NamedColors.byName.set("darkgray",e.NamedColors.darkgray=e.NamedColors.darkgrey=e.Rgb.fromInt(11119017));e.NamedColors.byName.set("dark gray",e.NamedColors.darkgray);e.NamedColors.byName.set("darkgrey",e.NamedColors.darkgrey);e.NamedColors.byName.set("dark grey",e.NamedColors.darkgrey);e.NamedColors.byName.set("darkgreen",e.NamedColors.darkgreen=e.Rgb.fromInt(25600));e.NamedColors.byName.set("dark green",
e.NamedColors.darkgreen);e.NamedColors.byName.set("darkkhaki",e.NamedColors.darkkhaki=e.Rgb.fromInt(12433259));e.NamedColors.byName.set("dark khaki",e.NamedColors.darkkhaki);e.NamedColors.byName.set("darkmagenta",e.NamedColors.darkmagenta=e.Rgb.fromInt(9109643));e.NamedColors.byName.set("dark magenta",e.NamedColors.darkmagenta);e.NamedColors.byName.set("darkolivegreen",e.NamedColors.darkolivegreen=e.Rgb.fromInt(5597999));e.NamedColors.byName.set("dark olive green",e.NamedColors.darkolivegreen);e.NamedColors.byName.set("darkorange",
e.NamedColors.darkorange=e.Rgb.fromInt(16747520));e.NamedColors.byName.set("dark orange",e.NamedColors.darkorange);e.NamedColors.byName.set("darkorchid",e.NamedColors.darkorchid=e.Rgb.fromInt(10040012));e.NamedColors.byName.set("dark orchid",e.NamedColors.darkorchid);e.NamedColors.byName.set("darkred",e.NamedColors.darkred=e.Rgb.fromInt(9109504));e.NamedColors.byName.set("dark red",e.NamedColors.darkred);e.NamedColors.byName.set("darksalmon",e.NamedColors.darksalmon=e.Rgb.fromInt(15308410));e.NamedColors.byName.set("dark salmon",
e.NamedColors.darksalmon);e.NamedColors.byName.set("darkseagreen",e.NamedColors.darkseagreen=e.Rgb.fromInt(9419919));e.NamedColors.byName.set("dark sea green",e.NamedColors.darkseagreen);e.NamedColors.byName.set("darkslateblue",e.NamedColors.darkslateblue=e.Rgb.fromInt(4734347));e.NamedColors.byName.set("dark slate blue",e.NamedColors.darkslateblue);e.NamedColors.byName.set("darkslategray",e.NamedColors.darkslategray=e.NamedColors.darkslategrey=e.Rgb.fromInt(3100495));e.NamedColors.byName.set("dark slate gray",
e.NamedColors.darkslategray);e.NamedColors.byName.set("darkslategrey",e.NamedColors.darkslategrey);e.NamedColors.byName.set("dark slate grey",e.NamedColors.darkslategrey);e.NamedColors.byName.set("darkturquoise",e.NamedColors.darkturquoise=e.Rgb.fromInt(52945));e.NamedColors.byName.set("dark turquoise",e.NamedColors.darkturquoise);e.NamedColors.byName.set("darkviolet",e.NamedColors.darkviolet=e.Rgb.fromInt(9699539));e.NamedColors.byName.set("dark violet",e.NamedColors.darkviolet);e.NamedColors.byName.set("deeppink",
e.NamedColors.deeppink=e.Rgb.fromInt(16716947));e.NamedColors.byName.set("deep pink",e.NamedColors.deeppink);e.NamedColors.byName.set("deepskyblue",e.NamedColors.deepskyblue=e.Rgb.fromInt(49151));e.NamedColors.byName.set("deep sky blue",e.NamedColors.deepskyblue);e.NamedColors.byName.set("dimgray",e.NamedColors.dimgray=e.NamedColors.dimgrey=e.Rgb.fromInt(6908265));e.NamedColors.byName.set("dim grey",e.NamedColors.dimgrey);e.NamedColors.byName.set("dimgrey",e.NamedColors.dimgrey);e.NamedColors.byName.set("dim grey",
e.NamedColors.dimgrey);e.NamedColors.byName.set("dodgerblue",e.NamedColors.dodgerblue=e.Rgb.fromInt(2003199));e.NamedColors.byName.set("dodger blue",e.NamedColors.dodgerblue);e.NamedColors.byName.set("firebrick",e.NamedColors.firebrick=e.Rgb.fromInt(11674146));e.NamedColors.byName.set("fire brick",e.NamedColors.firebrick);e.NamedColors.byName.set("floralwhite",e.NamedColors.floralwhite=e.Rgb.fromInt(16775920));e.NamedColors.byName.set("floral white",e.NamedColors.floralwhite);e.NamedColors.byName.set("forestgreen",
e.NamedColors.forestgreen=e.Rgb.fromInt(2263842));e.NamedColors.byName.set("forest green",e.NamedColors.forestgreen);e.NamedColors.byName.set("fuchsia",e.NamedColors.fuchsia=e.Rgb.fromInt(16711935));e.NamedColors.byName.set("gainsboro",e.NamedColors.gainsboro=e.Rgb.fromInt(14474460));e.NamedColors.byName.set("ghostwhite",e.NamedColors.ghostwhite=e.Rgb.fromInt(16316671));e.NamedColors.byName.set("ghost white",e.NamedColors.ghostwhite);e.NamedColors.byName.set("gold",e.NamedColors.gold=e.Rgb.fromInt(16766720));
e.NamedColors.byName.set("goldenrod",e.NamedColors.goldenrod=e.Rgb.fromInt(14329120));e.NamedColors.byName.set("golden rod",e.NamedColors.goldenrod);e.NamedColors.byName.set("gray",e.NamedColors.gray=e.NamedColors.grey=e.Rgb.fromInt(8421504));e.NamedColors.byName.set("grey",e.NamedColors.grey);e.NamedColors.byName.set("green",e.NamedColors.green=e.Rgb.fromInt(32768));e.NamedColors.byName.set("greenyellow",e.NamedColors.greenyellow=e.Rgb.fromInt(11403055));e.NamedColors.byName.set("green yellow",e.NamedColors.greenyellow);
e.NamedColors.byName.set("honeydew",e.NamedColors.honeydew=e.Rgb.fromInt(15794160));e.NamedColors.byName.set("honey dew",e.NamedColors.honeydew);e.NamedColors.byName.set("hotpink",e.NamedColors.hotpink=e.Rgb.fromInt(16738740));e.NamedColors.byName.set("hot pink",e.NamedColors.hotpink);e.NamedColors.byName.set("indianred",e.NamedColors.indianred=e.Rgb.fromInt(13458524));e.NamedColors.byName.set("indian red",e.NamedColors.indianred);e.NamedColors.byName.set("indigo",e.NamedColors.indigo=e.Rgb.fromInt(4915330));
e.NamedColors.byName.set("ivory",e.NamedColors.ivory=e.Rgb.fromInt(16777200));e.NamedColors.byName.set("khaki",e.NamedColors.khaki=e.Rgb.fromInt(15787660));e.NamedColors.byName.set("lavender",e.NamedColors.lavender=e.Rgb.fromInt(15132410));e.NamedColors.byName.set("lavenderblush",e.NamedColors.lavenderblush=e.Rgb.fromInt(16773365));e.NamedColors.byName.set("lavender blush",e.NamedColors.lavenderblush);e.NamedColors.byName.set("lawngreen",e.NamedColors.lawngreen=e.Rgb.fromInt(8190976));e.NamedColors.byName.set("lawn green",
e.NamedColors.lawngreen);e.NamedColors.byName.set("lemonchiffon",e.NamedColors.lemonchiffon=e.Rgb.fromInt(16775885));e.NamedColors.byName.set("lemon chiffon",e.NamedColors.lemonchiffon);e.NamedColors.byName.set("lightblue",e.NamedColors.lightblue=e.Rgb.fromInt(11393254));e.NamedColors.byName.set("light blue",e.NamedColors.lightblue);e.NamedColors.byName.set("lightcoral",e.NamedColors.lightcoral=e.Rgb.fromInt(15761536));e.NamedColors.byName.set("light coral",e.NamedColors.lightcoral);e.NamedColors.byName.set("lightcyan",
e.NamedColors.lightcyan=e.Rgb.fromInt(14745599));e.NamedColors.byName.set("light cyan",e.NamedColors.lightcyan);e.NamedColors.byName.set("lightgoldenrodyellow",e.NamedColors.lightgoldenrodyellow=e.Rgb.fromInt(16448210));e.NamedColors.byName.set("light golden rod yellow",e.NamedColors.lightgoldenrodyellow);e.NamedColors.byName.set("lightgray",e.NamedColors.lightgray=e.NamedColors.lightgrey=e.Rgb.fromInt(13882323));e.NamedColors.byName.set("light gray",e.NamedColors.lightgray);e.NamedColors.byName.set("lightgrey",
e.NamedColors.lightgrey);e.NamedColors.byName.set("light grey",e.NamedColors.lightgrey);e.NamedColors.byName.set("lightgreen",e.NamedColors.lightgreen=e.Rgb.fromInt(9498256));e.NamedColors.byName.set("light green",e.NamedColors.lightgreen);e.NamedColors.byName.set("lightpink",e.NamedColors.lightpink=e.Rgb.fromInt(16758465));e.NamedColors.byName.set("light pink",e.NamedColors.lightpink);e.NamedColors.byName.set("lightsalmon",e.NamedColors.lightsalmon=e.Rgb.fromInt(16752762));e.NamedColors.byName.set("light salmon",
e.NamedColors.lightsalmon);e.NamedColors.byName.set("lightseagreen",e.NamedColors.lightseagreen=e.Rgb.fromInt(2142890));e.NamedColors.byName.set("light sea green",e.NamedColors.lightseagreen);e.NamedColors.byName.set("lightskyblue",e.NamedColors.lightskyblue=e.Rgb.fromInt(8900346));e.NamedColors.byName.set("light sky blue",e.NamedColors.lightskyblue);e.NamedColors.byName.set("lightslategray",e.NamedColors.lightslategray=e.NamedColors.lightslategrey=e.Rgb.fromInt(7833753));e.NamedColors.byName.set("light slate gray",
e.NamedColors.lightslategray);e.NamedColors.byName.set("lightslategrey",e.NamedColors.lightslategrey);e.NamedColors.byName.set("light slate grey",e.NamedColors.lightslategrey);e.NamedColors.byName.set("lightsteelblue",e.NamedColors.lightsteelblue=e.Rgb.fromInt(11584734));e.NamedColors.byName.set("light steel blue",e.NamedColors.lightsteelblue);e.NamedColors.byName.set("lightyellow",e.NamedColors.lightyellow=e.Rgb.fromInt(16777184));e.NamedColors.byName.set("light yellow",e.NamedColors.lightyellow);
e.NamedColors.byName.set("lime",e.NamedColors.lime=e.Rgb.fromInt(65280));e.NamedColors.byName.set("limegreen",e.NamedColors.limegreen=e.Rgb.fromInt(3329330));e.NamedColors.byName.set("lime green",e.NamedColors.limegreen);e.NamedColors.byName.set("linen",e.NamedColors.linen=e.Rgb.fromInt(16445670));e.NamedColors.byName.set("magenta",e.NamedColors.magenta=e.Rgb.fromInt(16711935));e.NamedColors.byName.set("maroon",e.NamedColors.maroon=e.Rgb.fromInt(8388608));e.NamedColors.byName.set("mediumaquamarine",
e.NamedColors.mediumaquamarine=e.Rgb.fromInt(6737322));e.NamedColors.byName.set("mediuma quamarine",e.NamedColors.mediumaquamarine);e.NamedColors.byName.set("mediumblue",e.NamedColors.mediumblue=e.Rgb.fromInt(205));e.NamedColors.byName.set("medium blue",e.NamedColors.mediumblue);e.NamedColors.byName.set("mediumorchid",e.NamedColors.mediumorchid=e.Rgb.fromInt(12211667));e.NamedColors.byName.set("medium orchid",e.NamedColors.mediumorchid);e.NamedColors.byName.set("mediumpurple",e.NamedColors.mediumpurple=
e.Rgb.fromInt(9662683));e.NamedColors.byName.set("medium purple",e.NamedColors.mediumpurple);e.NamedColors.byName.set("mediumseagreen",e.NamedColors.mediumseagreen=e.Rgb.fromInt(3978097));e.NamedColors.byName.set("medium sea green",e.NamedColors.mediumseagreen);e.NamedColors.byName.set("mediumslateblue",e.NamedColors.mediumslateblue=e.Rgb.fromInt(8087790));e.NamedColors.byName.set("medium slate blue",e.NamedColors.mediumslateblue);e.NamedColors.byName.set("mediumspringgreen",e.NamedColors.mediumspringgreen=
e.Rgb.fromInt(64154));e.NamedColors.byName.set("medium spring green",e.NamedColors.mediumspringgreen);e.NamedColors.byName.set("mediumturquoise",e.NamedColors.mediumturquoise=e.Rgb.fromInt(4772300));e.NamedColors.byName.set("medium turquoise",e.NamedColors.mediumturquoise);e.NamedColors.byName.set("mediumvioletred",e.NamedColors.mediumvioletred=e.Rgb.fromInt(13047173));e.NamedColors.byName.set("medium violet red",e.NamedColors.mediumvioletred);e.NamedColors.byName.set("midnightblue",e.NamedColors.midnightblue=
e.Rgb.fromInt(1644912));e.NamedColors.byName.set("midnight blue",e.NamedColors.midnightblue);e.NamedColors.byName.set("mintcream",e.NamedColors.mintcream=e.Rgb.fromInt(16121850));e.NamedColors.byName.set("mint cream",e.NamedColors.mintcream);e.NamedColors.byName.set("mistyrose",e.NamedColors.mistyrose=e.Rgb.fromInt(16770273));e.NamedColors.byName.set("misty rose",e.NamedColors.mistyrose);e.NamedColors.byName.set("moccasin",e.NamedColors.moccasin=e.Rgb.fromInt(16770229));e.NamedColors.byName.set("navajowhite",
e.NamedColors.navajowhite=e.Rgb.fromInt(16768685));e.NamedColors.byName.set("navajo white",e.NamedColors.navajowhite);e.NamedColors.byName.set("navy",e.NamedColors.navy=e.Rgb.fromInt(128));e.NamedColors.byName.set("oldlace",e.NamedColors.oldlace=e.Rgb.fromInt(16643558));e.NamedColors.byName.set("old lace",e.NamedColors.oldlace);e.NamedColors.byName.set("olive",e.NamedColors.olive=e.Rgb.fromInt(8421376));e.NamedColors.byName.set("olivedrab",e.NamedColors.olivedrab=e.Rgb.fromInt(7048739));e.NamedColors.byName.set("olive drab",
e.NamedColors.olivedrab);e.NamedColors.byName.set("orange",e.NamedColors.orange=e.Rgb.fromInt(16753920));e.NamedColors.byName.set("orangered",e.NamedColors.orangered=e.Rgb.fromInt(16729344));e.NamedColors.byName.set("orangered",e.NamedColors.orangered);e.NamedColors.byName.set("orchid",e.NamedColors.orchid=e.Rgb.fromInt(14315734));e.NamedColors.byName.set("palegoldenrod",e.NamedColors.palegoldenrod=e.Rgb.fromInt(15657130));e.NamedColors.byName.set("pale golden rod",e.NamedColors.palegoldenrod);e.NamedColors.byName.set("palegreen",
e.NamedColors.palegreen=e.Rgb.fromInt(10025880));e.NamedColors.byName.set("pale green",e.NamedColors.palegreen);e.NamedColors.byName.set("paleturquoise",e.NamedColors.paleturquoise=e.Rgb.fromInt(11529966));e.NamedColors.byName.set("pale turquoise",e.NamedColors.paleturquoise);e.NamedColors.byName.set("palevioletred",e.NamedColors.palevioletred=e.Rgb.fromInt(14381203));e.NamedColors.byName.set("pale violet red",e.NamedColors.palevioletred);e.NamedColors.byName.set("papayawhip",e.NamedColors.papayawhip=
e.Rgb.fromInt(16773077));e.NamedColors.byName.set("papaya whip",e.NamedColors.papayawhip);e.NamedColors.byName.set("peachpuff",e.NamedColors.peachpuff=e.Rgb.fromInt(16767673));e.NamedColors.byName.set("peach puff",e.NamedColors.peachpuff);e.NamedColors.byName.set("peru",e.NamedColors.peru=e.Rgb.fromInt(13468991));e.NamedColors.byName.set("pink",e.NamedColors.pink=e.Rgb.fromInt(16761035));e.NamedColors.byName.set("plum",e.NamedColors.plum=e.Rgb.fromInt(14524637));e.NamedColors.byName.set("powderblue",
e.NamedColors.powderblue=e.Rgb.fromInt(11591910));e.NamedColors.byName.set("powder blue",e.NamedColors.powderblue);e.NamedColors.byName.set("purple",e.NamedColors.purple=e.Rgb.fromInt(8388736));e.NamedColors.byName.set("red",e.NamedColors.red=e.Rgb.fromInt(16711680));e.NamedColors.byName.set("rosybrown",e.NamedColors.rosybrown=e.Rgb.fromInt(12357519));e.NamedColors.byName.set("rosy brown",e.NamedColors.rosybrown);e.NamedColors.byName.set("royalblue",e.NamedColors.royalblue=e.Rgb.fromInt(4286945));
e.NamedColors.byName.set("royal blue",e.NamedColors.royalblue);e.NamedColors.byName.set("saddlebrown",e.NamedColors.saddlebrown=e.Rgb.fromInt(9127187));e.NamedColors.byName.set("saddle brown",e.NamedColors.saddlebrown);e.NamedColors.byName.set("salmon",e.NamedColors.salmon=e.Rgb.fromInt(16416882));e.NamedColors.byName.set("sandybrown",e.NamedColors.sandybrown=e.Rgb.fromInt(16032864));e.NamedColors.byName.set("sandy brown",e.NamedColors.sandybrown);e.NamedColors.byName.set("seagreen",e.NamedColors.seagreen=
e.Rgb.fromInt(3050327));e.NamedColors.byName.set("sea green",e.NamedColors.seagreen);e.NamedColors.byName.set("seashell",e.NamedColors.seashell=e.Rgb.fromInt(16774638));e.NamedColors.byName.set("sea shell",e.NamedColors.seashell);e.NamedColors.byName.set("sienna",e.NamedColors.sienna=e.Rgb.fromInt(10506797));e.NamedColors.byName.set("silver",e.NamedColors.silver=e.Rgb.fromInt(12632256));e.NamedColors.byName.set("skyblue",e.NamedColors.skyblue=e.Rgb.fromInt(8900331));e.NamedColors.byName.set("sky blue",
e.NamedColors.skyblue);e.NamedColors.byName.set("slateblue",e.NamedColors.slateblue=e.Rgb.fromInt(6970061));e.NamedColors.byName.set("slate blue",e.NamedColors.slateblue);e.NamedColors.byName.set("slategray",e.NamedColors.slategray=e.NamedColors.slategrey=e.Rgb.fromInt(7372944));e.NamedColors.byName.set("slate gray",e.NamedColors.slategray);e.NamedColors.byName.set("slategrey",e.NamedColors.slategrey);e.NamedColors.byName.set("slate grey",e.NamedColors.slategrey);e.NamedColors.byName.set("snow",e.NamedColors.snow=
e.Rgb.fromInt(16775930));e.NamedColors.byName.set("springgreen",e.NamedColors.springgreen=e.Rgb.fromInt(65407));e.NamedColors.byName.set("spring green",e.NamedColors.springgreen);e.NamedColors.byName.set("steelblue",e.NamedColors.steelblue=e.Rgb.fromInt(4620980));e.NamedColors.byName.set("steel blue",e.NamedColors.steelblue);e.NamedColors.byName.set("tan",e.NamedColors.tan=e.Rgb.fromInt(13808780));e.NamedColors.byName.set("teal",e.NamedColors.teal=e.Rgb.fromInt(32896));e.NamedColors.byName.set("thistle",
e.NamedColors.thistle=e.Rgb.fromInt(14204888));e.NamedColors.byName.set("tomato",e.NamedColors.tomato=e.Rgb.fromInt(16737095));e.NamedColors.byName.set("turquoise",e.NamedColors.turquoise=e.Rgb.fromInt(4251856));e.NamedColors.byName.set("violet",e.NamedColors.violet=e.Rgb.fromInt(15631086));e.NamedColors.byName.set("wheat",e.NamedColors.wheat=e.Rgb.fromInt(16113331));e.NamedColors.byName.set("white",e.NamedColors.white=e.Rgb.fromInt(16777215));e.NamedColors.byName.set("whitesmoke",e.NamedColors.whitesmoke=
e.Rgb.fromInt(16119285));e.NamedColors.byName.set("white smoke",e.NamedColors.whitesmoke);e.NamedColors.byName.set("yellow",e.NamedColors.yellow=e.Rgb.fromInt(16776960));e.NamedColors.byName.set("yellowgreen",e.NamedColors.yellowgreen=e.Rgb.fromInt(10145074));e.NamedColors.byName.set("yellow green",e.NamedColors.yellowgreen);Va.En.getLanguage();Ga.EnUS.getCulture();var Kd;if(null!=(Kd=window.JSON))W.Json.nativeDecoder=Kd.parse,W.Json.nativeEncoder=Kd.stringify;Zc.DAYS_OF_MONTH=[31,28,31,30,31,30,
31,31,30,31,30,31];sa._reparse=new Q("^\\d{4}-\\d\\d-\\d\\d(( |T)\\d\\d:\\d\\d(:\\d\\d(\\.\\d{1,3})?)?)?Z?$","");Pa.ZERO=0;I._reparse=new Q("^([+-])?\\d+$","");F._reFormat=new Q("{(\\d+)(?::([a-zA-Z]+))?(?:,([^\"',}]+|'[^']+'|\"[^\"]+\"))?(?:,([^\"',}]+|'[^']+'|\"[^\"]+\"))?(?:,([^\"',}]+|'[^']+'|\"[^\"]+\"))?}","m");F._reCollapse=new Q("\\s+","g");F.__ucwordsPattern=new Q("[^a-zA-Z]([a-z])","");F._reInterpolateNumber=new Q("[-+]?(?:\\d+\\.\\d+|\\d+\\.|\\.\\d+|\\d+)(?:[eE][-]?\\d+)?","");ca.FIELD_DATA=
"__dhx_data__";ca.FIELD_EVENT="__dhx_on__";ca.FIELD_TRANSITION="__dhx_transition__";rb.refloat=new Q("(\\d+(?:\\.\\d+)?)","");Qa._escapePattern=new Q("[*+?|{[()^$.# \\\\]","");da.refloat=new Q("(\\d+(?:\\.\\d+)?)","");D.Lib.onerror=null;G.doc=function(){var a=new ea([D.Lib.document]),b=Za.create([a]);a.parentNode=b.parentNode=D.Lib.document.documentElement;return b}();G.selectionEngine=function(){var a;if(vc.supported())a=new vc;else if(Jb.supported())a=new Jb;else throw"no selector engine available";
return a}(this);sb.prefix=function(){var a=new ba;a.set("svg","http://www.w3.org/2000/svg");a.set("xhtml","http://www.w3.org/1999/xhtml");a.set("xlink","http://www.w3.org/1999/xlink");a.set("xml","http://www.w3.org/XML/1998/namespace");a.set("xmlns","http://www.w3.org/2000/xmlns/");return a}();Qb._usepage=(new Q("WebKit","")).match(D.Lib.window.navigator.userAgent);fa.timeout=0;fa.queue=null;fa.interval=0;fa._step=fa.step;Aa._id=0;Aa._inheritid=0;ab.BASE_URL_GEOJSON="http://api.reportgrid.com/geo/json/";
ab.SERVICE_RENDERING_STATIC="http://api.reportgrid.com/services/viz/charts/up.json";ab.LEGACY_RENDERING_STATIC="http://api.reportgrid.com/services/viz/charts/upandsee.{ext}";Ma.lastid=0;Ma.chartsCounter=0;Ma.chartsLoaded=0;wb.snapping={minute:[{to:10,s:1},{to:20,s:2},{to:30,s:5},{to:60,s:10},{to:120,s:30},{to:240,s:60},{to:960,s:240}],minutetop:480,hour:[{to:12,s:1},{to:24,s:6},{to:60,s:12},{to:240,s:24},{to:480,s:48},{to:960,s:120}],hourtop:240,month:[{to:13,s:1},{to:25,s:2},{to:49,s:4},{to:73,s:6}],
monthtop:12,year:[{to:10,s:1},{to:20,s:2},{to:50,s:5}],yeartop:10};hb.LIMIT_WIDTH=10;hb.LIMIT_HEIGHT=10;hb.DEFAULT_WIDTH=400;hb.DEFAULT_HEIGHT=300;Ta.PivotTable.defaultColorStart=new e.Hsl(210,1,1);Ta.PivotTable.defaultColorEnd=new e.Hsl(210,1,0.5);z.DownloaderMenu.DEFAULT_FORMATS=["png","jpg","pdf"];z.DownloaderMenu.DEFAULT_TITLE="Download";z.Logo.registry=new ba;z.Logo._id=0;z.Logo.LOGO_WIDTH=194;z.Logo.LOGO_HEIGHT=29;z.Tooltip.DEFAULT_DISTANCE=0;z.Tooltip.DEFAULT_ANCHOR="bottomright";ib.defaultStartColor=
new e.Hsl(210,1,1);ib.defaultEndColor=new e.Hsl(210,1,0.5);Ab.ALLOWED_FORMATS=["pdf","ps","png","jpg","svg"];Da.FORMAT="jpg";Da.nextframeid=0;Ja.ALT_RIGHT=20;Ja.ALT_LEFT=20;Ja.ALT_TOP=8;Ja.ALT_BOTTOM=8;Ja.REYAXIS=new Q("^y(\\d+)$","");Ja.REYINDEX=new Q("^y(\\d+)","");Ja.REYTITLE=new Q("^y(\\d+)title$","");ub.ALT_RIGHT=20;ub.ALT_LEFT=20;ub.ALT_TOP=8;ub.ALT_BOTTOM=8;o.Coords.retransform=new Q("translate\\(\\s*(\\d+(?:\\.\\d+)?)\\s*(?:[, ]\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)","");o.StreamGraph.vid=0;zb.modulus=
"00:ca:a7:37:07:b0:26:63:cb:f1:37:9d:e9:cc:c1:bd:f1:57:f5:90:72:4d:74:e2:5f:33:df:6c:c4:e4:7f:95:3c:87:89:ed:3c:60:cc:b0:15:f9:ad:57:77:52:4b:25:9b:c8:f9:d0:8a:b8:0a:ab:17:3d:7c:cf:1d:19:a3:8c:43:9b:ee:5b:2e:9e:45:18:b3:97:2a:91:c2:90:c2:1e:49:a3:5e:b1:48:09:1c:ee:06:b9:6e:ec:22:e6:2d:06:b8:b4:22:5f:4d:5e:81:6a:91:13:30:5d:6c:b5:7c:cc:fa:47:dc:8e:b4:f3:fd:0a:6e:d2:f8:09:3c:b1:c2:90:19";zb.publicExponent="3";N.validGroupValues=["hour","day","week","month","year"];xa.TIME_TOKEN="time:";ga.range=new Q("(\\d+(?:\\.\\d+)?|\\.\\d+)?-(\\d+(?:\\.\\d+|\\.\\d+)?)?",
"");Y.html=["pivottable","leaderboard"];Y.svg="barchart,geo,funnelchart,heatgrid,linechart,piechart,scattergraph,streamgraph,sankey".split(",");Y.visualizations=Y.svg.concat(Y.html);Y.layouts=["simple","cartesian","x"];e.Colors._reParse=new Q("^(?:(hsl|rgb|rgba|cmyk)\\(([^)]+)\\))|(?:(?:0x|#)([a-f0-9]{3,6}))$","i");q.DateParser.months=Ga.EnUS.getCulture().date.months.slice(0,-1).map(function(a){return a.toLowerCase()});q.DateParser.shortmonths=Ga.EnUS.getCulture().date.abbrMonths.slice(0,-1).map(function(a){return a.toLowerCase()});
q.DateParser.days=Ga.EnUS.getCulture().date.days.map(function(a){return a.toLowerCase()});q.DateParser.shortdays=Ga.EnUS.getCulture().date.abbrDays.map(function(a){return a.toLowerCase()});q.DateParser.sfullmonths=q.DateParser.months.join("|");q.DateParser.sshortmonths=q.DateParser.shortmonths.join("|");q.DateParser.sfulldays=q.DateParser.days.join("|");q.DateParser.sshortdays=q.DateParser.shortdays.join("|");q.DateParser.day="(0?[0-9]|[1-2][0-9]|3[0-1])(?:st|nd|rd|th)?";q.DateParser.month="(?:0?[1-9]|1[0-2])";
q.DateParser.hour="(?:0?[0-9]|1[0-9]|2[0-3])";q.DateParser.hhour="(?:0[0-9]|1[0-2])";q.DateParser.hohour="(?:0?[0-9]|1[0-2])";q.DateParser.fminsec="(?:0[0-9]|[1-5][0-9])";q.DateParser.minsec="(?:0?[0-9]|[1-5][0-9])";q.DateParser.ampm="(?:(?:in\\s+the\\s+)?(am|pm|evening|morning|afternoon))";q.DateParser.daypart="(?:(?:in\\s+the\\s+)?(evening|morning|afternoon|sunsrise|sunset|dawn|dusk|noon|mid-day|midday|mid-night|midnight))";q.DateParser.period="minute|minutes|hour|hours|day|days|week|weeks|month|months|year|years|second|seconds";
q.DateParser.dateexp=new Q("(?:(?:\\b("+q.DateParser.sfullmonths+")\\s+"+q.DateParser.day+"(?:\\s*,\\s*(\\d{2,4}))?\\b)|(?:\\b("+q.DateParser.sshortmonths+")\\s+"+q.DateParser.day+"(?:\\s*,?\\s*(\\d{2,4}))?\\b)|(?:\\b"+q.DateParser.day+"\\s+("+q.DateParser.sfullmonths+")(?:\\s+(\\d{2,4}))?\\b)|(?:\\b"+q.DateParser.day+"\\s+("+q.DateParser.sshortmonths+")(?:\\s+(\\d{2,4}))?\\b)|(?:\\b(?:"+q.DateParser.day+"\\s+)?("+q.DateParser.sfullmonths+")\\s+(\\d{2,4})\\b)|(?:\\b(?:"+q.DateParser.day+"\\s+)?("+
q.DateParser.sshortmonths+")\\s+(\\d{2,4})\\b)|(?:\\b("+q.DateParser.month+")/"+q.DateParser.day+"(?:/(\\d{2,4}))?\\b)|(?:\\b"+q.DateParser.day+"/("+q.DateParser.month+")(?:/(\\d{2,4}))?\\b)|(?:\\b(\\d{2,4})-("+q.DateParser.month+")-"+q.DateParser.day+"\\b)|(?:^\\s*"+q.DateParser.day+"\\s*$))","i");q.DateParser.absdateexp=new Q("(?:(?:\\b(today|now|this\\s+second|tomorrow|yesterday)\\b)|(?:\\b(?:(next|last|this)\\s+)?("+q.DateParser.sfullmonths+")\\b)|(?:\\b(?:(next|last|this)\\s+)?("+q.DateParser.sfulldays+
")\\b)|(?:\\b(?:(next|last|this)\\s+)?("+q.DateParser.sshortmonths+")\\b)|(?:\\b(?:(next|last|this)\\s+)?("+q.DateParser.sshortdays+")\\b))","i");q.DateParser.relexp=new Q("(?:(?:\\b(plus\\s+|minus\\s|\\+|-|in)\\s*(\\d+)?\\s+("+q.DateParser.period+")\\b)|(?:\\b(\\d+)?\\s+("+q.DateParser.period+")\\s+(from|before|hence|after|ago)?\\b))","i");q.DateParser.timeexp=new Q("(?:\\bat\\s+)?(?:(?:\\b("+q.DateParser.hohour+"):("+q.DateParser.minsec+")\\s*"+q.DateParser.ampm+"\\b)|(?:\\b("+q.DateParser.hour+
"):("+q.DateParser.minsec+")(?:[:]("+q.DateParser.minsec+")(?:\\.(\\d+))?)?\\b)|(?:(?:^|\\s+)("+q.DateParser.hhour+")("+q.DateParser.fminsec+")\\s*"+q.DateParser.ampm+"?(?:\\s+|$))|(?:\\b("+q.DateParser.hohour+")\\s*"+q.DateParser.ampm+"\\b)|(?:\\b"+q.DateParser.daypart+"\\b))","i");B.Const.TWO_PI=6.283185307179586;B.Const.TO_DEGREE=57.29577951308232;B.Const.TO_RADIAN=0.017453292519943295;B.Const.LN10=2.302585092994046;p.LineInternals.arcOffset=-Math.PI/2;p.LineInternals.arcMax=2*Math.PI-1.0E-6;p.LineInternals._lineBasisBezier1=
[0,2/3,1/3,0];p.LineInternals._lineBasisBezier2=[0,1/3,2/3,0];p.LineInternals._lineBasisBezier3=[0,1/6,2/3,1/6];p.Symbol.sqrt3=Math.sqrt(3);p.Symbol.tan30=Math.tan(30*Math.PI/180);Ia.main()})();
