<!DOCTYPE html>
<html>
<head>
  <title>Rendering Service (v.@version)</title>
  <link rel="stylesheet" type="text/css" href="@baseurl@url.base('css/style.css')">
</head>
<body>
<h1>Rendering Service (v.@version)</h1>
<h2>Upload Options</h2>
<h3>HTML/Config</h3>
<ul class="bullet">
  <li>Upload using a form: <a href="@url.route({controller : "uploadForm", action : "display"})" class="tag">@baseurl@url.route({controller : "uploadForm", action : "display"})</a></li>
  <li>Upload using fa orm and display result: <a href="@url.route({controller : "uploadForm", action : "display", displayFormat : 'png' })" class="tag">@baseurl@url.route({controller : "uploadForm", action : "display", displayFormat : 'png' })</a></li>
  <li>Upload making a POST call to these services <span class="params">(parameters: html (string), ?config (ini or json string)</span>:
    <dl>
      <dt>HTML output:</dt>
      <dd>@baseurl@url.route({controller : "renderableAPI", action : "upload", outputformat : 'html'})</dd>
      <dt>JSON output:</dt>
      <dd>@baseurl@url.route({controller : "renderableAPI", action : "upload", outputformat : 'json'})</dd>
    </dl>
  </li>
  <li>Upload making a GET/POST call to these service <span class="params">(parameters: urlhtml (path to a html resource), ?urlconfig (path to a ini or json resource)</span>:
    <dl>
      <dt>HTML output:</dt>
      <dd>@baseurl@url.route({
        controller : "renderableAPI", action : "uploadFromUrl", outputformat : 'html',
        urlhtml : "http://example.com/chart.hml"
      })</dd>
      <dt>JSON output:</dt>
      <dd>@baseurl@url.route({
        controller : "renderableAPI", action : "uploadFromUrl", outputformat : 'json',
        urlhtml : "http://example.com/chart.hml"
      })</dd>
    </dl>
  </li>
</ul>
<h3>GIST</h3>
<ul class="bullet">
  <li>Upload GIST using a form: <a href="@url.route({controller : "uploadForm", action : "gist"})" class="tag">@baseurl@url.route({controller : "uploadForm", action : "gist"})</a></li>
  <li>Upload from GIST using these services:
    <dl>
      <dt>HTML output:</dt>
@{ var path = baseurl+url.route({controller : "gistUpload", action : "importGist", gistid : '1732325', outputformat : 'html'}); }
      <dd><a href="@path">@path</a></dd>
      <dt>JSON output:</dt>
@{ var path = baseurl+url.route({controller : "gistUpload", action : "importGist", gistid : '1732325', outputformat : 'json'}); }
      <dd><a href="@path">@path</a></dd>
    </dl>
  </li>
</ul>


<h2>Download</h2>
<dl class="bullet">
@{ var uid = sampleuid; }
@for(ext in ['html', 'json'])
{
  @{ var p = baseurl + url.route({ controller : "renderableAPI", action : "display", uid : uid, outputformat : ext}); }
  <dt>@ext.toUpperCase() Information:</dt>
  <dd><a href="@p">@p</a></dd>
}
</dl>

<h2>Status</h2>
<ul class="bullet">
  <li><a href="@url.route({ controller : 'setup', action : 'mongodb' })">DB</a></li>
  <li><a href="@url.route({ controller : 'setup', action : 'topRenderables' })">Renderables</a></li>
</ul>

<h2>Maintenance</h2>
<ul class="bullet">
  <li><a href="@url.route({ controller : 'setup', action : 'purgeCache' })">Purge Cache</a></li>
  <li><a href="@url.route({ controller : 'setup', action : 'clearCache' })">Clear Cache</a></li>
  <li><a href="@url.route({ controller : 'setup', action : 'purgeRenderables' })">Purge Unused Renderables</a></li>
  <li><a href="@url.route({ controller : 'setup', action : 'purgeExpiredRenderables' })">Purge Expired Renderables</a></li>
</ul>


<h2>Setup</h2>
<ul class="bullet">
  <li><a href="@url.route({ controller : 'setup', action : 'createCollections' })">Create Collections</a></li>
  <li><a href="@url.route({ controller : 'setup', action : 'dropCollections' })">Drop Collections</a></li>
  <li><a href="@url.route({ controller : 'setup', action : 'dropCache' })">Drop Cache</a></li>
  <li><a href="@url.route({ controller : 'setup', action : 'dropRenderables' })">Drop Renderables</a></li>
  <li><a href="@url.route({ controller : 'setup', action : 'info' })">PHP Info</a></li>
</ul>


</body>
</html>