<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>SnapEngage</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="language" content="en" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<link rel="stylesheet" type="text/css" href="http://api.reportgrid.com/css/rg.css"/>
	<script src="http://api.reportgrid.com/js/reportgrid-core.js?tokenId=87984064-827D-4C42-8BAF-42A748BA6DCA"></script>
	<script src="../../js/reportgrid-viz.js"></script>
<!--
	<script src="http://api.reportgrid.com/js/reportgrid-viz.js"></script>
-->
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(){

	var path = "/se12014/timzon-snapabug-widget/",
		start = 1322179200000,
		end = "now",
		respondedLabels = {},
		agentPath = "";
/*
	ReportGrid.leaderBoard("#referrerlegend", {
        path : path, event : "case", start : start, end : end, periodicity : "eternity",
        property : "referrerUrl",
        options : {
            label : { 
                datapointover : function(dp, stats) { return ReportGrid.format(Math.round(1000 * dp.count / stats.tot) / 10, "P:1"); },
                datapoint : function(dp, stats) { return respondedLabels[dp[".referrerUrl"]] + ": " + ReportGrid.format(dp.count); }
            }
        }
    });
*/
 	var respBinValues = ["< 5 sec", "< 10 sec", "< 15 sec", "< 20 sec", "< 30 sec", "< 45 sec", "< 60 sec", "< 90 sec", "< 2 min", "> 2 min"];
    ReportGrid.barChart("#response1", {
        axes : [{
            type : ".chatResponseTimeBin",
            values : respBinValues
        }, {
            type : "count"
        }],
        data : {
            src : {
                path : path+agentPath,
                event : "case",
                query : ".chatResponseTimeBin * .sourceType = 1",
                start : start,
                end : end
            }
        },
        options : {
            label : {
                datapointover : function(dp) { return "Count : " + ReportGrid.format(dp["count"]); }
            }
        }
    });

 ReportGrid.barChart("#response2", {
        axes : [{
            type : ".chatResponseTimeBin",
            values : respBinValues
        }, {
            type : "count"
        }],
        data : {
            src : {
                path : path+agentPath,
                event : "case",
                query : ".chatResponseTimeBin * .sourceType = 2",
                start : start,
                end : end
            }
        },
        options : {
            label : {
                datapointover : function(dp) { return "Count : " + ReportGrid.format(dp["count"]); }
            }
        }
    });

 ReportGrid.barChart("#response", {
        axes : [{
            type : ".chatResponseTimeBin",
            values : respBinValues
        }, {
            type : "count"
        }],
        data : {
            src : {
                path : path+agentPath,
                event : "case",
                query : ".chatResponseTimeBin",
                start : start,
                end : end
            }
        },
        options : {
            label : {
                datapointover : function(dp) { return "Count : " + ReportGrid.format(dp["count"]); }
            }
        }
    });
 
/*
	ReportGrid.barChart("#chart", { path : path, event : "case", property : "browser",
//		options : { stacked : false }
	});
*/
/*
	ReportGrid.pieChart("#chart", { path : path, event : "case", property : "browser",
		options : { 
			  effect : "noeffect"
//			, click : function(dp) { alert(ReportGrid.dump(dp)); }
		}
	});
*/
});
</script>
</head>
<body>
	<div id="referrerlegend"></div>
	<div id="response1"></div>
	<div id="response2"></div>
	<div id="response"></div>
</body>
</html>